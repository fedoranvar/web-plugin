(function(){"use strict";var W=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B={exports:{}};(function(r,e){(function(t,s){s(r)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:W,function(t){var s,i;if(!((i=(s=globalThis.chrome)==null?void 0:s.runtime)!=null&&i.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const n="The message port closed before a response was received.",a=o=>{const l={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(l).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class p extends WeakMap{constructor(d,h=void 0){super(h),this.createItem=d}get(d){return this.has(d)||this.set(d,this.createItem(d)),super.get(d)}}const f=c=>c&&typeof c=="object"&&typeof c.then=="function",_=(c,d)=>(...h)=>{o.runtime.lastError?c.reject(new Error(o.runtime.lastError.message)):d.singleCallbackArg||h.length<=1&&d.singleCallbackArg!==!1?c.resolve(h[0]):c.resolve(h)},u=c=>c==1?"argument":"arguments",C=(c,d)=>function(m,...y){if(y.length<d.minArgs)throw new Error(`Expected at least ${d.minArgs} ${u(d.minArgs)} for ${c}(), got ${y.length}`);if(y.length>d.maxArgs)throw new Error(`Expected at most ${d.maxArgs} ${u(d.maxArgs)} for ${c}(), got ${y.length}`);return new Promise((b,w)=>{if(d.fallbackToNoCallback)try{m[c](...y,_({resolve:b,reject:w},d))}catch(g){console.warn(`${c} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,g),m[c](...y),d.fallbackToNoCallback=!1,d.noCallback=!0,b()}else d.noCallback?(m[c](...y),b()):m[c](...y,_({resolve:b,reject:w},d))})},E=(c,d,h)=>new Proxy(d,{apply(m,y,b){return h.call(y,c,...b)}});let k=Function.call.bind(Object.prototype.hasOwnProperty);const $=(c,d={},h={})=>{let m=Object.create(null),y={has(w,g){return g in c||g in m},get(w,g,x){if(g in m)return m[g];if(!(g in c))return;let A=c[g];if(typeof A=="function")if(typeof d[g]=="function")A=E(c,c[g],d[g]);else if(k(h,g)){let P=C(g,h[g]);A=E(c,c[g],P)}else A=A.bind(c);else if(typeof A=="object"&&A!==null&&(k(d,g)||k(h,g)))A=$(A,d[g],h[g]);else if(k(h,"*"))A=$(A,d[g],h["*"]);else return Object.defineProperty(m,g,{configurable:!0,enumerable:!0,get(){return c[g]},set(P){c[g]=P}}),A;return m[g]=A,A},set(w,g,x,A){return g in m?m[g]=x:c[g]=x,!0},defineProperty(w,g,x){return Reflect.defineProperty(m,g,x)},deleteProperty(w,g){return Reflect.deleteProperty(m,g)}},b=Object.create(c);return new Proxy(b,y)},F=c=>({addListener(d,h,...m){d.addListener(c.get(h),...m)},hasListener(d,h){return d.hasListener(c.get(h))},removeListener(d,h){d.removeListener(c.get(h))}}),oe=new p(c=>typeof c!="function"?c:function(h){const m=$(h,{},{getContent:{minArgs:0,maxArgs:0}});c(m)}),H=new p(c=>typeof c!="function"?c:function(h,m,y){let b=!1,w,g=new Promise(I=>{w=function(D){b=!0,I(D)}}),x;try{x=c(h,m,w)}catch(I){x=Promise.reject(I)}const A=x!==!0&&f(x);if(x!==!0&&!A&&!b)return!1;const P=I=>{I.then(D=>{y(D)},D=>{let M;D&&(D instanceof Error||typeof D.message=="string")?M=D.message:M="An unexpected error occurred",y({__mozWebExtensionPolyfillReject__:!0,message:M})}).catch(D=>{console.error("Failed to send onMessage rejected reply",D)})};return P(A?x:g),!0}),le=({reject:c,resolve:d},h)=>{o.runtime.lastError?o.runtime.lastError.message===n?d():c(new Error(o.runtime.lastError.message)):h&&h.__mozWebExtensionPolyfillReject__?c(new Error(h.message)):d(h)},j=(c,d,h,...m)=>{if(m.length<d.minArgs)throw new Error(`Expected at least ${d.minArgs} ${u(d.minArgs)} for ${c}(), got ${m.length}`);if(m.length>d.maxArgs)throw new Error(`Expected at most ${d.maxArgs} ${u(d.maxArgs)} for ${c}(), got ${m.length}`);return new Promise((y,b)=>{const w=le.bind(null,{resolve:y,reject:b});m.push(w),h.sendMessage(...m)})},ce={devtools:{network:{onRequestFinished:F(oe)}},runtime:{onMessage:F(H),onMessageExternal:F(H),sendMessage:j.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:j.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},L={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return l.privacy={network:{"*":L},services:{"*":L},websites:{"*":L}},$(o,ce,l)};t.exports=a(chrome)}else t.exports=globalThis.browser})})(B);var S=B.exports;class J{constructor(){this.secToken=[],this.started=!1,this.orgId="",this.certificationAuthority=!1,this.esiaOrgInfo=!1,console.log("Init Token")}uintToString(e){var t=String.fromCharCode.apply(null,e),s=decodeURIComponent(escape(t));return s}parseToken(e){e.method=="POST"&&e.requestHeaders&&e.requestHeaders.forEach(t=>{if(t.name=="Authorization"){var s=t.value.replace(/^Bearer\s+/,"");this.setToken(s)}t.name=="orgId"&&this.setOrgId(t.value)})}parseOrganData(e){switch(e.method){case"POST":if(e.url.includes("/api/v1/rds/common/applications")&&e.requestBody.raw.length){var t=JSON.parse(this.uintToString(new Uint8Array(e.requestBody.raw[0].bytes)));this.certificationAuthority||S.storage.local.set({certificationAuthority:JSON.stringify(t.certificationAuthority)})}break}}setOrgId(e){this.orgId!=e&&(this.orgId=e,S.storage.local.set({orgId:e}))}setToken(e){console.log("token :>> ",e,!this.secToken.some(t=>t==e)),e&&(this.secToken.some(t=>t==e)||(this.secToken.push(e),S.storage.local.set({fgisToken:e})))}getOrgId(){return this.orgId}getToken(){return this.secToken.length?this.secToken[this.secToken.length-1]:""}start(){if(!this.started){this.started=!0;var e=["*://10.250.74.17/*","*://srd.fsa.gov.ru/*"];S.webRequest.onBeforeSendHeaders.addListener(this.parseToken.bind(this),{urls:e},["requestHeaders"]),S.webRequest.onBeforeRequest.addListener(this.parseOrganData.bind(this),{urls:e},["requestBody"]),this.setToken(S.storage.local.get("fgisToken"))}}checkToken(){if(this.token.getToken()=="")throw"Нет токена. Залогиньтесь в 10.250.74.17, srd.fsa.gov.ru"}}class Z{constructor(e,t,s,i,n,a){this.advance=e,this.method=t,this.url=s,this.params=i,this.returnType=n,this.description=a}fetch(...e){return this.advance.fetch(this,...e)}}class z{constructor(e,t,s){try{this.agency_code=e.agency_code,this.agency_keyword=e.agency_keyword,this.document_token=e.document_token||null,this.apiVersion=this.document_token?3:2,this.domain=t,this.Endpoint=({method:i,url:n,params:a,returnType:o,description:l})=>new Z(this,i,n,a,o,l),this.advance_type=s,this.repeatCount=0,this.currentUserId=0,this.maxRepeat=5,this.miss_throw=!1,this.data={agencyData:{method:"GET",url:`/api/v${this.apiVersion}/fgis/agency/data`},experts:{method:"GET",url:`/api/v${this.apiVersion}/fgis/agency/experts`},getCurrentUserId:{method:"GET",url:"/Account/GetCurrentUserId",noKeys:!0}},this.statement={queue:{method:"GET",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/statement/queue`},show:{method:"GET",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/statement/show/{id}`,params:["id"]},init:{method:"PUT",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/statement/init/{id}`,params:["id"],description:"user_id"},get_url:{method:"GET",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/statement/url/{id}`,params:["id"]},set_url:{method:"PUT",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/statement/set_url`},get_state:{method:"GET",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/statement/status/{id}`,params:["id"]},set_status:{method:"PUT",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/statement/set_status`,description:`id - идентификато документа
                                  user_id - идентификатор пользователя
                                  status - статус репликации
                                  Коды статусов репликации:
                                  Не установлен - NotSet
                                  Готово к выгрузке - ReadyToUpload
                                  Выгружается - Uploading
                                  Ошибка выгрузки - UploadError
                                  Выгружено - Uploaded
                                  Подписывается - Signing
                                  Ошибка подписи - SignError
                                  Подписано - Signed`}},this.document={show:{method:"GET",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/document/show/{id}`,params:["id"]},download_archive:{method:"GET",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/document/download/{id}`,params:["id"]},get_protocols:{method:"GET",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/document/{id}/protocols`,params:["id"]},get_file_protocol:{method:"GET",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/document/{id}/protocols/files/{fileId}`,params:["id","fileId"],returnType:"blob"},put_file_protocol:{method:"PUT",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/document/{id}/protocols/files/{fileId}/set_id`,params:["id","fileId"],description:"fgis_file_id - идентификатор загруженного файла протокола во ФГИС сохраняет идентификатор ФГИС файла протокола"},get_document_files:{method:"GET",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/document/{id}/applicant/files`,params:["id"]},get_file_document:{method:"GET",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/document/{id}/applicant/file/{fileId}`,params:["id","fileId"],returnType:"blob"},put_file_document:{method:"PUT",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/document/{id}/applicant/file/{fileId}/set_id`,params:["id","fileId"],description:"fgis_file_id - идентификатор загруженного файла протокола во ФГИС сохраняет идентификатор ФГИС файла протокола"},init:{method:"PUT",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/document/init/{id}`,params:["id"]},get_state:{method:"GET",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/document/status/{id}`,params:["id"]},set_status:{method:"PUT",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/document/set_status`,description:`id - идентификато документа
                                    user_id - идентификатор пользователя
                                    status - статус репликации
                                    Коды статусов репликации:
                                    Не установлен - NotSet
                                    Готово к выгрузке - ReadyToUpload
                                    Выгружается - Uploading
                                    Ошибка выгрузки - UploadError
                                    Выгружено - Uploaded
                                    Подписывается - Signing
                                    Ошибка подписи - SignError
                                    Подписано - Signed`},last:{method:"GET",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/document/last`},blanks:{method:"GET",url:`/api/v${this.apiVersion}/fgis/STREA/document/blanks/{id}`,params:["id"]}},["product_doc","other_doc","conclusion_doc","sampling_doc","qms_doc","act_doc","cert_doc","transport_doc","cert_type_doc","project_doc","un_rules_doc","concl_expert_doc","test_protocol_doc","contract_doc","decision_doc","cert_other_doc"].forEach(i=>{this.document[i]=this.generate_files_endpoints(i)}),console.log("Advance :>> ",this)}catch(i){console.log("Advance err :>> ",i)}}generate_files_endpoints(e){return{get_list:this.Endpoint({method:"GET",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/document/{id}/${e}/files`,params:["id"]}),get_file:this.Endpoint({method:"GET",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/document/{id}/${e}/file/{fileId}`,params:["id","fileId"],returnType:"blob"}),put_file_info:this.Endpoint({method:"PUT",url:`/api/v${this.apiVersion}/fgis/${this.advance_type}/document/{id}/${e}/file/{fileId}/set_id`,params:["id","fileId"],description:"fgis_file_id - идентификатор загруженного файла протокола во ФГИС сохраняет идентификатор ФГИС файла протокола"})}}async getCurrentUserId(){if(console.log("currentUserId",this.currentUserId),this.currentUserId)return this.currentUserId;{let e=await this.fetch(this.data.getCurrentUserId);return e&&(this.currentUserId=e),e}}ownException(e){throw e+=`Ошибка в адвансе!\r
`,console.log(e),e}async fetch_with_timeout(e,t,s=3e4){console.log("Start fetch_with_timeout. TimeOut:",s);var i=new AbortController;i.signal;var n=new Promise(function(o,l){setTimeout(()=>{i.abort(),l("Out timeout end")},s)}),a=new Promise(function(o,l){fetch(e,t).then(p=>o(p)).catch(p=>l(p))});return Promise.race([n,a])}fetch(e,t={body:null,params:{}},s=!0,i=!1){i==!1?this.repeatCount=1:this.repeatCount++;try{if(!this.document_token&&!this.agency_code)throw"Не указан ключ agency_code";if(!this.document_token&&!this.agency_keyword)throw"Не указан ключ agency_keyword";let n=e.url;if(e.params){if(!t.hasOwnProperty("params"))return this.ownException("Для этого запроса обязательны параметры.");e.params.forEach(f=>{if(!t.params.hasOwnProperty(f))return this.ownException(`Кажется вы забыли указать обязательный параметр.
                        ${n}
                        Нужны: ${e.params.toString()}
                        Пришли: ${t.params.toString()}
                        `);n=n.replace(`{${f}}`,t.params[f])})}let a=new URL(n,this.domain),o=new FormData,l={method:e.method,credentials:"include"};if(t.body){if(!Array.isArray(t.body))return this.ownException("Body должен быть array!");t.body.forEach(f=>{o.set(f.name,f.value)})}switch(e.method){case"GET":this.document_token?a.searchParams.set("document_token",this.document_token):(a.searchParams.set("agency_code",this.agency_code),a.searchParams.set("agency_keyword",this.agency_keyword));break;case"PUT":this.document_token?o.set("document_token",this.document_token):(o.set("agency_code",this.agency_code),o.set("agency_keyword",this.agency_keyword)),l.body=o;break;case"POST":this.document_token?o.set("document_token",this.document_token):(o.set("agency_code",this.agency_code),o.set("agency_keyword",this.agency_keyword)),l.body=o;break}return console.log("Fgis fetch",a.href,e.noObjResp),(e.hasOwnProperty("timeOut")?this.fetch_with_timeout(a.href,l,e.timeOut):fetch(a.href,l)).then(f=>{if(f.status!=200)throw"Cервер не отвечает"+f;return e.returnType&&e.returnType=="blob"&&f.headers.get("Content-Type")=="text/html"?f.blob():f.json().then(_=>{if(console.log(_),e==this.data.getCurrentUserId)return _;if(_.status=="error")throw this.miss_throw=!0,`Статус error.\r
`+_.message;if(_.status!="success")throw`Неизвестный статус!.\r
`+_.message;return _.data})}).catch(f=>{let _=e.hasOwnProperty("maxRepeat")?e.maxRepeat:this.maxRepeat;if(s&&this.maxRepeat>=this.repeatCount&&!this.miss_throw){console.log("It was repeat",this.repeatCount,"/",_);let u=this;return new Promise(function(C,E){setTimeout(function(){u.fetch(e,t,s,!0).then(k=>C(k)).catch(k=>{E(k)})},1e3)})}else return this.ownException(f)})}catch(n){return console.log("Ошибка в конструкции fetch в Advance",n),this.ownException("Ошибка в конструкции fetch в Advance",n)}}}function T(r){throw console.error(r),r}function G(r){r!=="declarations"&&r!=="applications"&&T("Не известный mode в class Sign.")}class q{constructor(e,t,s,i,n){G(s),this.ids=e,this.mode=s,this.fgis=t,this.settings=i,this.blanks=n,this.signTypeName=this._getSignTypeName(),this.createSignedFileBody=this._getCreateSignedFileBody(),this.logData={},this.sign={registrateBlanks:{method:"POST",url:"api/v1/rss/common/blanks/ids",repeat:!0,maxRepeat:5,timeOut:6e4},createSignedFile:{method:"POST",url:`api/v1/${this.fgis.fgisType}/common/${this.signTypeName}/createSignedFile`,body:this.createSignedFileBody,repeat:!0,maxRepeat:5,timeOut:6e4},createsignui:{method:"POST",url:"/api/v1/storage/common/signop/createsignui",repeat:!0,maxRepeat:5,timeOut:6e4}}}_getCreateSignedFileBody(){if(this.fgis.fgisType=="rss"&&this.mode=="declarations")return this.blanks;if(this.fgis.fgisType=="rds"||this.fgis.fgisType=="rss"||this.fgis.fgisType=="srd")return{ids:this.ids,verifySignature:!0};T("Не известный _getCreateSignedFileBody")}_getSignTypeName(){if(this.mode=="applications")return"applications";if(this.fgis.fgisType=="rds"||this.fgis.fgisType=="srd")return"declarations";if(this.fgis.fgisType=="rss")return"certificates";T("Не известный _getSignTypeName")}start(){return this.createSignedFile().then(()=>this.createsignui()).then(()=>this.signDocument())}createSignedFile(){var e=this;function t(a){if(e.fgis.fgisType=="rds"||e.fgis.fgisType=="srd")return a;if(e.fgis.fgisType=="rss")return e.mode=="declarations"?{items:[a]}:{items:a};T("Не может спарсить результат в _parseRes, "+e.fgis.fgisType)}function s(a,o){let l=a.annexBlanks.find(p=>p.number==Number(o));return l?l.id:1}var i;if(this.fgis.fgisType=="rss"&&this.mode=="declarations"){console.log("this.sign.createSignedFile.body :>> ",this.sign.createSignedFile.body);var n=[];this.sign.createSignedFile.body.annexes.forEach(a=>{a.annexBlanks.forEach(o=>{n.push(Number(o.blankNumber))})}),i=this.fgis.fetch(this.sign.registrateBlanks,{body:{certificateBlankNumber:this.sign.createSignedFile.body.blankNumber,annexBlankNumbers:n}}).then(a=>(this.sign.createSignedFile.body.idBlank=a.certificateBlank.id,console.log("blanksWithIds :>> ",a),this.sign.createSignedFile.body.annexes.forEach(o=>{o.annexBlanks.forEach(l=>{l.idBlank=s(a,l.blankNumber)})}),this.fgis.fetch(this.sign.createSignedFile,{body:this.sign.createSignedFile.body})))}else i=this.fgis.fetch(this.sign.createSignedFile,{body:this.sign.createSignedFile.body});return i.then(a=>{this.logData.createSignedFile={body:this.sign.createSignedFile.body,response:t(a)}})}createsignui(){var e=this.logData.createSignedFile.response.items.map(s=>s.idFile),t={clientSigningMode:"Batch",fileIds:e,returnUrl:""};return this.fgis.fetch(this.sign.createsignui,{body:t}).then(s=>{this.logData.createsignui={body:t,response:s}})}signDocument(){awaitMessage.push({url:this.logData.createsignui.response.url,command:"loaded",responce:{command:"start",operationId:this.logData.createsignui.response.operationId,currentCertificate:{Index:parseInt(this.settings.indexCertif),Algorithm:parseInt(this.settings.algorithm)},pinCode:this.settings.pwdCertif}});var e,t=this;function s(){return t.fgis.fetch(t.fgis.sign.updatestate,{params:{id:t.logData.createsignui.response.operationId}})}function i(){return t.fgis.fetch(t.fgis.sign.collectsignatures,{params:{id:t.logData.createsignui.response.operationId}})}function n(){return t.fgis.fetch(t.fgis.sign.signaturesinfo,{params:{fileId:t.logData.createSignedFile.response.items[0].idFile}})}return S.tabs.create({url:this.logData.createsignui.response.url,active:!1}).then(a=>e=a).then(()=>this.checkMessage(this.logData.createsignui.response.url)).then(()=>s()).then(()=>i()).then(()=>n()).then(()=>{var a;switch(this.mode){case"declarations":a=this.fgis.fetch(this.fgis.sign.dsSend,{body:this.createSignedFileBody});break;case"applications":a=this.fgis.fetch(this.fgis.sign.send,{body:this.createSignedFileBody});break}return a}).finally(()=>{S.tabs.remove([e.id])})}checkMessage(e){var t=0;return new Promise((s,i)=>{var n=function(){var a=stateMessage.find(l=>l.command=="signDone"&&l.url==e);if(a)return stateMessage=stateMessage.filter(l=>l.command!=="signDone"&&l.url!==e),s();var o=stateMessage.find(l=>l.command=="signError"&&l.url==e);o&&i("ФГИС сломался : "+o.msg),t>=90?i("Превышен лимит ожидания подписи"):(t+=1,setTimeout(n,1e3))};n()})}}class X{constructor({token:e,advance:t,mode:s,settings:i,fgisType:n}){G(s),this.token=e,this.advance=t,this.mode=s,this.settings=i,this.fgisType=n,this.maxRepeat=5,this.repeatCount=1,this.pub_document_type=this._get_pub_document_type(this.fgisType),this.sub_type_name=this._get_sub_type_name(this.fgisType),this.domain=this._get_domain(this.fgisType),this.full_url_pattern=this._get_full_url_pattern(this.fgisType),this.document_url=this._get_document_url(this.domain,this.fgisType,this.full_url_pattern),this.agencyData=n=="srd"?!1:this.getOrganData(),this.headers=new Headers,this.statement_url=`${this.domain}/${this.fgisType}/application/view/`,this.pub_document_url=`https://pub.fsa.gov.ru/${this.pub_document_type}/${this.full_url_pattern}/view/`,this.sign={updatestate:{method:"POST",url:"/api/v1/storage/common/signop/{id}/updatestate",params:["id"],repeat:!0,maxRepeat:10},collectsignatures:{method:"POST",url:"/api/v1/storage/common/signop/{id}/collectsignatures",params:["id"],repeat:!0,maxRepeat:10,noObjResp:!0},signaturesinfo:{method:"GET",url:"/api/v1/storage/common/files/{fileId}/signaturesinfo",params:["fileId"],repeat:!0,maxRepeat:10},send:{method:"POST",url:`/api/v1/${this.fgisType}/common/applications/send`,repeat:!0,maxRepeat:10,timeOut:3e4},dsSend:{method:"POST",url:`/api/v1/${this.fgisType}/common/${this.sub_type_name}/publish`,repeat:!0,maxRepeat:10,timeOut:3e4}},this.statement={init:{errName:"this.statement.init",method:"POST",url:`/api/v1/${this.fgisType}/common/applications/draft`,repeat:!0,maxRepeat:10,errfun:this.statement_init_errfun},get:{method:"GET",url:`/api/v1/${this.fgisType}/common/applications/{id}`,params:["id"],repeat:!0,maxRepeat:10,timeOut:3e4},post:{method:"POST",url:`/api/v1/${this.fgisType}/common/applications/{id}`,params:["id"],repeat:!0,maxRepeat:5,noObjResp:!0}},this.document={init:{method:"POST",url:`/api/v1/${this.fgisType}/common/${this.sub_type_name}/draft`,repeat:!0,maxRepeat:10},loadFile:{method:"POST",url:"/api/v1/storage/common/files",bodyType:"FormData",repeat:!0,maxRepeat:10,timeOut:3e4},get:{method:"GET",url:`/api/v1/${this.fgisType}/common/${this.sub_type_name}/{id}`,params:["id"],repeat:!0,maxRepeat:10,timeOut:1e4},post:{method:"POST",url:`/api/v1/${this.fgisType}/common/${this.sub_type_name}/{id}`,params:["id"],repeat:!0,maxRepeat:5,noObjResp:!0}},this.errorBook={},console.log("Fgis :>> ",this)}_get_document_url(e,t,s){switch(t){case"rds":case"rss":return`${e}/${t}/${s}/view/`;case"srd":return`${e}/${t}/view/`;default:T("Не известный document_url.")}}_get_domain(e){switch(e){case"rds":case"rss":return"http://10.250.74.17";case"srd":return"https://srd.fsa.gov.ru";default:T("Не известный domain.")}}_get_full_url_pattern(e){switch(e){case"rss":return"certificate";case"srd":case"rds":return"declaration";default:T("Не известный full_url_pattern.")}}_get_pub_document_type(e){switch(e){case"rds":case"srd":return"rds";case"rss":return"rss";default:T("Не известный pub_document_type.")}}_get_sub_type_name(e){switch(e){case"rds":case"srd":return"declarations";case"rss":return"certificates";default:T("Не известный sub_type_name.")}}random_uuid(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}fetchErrParser(e,t,s){switch(e.errName){case"this.statement.init":break;default:return t}}getOrganData(){return this.advance.fetch(this.advance.data.agencyData).then(e=>e)}signFile(e=[],t="",s={}){(!Array.isArray(e)||e.length==0)&&T(`Пустой список документов для подписания: ${e}`);var i=new q(e,this,t||this.mode,this.settings,s);return i.start()}setHeaders(e){switch(e){case"rds":case"rss":return this.agencyData.then(t=>{this.headers.set("Accept","application/json, text/plain, */*"),this.headers.set("Authorization","Bearer "+this.token.getToken()),this.headers.set("Pragma","no-cache"),this.headers.set("Content-Type","application/json"),this.headers.set("lkId",5),this.headers.set("orgId",t.orgId)});case"srd":return Promise.resolve().then(()=>{this.headers.set("Accept","application/json, text/plain, */*"),this.headers.set("Authorization","Bearer "+this.token.getToken()),this.headers.set("Pragma","no-cache"),this.headers.set("Content-Type","application/json"),this.headers.set("lkId",null),this.headers.set("orgId",null)})}}ownException(e){T(`Ошибка во Фгис!. Текст:\r
`+e)}async fetch_with_timeout(e,t,s=3e4){s=Number(s);var i=new AbortController;i.signal;var n=new Promise(function(o,l){setTimeout(()=>{i.abort(),l({result:"Превышен лимит ожидания",msg:"Превышен лимит ожидания"})},s)}),a=new Promise(function(o,l){fetch(e,t).then(p=>o(p)).catch(p=>l(p))});return Promise.race([n,a])}fetch(e,t={body:{},params:{}},s=!1,i=!1,n=!1){try{i==!1?this.repeatCount=1:this.repeatCount++,n?n=n+"_fgis_fetch_"+this.repeatCount:n=this.random_uuid()+"_fgis_fetch_"+this.repeatCount;var a=e.hasOwnProperty("maxRepeat")?e.maxRepeat:this.maxRepeat;return this.setHeaders(this.fgisType).then(()=>{var o=e.url;if(e.params){if(!t.hasOwnProperty("params"))return this.ownException("Для этого запроса обязательны параметры.");e.params.forEach(u=>{if(!t.params.hasOwnProperty(u))return this.ownException(`Кажется вы забыли указать обязательный параметр.
                        ${o}
                        Нужны: ${e.params.toString()}
                        Пришли: ${t.params.toString()}
                        `);o=o.replace(`{${u}}`,t.params[u])})}var l=new URL(o,this.domain),p={method:e.method,credentials:"include",headers:this.headers};switch(e.method){case"POST":e.bodyType&&e.bodyType=="FormData"?(p.body=t.body,p.headers.delete("Content-Type")):p.body=JSON.stringify(Object.assign({},t.body));break}var f=e.hasOwnProperty("timeOut");console.info("--- %s --- Fgis fetch %s / %s : ",n,this.repeatCount,a,l.href,e,t,"timeOut : ",f);var _=e.hasOwnProperty("timeOut")?this.fetch_with_timeout(l.href,p,e.timeOut):fetch(l.href,p);return _.then(u=>u.json().catch(C=>{switch(u.status){case 500:case 502:throw{result:u,msg:"(JSON) Сервис не работает."};case 401:case 403:throw{result:u,msg:"(JSON) Отказано в доступе. Проверьте авторизацию."};case 200:return{};default:throw{result:u,msg:`(JSON) Не известный код ошибки ( status :${u.status}): ${JSON.stringify(u)}`}}})).then(u=>{if(u.status)switch(u.status){default:if(u.status>205)throw{result:u,msg:`Не известная ошибка запроса ( status :${u.status}): ${u.message}`}}if(u.code)switch(u.code){case 401:case 400:throw{result:u,msg:u.description};default:throw{result:u,msg:`Не известная ошибка запроса ( code: ${u.code}): ${u.message?u.message:JSON.stringify(u)}`}}return console.info("--- %s --- Fgis fetch result ",n,u),u}).then(u=>{if(!e.noObjResp&&!Object.keys(u).length&&!u.code&&!u.status)throw{result:u,msg:`Не известная ошибка запроса. Предпологается пустой объект ( obj: ${JSON.stringify(u)})`};return u}).catch(u=>{console.warn("--- %s --- Fgis fetch error ",n,u.result);var C=u.msg;if((s||e.hasOwnProperty("repeat")&&e.repeat)&&a>=this.repeatCount){var E=this;return new Promise(function(k,$){setTimeout(function(){return E.fetch(e,t,s,!0,n).then(F=>k(F)).catch(F=>{$(F)})},1e3)})}else return this.ownException(C)})})}catch(o){return console.error("Ошибка в конструкции fetch в Fgis",o),this.ownException("Ошибка в конструкции fetch в Fgis",o)}}}class Y{constructor(e,t,s,i){this.id=e,this.advance=t,this.fgis=s,this.isTest=i.isTest,this.advanceObj={},this.idApplication="",this.appSubmissionDate="",this.idStatus="",this.log=[],this.uuid=this.random_uuid(),console.log("constructot Statement init with uuid :"+this.uuid)}checkSign(e){return Promise.resolve().then(()=>this.fgis.fetch(this.fgis.statement.get,{params:{id:e}}).then(t=>{if(t.idStatus&&t.idStatus==13)return this.initAdvance(t.idApplication,t.applicationSubmissionDate,t.idStatus).catch(s=>{console.log(s)}).finally(()=>this.markAdvance("Signed"))}))}sign(){return this.markAdvance("Signing").then(()=>this.advance.fetch(this.advance.statement.show,{params:{id:this.id}})).then(e=>{let t;if(!e.idApplication)throw"Заявление не привязано к Адвансу.";if(e.idStatus&&e.idStatus==13)throw"Заявление уже подписано! (по статусу Адванс)";return t=this.checkSign(e.idApplication).then(()=>e.idApplication),t}).then(e=>this.fgis.signFile([e],"applications")).then(()=>this.markAdvance("Signed")).then(()=>({done:!0})).catch(e=>(console.log("something wrong in statement sign",e),e=="Заявление уже подписано! (по статусу Адванс)"?this.markAdvance("Signed"):this.markAdvance("SignError",e).then(()=>{throw e})))}logState(e,t){console.log("Statement:",e,JSON.parse(JSON.stringify(t)))}getList(){var e=this.locationOrigin+a_statement_api.queue.url+"?"+this.api_key;return fetch(e,{method:a_statement_api.queue.method,credentials:"include"}).then(t=>t.json()).then(t=>console.log(t))}workFlow(e=!1,t=!1){return this.advance.fetch(this.advance.statement.get_state,{params:{id:this.id}}).then(s=>{let i;switch(s){case"NotSet":console.log("Statement not ready to upload");break;case"ReadyToUpload":console.log("Statement ready to upload"),i=this.save().then(()=>this.workFlow(e=!0));break;case"Uploading":console.log("Statement in Uploading");break;case"UploadError":console.log("Statement upload UploadError"),e||(i=this.save().then(()=>this.workFlow(e=!0)));break;case"Uploaded":if(console.log("Statement Uploaded done"),t)return{is_need_Signing:this.id};i=this.sign().then(()=>this.workFlow(e=!1));break;case"Signing":console.log("Statement in Signing");break;case"SignError":console.log("Statement Signing SignError"),e||(i=this.save().then(()=>this.workFlow(e=!0)));break;case"Signed":console.log("Statement Signed done");break;default:return{done:!0}}return i})}save(){return console.log("save :>> "),this.markAdvance("Uploading").then(()=>this.showAdvance()).then(()=>this.saveStatementToFgis()).then(()=>this.initAdvance()).then(()=>this.markAdvance("Uploaded")).then(()=>this.done()).catch(e=>{throw console.log("something wrong in statement save",e),this.markAdvance("UploadError",e),e})}getStatement(e){return this.logState("save",this),this.fgis.fetch(this.fgis.statement.get,{params:{id:e}})}updateStatement(e=""){return console.log("Statement updateStatement"),this.advance.fetch(this.advance.statement.show,{params:{id:this.id}}).then(t=>{if(t.idApplication)return e||(e=t.idApplication),this.getStatement(e);throw"Заявление еще не было загруженно."}).then(t=>(console.log(t),this.initAdvance(t.idApplication,t.appSubmissionDate,t.idStatus)))}done(e={done:!0}){return console.log("Statement done",e),e}showAdvance(){return console.log("Statement showAdvance",this),this.advance.fetch(this.advance.statement.show,{params:{id:this.id}}).then(e=>{this.advanceObj=e,this.isTest&&(this.advanceObj.number=(Math.floor(Math.random()*99999)+1).toString()+"/Т"),this.advanceObj.idStatus=20})}markAdvance(e,t=""){return this.advance.getCurrentUserId().then(s=>{let i=[{name:"id",value:this.id},{name:"user_id",value:s},{name:"status",value:e},{name:"message",value:t}];return this.advance.fetch(this.advance.statement.set_status,{body:i})})}initAdvance(e,t,s){return this.advance.getCurrentUserId().then(i=>{this.user_id=i,e||(e=this.idApplication),t||(t=""),s||(s="");let n=[{name:"idApplication",value:e},{name:"statement_url",value:this.fgis.statement_url+e+"/application"},{name:"applicationSubmissionDate",value:t},{name:"idStatus",value:s},{name:"user_id",value:this.user_id}];return this.advance.fetch(this.advance.statement.init,{body:n,params:{id:this.id}}).then(a=>{console.log(a)})})}test(){return[{idProduct:null,idProductOrigin:"840",fullName:"Комплексы вычислительные электронные цифровые: программно-аппаратный комплекс11111 ",marking:null,usageScope:null,storageCondition:'Условия хранения продукции в соответствии с ГОСТ 15150-69 "Машины, приборы и другие технические изделия. Исполнения для различных климатических районов. Категории, условия эксплуатации, хранения и транспортирования в части воздействия климатических факторов внешней среды". Срок хранения (службы, годности) указан в прилагаемой к продукции товаросопроводительной и/или эксплуатационной документации2222',usageCondition:null,batchSize:null,batchId:null,identification:null,identifications:[{idIdentification:6768264,annex:!1,name:"Teradata Intelliflex 1.1. Ð°ÑÑÐ¸ÐºÑÐ» 9185-1100-8090, Teradata 2800 (BAR) Data Warehouse Appliance, Ð°ÑÑÐ¸ÐºÑÐ» 9190-Ð¢004-8090 (9190-T010-8090, 9190-T011-8090), Teradata Multipurpose Server (TMS) 8-21X Ð´Ð»Ñ ÐÐ SAS VA, Ð°ÑÑÐ¸ÐºÑÐ» 9128-T518-8090, 9175-2100-8090 ",type:null,tradeMark:null,model:null,article:null,sort:null,idOkpds:[],idTnveds:[73522],gtin:[""],lifeTime:null,storageTime:null,description:null,amount:null,idOkei:null,factoryNumber:null,productionDate:null,expiryDate:null,documents:[],standards:[{idStandard:3073291,annex:!1,idDictStandard:null,designation:'ГОСТ IEC 60950-1- 2014 "Оборудование информационных технологий. Требования безопасности. Часть 1. Об',name:null,section:null,addlInfo:null,idStatus:null}]}]}]}middleUpdaterFgis(e){let t=Object.assign({},e);return t.manufacturer.addresses.forEach(s=>{s.foreignDistrict=null}),t.manufacturerFilials.forEach(s=>{s.addresses.forEach(i=>{i.foreignDistrict=null})}),t}saveStatementToFgis(){console.log("Statement saveStatementToFgis");let e,t=this.middleUpdaterFgis(this.advanceObj);return t.idApplication?(console.log("Update record in fgis",t),e=this.fgis.fetch(this.fgis.statement.post,{body:t,params:{id:t.idApplication}}).then(s=>{this.idApplication=t.idApplication})):(console.log("Create record in fgis",t),e=this.fgis.fetch(this.fgis.statement.init,{body:t}).then(s=>this.fgis.fetch(this.fgis.statement.get,{params:{id:s.id}}).then(i=>{console.log("saveStatementtoFgis",i),this.idApplication=i.idApplication,this.appSubmissionDate=i.appSubmissionDate,this.idStatus=i.idStatus,this.number=i.number}))),e}random_uuid(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}}console.log("Statement ds class init!");function Q(r){throw console.error(r),r}class v{constructor(e,t){this.document=e,this.advance=e.advance,this.documentId=e.id,this.document_name=t,this.controller=this.advance.document[t]}getList(){return console.log("getList :>> "),this.controller.get_list.fetch({params:{id:this.documentId}})}getFile(e){return console.log("getFile :>> ",e),this.controller.get_file.fetch({params:{id:this.documentId,fileId:e}})}putFile(e,t){console.log("putFile :>> ",e,t);const s=[{name:"fgis_file_id",value:t.id}];return this.controller.put_file_info.fetch({body:s,params:{id:this.documentId,fileId:e.file_id}})}putFile2Fgis(e,t){console.log("putFile2Fgis :>> ",e,t);var s=new FormData;s.append("file",new File([t],e.file_name));const i=this.document.fgis.document.loadFile;return this.document.settings.file_time_out&&(i.timeOut=this.document.settings.file_time_out*1e3),this.document.fgis.fetch(i,{body:s})}processFile(e){return console.log("processFile :>> ",e),this.getFile(e.file_id).then(t=>this.putFile2Fgis(e,t)).then(t=>this.putFile(e,t))}processFiles(e){return console.log("processFiles :>> ",e),e.length==0?(console.log("Load files is end"),Promise.resolve()):this.processFile(e[0]).then(()=>(e=e.splice(1),this.processFiles(e)))}process(){return console.log("process :>> ",this),this.getList().then(e=>{if(e.filter(i=>{if(i.fgis_file_id!=null&&i.fgis_file_id!="")return i}).length==e.length)return console.log(`Все ${this.document_name} уже загружены во ФГИС.`),Promise.resolve();const s=e.filter(i=>i.file_name&&!i.fgis_file_id);return this.processFiles(s)})}}class ee{constructor(e,t,s,i,n,a,o){this.id=e,this.advance=t,this.fgis=s,this.settings=i,this.assignRegNumber=i.assignRegNumber,this.isRobotSignErrors=i.isRobotSignErrors,this.isTest=i.isTest,this.advanceType=n,this.isSrd=a,this.fgisType=o,this.idDocumentKey=this._getIdDocumentKey(this.fgisType),this.advanceObj={},this.idApplication="",this.agencyMode=!1,this.fgisId="",this.afterInitObj={},this.idDeclaration="",this.idDocument=0,this.annexeIds="",this.submissionDate="",this.number="",this.idStatus="",this.fileList=[],console.log("Document :>> ",this)}done(e={done:!0}){return console.log("Ds.prototype.done",e),this.documentFgisData&&(e.documentFgisData=this.documentFgisData),e}_getIdDocumentKey(e){switch(e){case"rds":case"srd":return"idDeclaration";case"rss":return"idCertificate";default:Q("Не определен _getIdDocumentKey: "+e)}}markAdvance(e,t=""){return this.advance.getCurrentUserId().then(s=>{let i=[{name:"id",value:this.id},{name:"user_id",value:s},{name:"status",value:e},{name:"message",value:t}];return this.advance.fetch(this.advance.document.set_status,{body:i})})}checkLast(e){return this.advance.fetch(this.advance.document.last).then(t=>{if(t=t.match(/[0-9]{5}/),t=t==null?0:Number(t[0]),e=e.match(/[0-9]{5}/),e=e==null?0:Number(e[0]),t&&e){if(e-t!=1)throw`Вы пытаетесь загрузить номер не идущий за последним выгруженным. Последний:${t} / Ваш: ${e}`}else throw`Не могу сравнить рег. номера ФГИС и адванса. Последний:${t} / Ваш: ${e}`})}workFlow(e=!1){return this.advance.fetch(this.advance.document.get_state,{params:{id:this.id}}).then(t=>{let s;switch(t){case"NotSet":console.log("Statement not ready to upload");break;case"ReadyToUpload":console.log("Statement ready to upload"),s=this.save().then(()=>this.workFlow(e=!0));break;case"Uploading":console.log("Statement in Uploading");break;case"UploadError":console.log("Statement upload UploadError"),e||(s=this.save().then(()=>this.workFlow(e=!0)));break;case"Uploaded":console.log("Statement Uploaded done"),s=this.sign().then(()=>this.workFlow(e=!1));break;case"Signing":console.log("Statement in Signing");break;case"SignError":console.log("Statement Signing SignError"),e||(s=this.save().then(()=>this.workFlow(e=!0)));break;case"Signed":console.log("Statement Signed done");break;default:return this.done()}return s})}checkSign(e){return Promise.resolve().then(()=>this.fgis.fetch(this.fgis.document.get,{params:{id:e}}).then(t=>{if(t.idStatus&&t.idStatus==13)return this.initAdvance(t.idApplication,t.submissionDate,t.idStatus,t.number).catch(s=>{console.log(s)}).finally(()=>{throw"Документ уже подписан! (по статусу ФГИС)"})}))}sign(){return this.markAdvance("Signing").then(()=>this.advance.fetch(this.advance.document.show,{params:{id:this.id}})).then(e=>{if(!e[this.idDocumentKey])throw"Документ не привязан к Адвансу.";if(e.idStatus&&e.idStatus==13)throw"Документ уже подписан! (по статусу Адванс)";return this.checkSign(e[this.idDocumentKey]).then(()=>e[this.idDocumentKey])}).then(e=>(this.documentFgisData={idDeclaration:e,url:`${this.fgis.document_url}${e}`,open_url:`${this.fgis.pub_document_url}${e}`},this.fgisType=="rss"?this.advance.fetch(this.advance.document.blanks,{params:{id:this.id}}).then(t=>this.fgis.signFile([e],"declarations",t)):this.fgis.signFile([e],"declarations"))).then(()=>this.markAdvance("Signed")).then(()=>({done:!0})).catch(e=>(console.log("something wrong in statement sign",e),this.markAdvance("SignError",e).then(()=>{throw e})))}initAdvance(e=this.idDeclaration,t=this.submissionDate,s=this.idStatus,i=this.number||""){return this.advance.getCurrentUserId().then(n=>{this.user_id=n;let a={idDeclaration:e,url:`${this.fgis.document_url}${e}`,submissionDate:t,number:i,idStatus:s,user_id:this.user_id};this.fgisType=="rss"&&(a.annexes=this.annexeIds),i&&(a.open_url=`${this.fgis.pub_document_url}${e}`),this.documentFgisData=a;let o=Object.keys(a).map(l=>({name:l,value:a[l]}));return this.advance.fetch(this.advance.document.init,{body:o,params:{id:this.id}}).then(l=>{console.log(l)})})}checkSignStatement(){return console.log("Document checkSignStatement"),this.showAdvance().then(e=>{if(!e.idApplication)throw"Завление не загружено вовсе! Дальше продолжать нельзя.";return console.log("Document checkSignStatement middle",e,this.fgis),this.fgis.fetch(this.fgis.statement.get,{params:{id:e.idApplication}})}).then(e=>{if(console.log(e),e.idStatus!=13)throw"Завление не подписано."})}getDocumentFilesAdvance(){return console.log("Document getDocumentFilesAdvance"),this.advance.fetch(this.advance.document.get_document_files,{params:{id:this.id}})}getProtocolsAdvance(){return console.log("Document getProtocolsAdvance"),this.advance.fetch(this.advance.document.get_protocols,{params:{id:this.id}})}getFileProtocolAdvance(e){return this.advance.fetch(this.advance.document.get_file_protocol,{params:{id:this.id,fileId:e}})}loadFileItemFgis(e,t=!1){console.log("loadFileItemFgis",e);let s;return t?s=this.advance.fetch(this.advance.document.get_file_document,{params:{id:this.id,fileId:e.file_id}}):s=this.advance.fetch(this.advance.document.get_file_protocol,{params:{id:this.id,fileId:e.file_id}}),s.then(i=>{console.log("body",i);var n=new FormData,a=new File([i],e.file_name);n.append("file",a);let o=this.fgis.document.loadFile;return this.settings.file_time_out&&(o.timeOut=this.settings.file_time_out*1e3),this.fgis.fetch(o,{body:n})}).then(i=>t?this.putFileDocumentAdvance(i.id,e.file_id):this.putFileProtocolAdvance(i.id,e.file_id))}putFileDocumentAdvance(e,t){let s=[{name:"fgis_file_id",value:e}];return this.advance.fetch(this.advance.document.put_file_document,{body:s,params:{id:this.id,fileId:t}})}putFileProtocolAdvance(e,t){let s=[{name:"fgis_file_id",value:e}];return this.advance.fetch(this.advance.document.put_file_protocol,{body:s,params:{id:this.id,fileId:t}})}promiseLoadFiles(e=!1){if(this.fileList.length==0){console.log("Load files is end");return}return this.loadFileItemFgis(this.fileList[0],e).then(()=>(this.fileList=this.fileList.splice(1),this.promiseLoadFiles(e)))}promiseLoadDocumentFiles(){if(this.fileList.length==0){console.log("Load files is end");return}return this.loadFileItemFgis(this.fileList[0]).then(()=>(this.fileList=this.fileList.splice(1),this.promiseLoadFiles()))}loadDocumentFileFgis(e){console.log(e);let t=e.filter(i=>i.file_name==null);if(t.length>0)throw`К записи ${t.map(n=>n.title)} не прикреплен файл`;return e.filter(i=>i.fgis_file_id!=null&&i.fgis_file_id!="").length==e.length?(console.log("Все файлы уже загружены во ФГИС."),Promise.resolve()):(this.fileList=e,this.promiseLoadFiles(!0))}loadFileFgis(e){return e.filter(s=>{if(s.fgis_file_id!=null&&s.fgis_file_id!="")return s}).length==e.length?(console.log("Все протоколы уже загружены во ФГИС."),Promise.resolve()):(this.fileList=e.filter(s=>s.file_name),this.promiseLoadFiles())}add_revocation_data(e,t){var s={};t==1?s={idStatus:14,beginDate:new Date,comment:"В связи с технической ошибкой",idBasis:1,publicated:!1,docDate:new Date,docName:this.settings.revoke_teh_document,docNumber:this.settings.revoke_teh_document_number}:t==2&&(s={idStatus:14,beginDate:new Date,comment:"По решению заявителя",idBasis:8,publicated:!1,docDate:new Date,docName:this.settings.revoke_applicant_document,docNumber:this.settings.revoke_applicant_document_number});var i=e.statusChanges.filter(n=>n.idStatus==14&&n.publicated==!1);return i.length?!1:(e.statusChanges.push(s),!0)}revoke(e){return this.markAdvance("Uploading").then(()=>this.showAdvance()).then(t=>this.fgis.fetch(this.fgis.document.get,{params:{id:t[this.idDocumentKey]}})).then(t=>(this.add_revocation_data(t,e),this.updateDocumentInFgis(t))).then(()=>this.markAdvance("Uploaded")).then(()=>this.done()).catch(t=>{throw console.log("something wrong in document save",t),this.markAdvance("UploadError",t),t})}save(){return console.log("Ds.Document.save",this.id),this.markAdvance("Uploading").then(()=>this.getProtocolsAdvance()).then(e=>this.loadFileFgis(e)).then(()=>this.getDocumentFilesAdvance()).then(e=>this.loadDocumentFileFgis(e)).then(()=>this.fgisType=="rss"?Promise.resolve().then(()=>new v(this,"product_doc").process()).then(()=>new v(this,"other_doc").process()).then(()=>new v(this,"conclusion_doc").process()).then(()=>new v(this,"sampling_doc").process()).then(()=>new v(this,"qms_doc").process()).then(()=>new v(this,"act_doc").process()).then(()=>new v(this,"cert_doc").process()).then(()=>new v(this,"transport_doc").process()).then(()=>new v(this,"cert_type_doc").process()).then(()=>new v(this,"project_doc").process()).then(()=>new v(this,"un_rules_doc").process()).then(()=>new v(this,"concl_expert_doc").process()).then(()=>new v(this,"test_protocol_doc").process()).then(()=>new v(this,"contract_doc").process()).then(()=>new v(this,"decision_doc").process()).then(()=>new v(this,"cert_other_doc").process()):Promise.resolve()).then(()=>this.showAdvance()).then(e=>this.saveDocumentToFgis(e)).then(()=>this.initAdvance()).then(()=>this.markAdvance("Uploaded")).then(()=>this.done()).catch(e=>{throw console.log("something wrong in document save",e),this.markAdvance("UploadError",e),e})}showAdvance(){return console.log("showAdvance Document Start",this.id),this.advance.fetch(this.advance.document.show,{params:{id:this.id}})}getExperts(e){return this.advance.fetch(this.advance.data.experts).then(t=>{let s=t.find(i=>i.id==e);if(!s)throw"Эксперт не найден в справочник";return s})}saveDocumentAsRegToFgis(e){return console.log(e),console.log("saveDocumentAsRegToFgis"),e.assignRegNumber=!0,Promise.resolve().then(()=>{let t;return e[this.idDocumentKey]&&(console.log("Update record in fgis"),t=this.fgis.fetch(this.fgis.document.post,{body:e,params:{id:e[this.idDocumentKey]}}).then(()=>this.fgis.fetch(this.fgis.document.get,{params:{id:e[this.idDocumentKey]}}).then(s=>{this.idDeclaration=s[this.idDocumentKey],this.submissionDate=s.submissionDate,this.idStatus=s.idStatus,this.number=s.number,this.findRssAnnexeIds(s)}))),t})}findRssAnnexeIds(e){console.log("findRssAnnexeIds")}updateDocumentInFgis(e){return Promise.resolve().then(()=>this.fgis.fetch(this.fgis.document.post,{body:e,params:{id:e[this.idDocumentKey]}}))}middleUpdaterFgis(e){console.log("start middleUpdaterFgis :>> ",e);let t=Object.assign({},e);return t.testingLabs.forEach(s=>{var i=[];s.customInfo.forEach(n=>{n.customDeclNumber=n.customDeclNumber.replace(".",","),n.customDeclNumber=n.customDeclNumber.replace(";",",");var a=n.customDeclNumber.replace(" ","").split(",");a.forEach(o=>{i.push({amount:n.amount,contractNumber:n.contractNumber,contractDate:n.contractDate,customDeclNumber:o})}),s.customInfo=i})}),this.fgis.pub_document_type=="rds"&&t.testingLabs.forEach(s=>{s.protocols.forEach(i=>{var n=t.scanCopy.find(a=>a.name==i.number);n||t.scanCopy.push({name:i.number,idFile:i.idFile,idType:4})})}),t.manufacturer.addresses.forEach(s=>{s.foreignDistrict=null}),t.manufacturerFilials.forEach(s=>{s.addresses.forEach(i=>{i.foreignDistrict=null})}),t}updateSelfDocumentValues(e){if(this.idDeclaration=e[this.idDocumentKey]||this.idDeclaration,this.submissionDate=e.submissionDate||this.submissionDate,this.idStatus=e.idStatus||this.idStatus,this.number=e.number||this.number,this.fgisType=="rss"){let t="";e.annexes.forEach(s=>{t+=`${s.idType}-${s.idAnnex};`}),this.annexeIds=t,console.log("findRssAnnexeIds,",t)}return e}saveDocumentToFgis(t){var t=this.middleUpdaterFgis(t);console.log("Document saveDocumentToFgis",t),this.agencyMode=t.agencyMode,delete t.agencyMode,this.agencyMode&&this.assignRegNumber&&(t.assignRegNumber=!0);var s=Promise.resolve().then(()=>t[this.idDocumentKey]?(console.log("Update record in fgis"),this.fgis.fetch(this.fgis.document.post,{body:t,params:{id:t[this.idDocumentKey]}}).then(()=>t[this.idDocumentKey])):this.fgis.fetch(this.fgis.document.init,{body:t}).then(i=>i.id)).then(i=>(this.idDeclaration=i,!this.agencyMode&&!t[this.idDocumentKey]?this.initAdvance():i)).then(()=>{if(!this.agencyMode)return this.fgis.fetch(this.fgis.document.get,{params:{id:this.idDeclaration}}).then(i=>{if(t.idDeclaration=i[this.idDocumentKey],t.idCertificate=i[this.idDocumentKey],t.submissionDate=i.submissionDate,t.idStatus=i.idStatus,t.number=i.number,this.updateSelfDocumentValues(i),this.assignRegNumber)return this.saveDocumentAsRegToFgis(t)})});return s}testEtalon(){var e={annexes:[],applicant:{addlRegInfo:"",addresses:[{flat:null,foreignCity:null,foreignDistrict:null,foreignHouse:null,foreignLocality:null,foreignStreet:null,fullAddress:"127055, РОССИЯ, ГОРОД МОСКВА, УЛИЦА НОВОСЛОБОДСКАЯ, ДОМ 36/1, СТР 1, ПОМ I КОМН 21",gln:null,glonass:null,idAddress:null,idAddrType:1,idCity:null,idCodeOksm:"643",idDistrict:null,idHouse:null,idLocality:null,idStreet:null,idSubject:null,oksmShort:!0,otherGln:null,postCode:null,uniqueAddress:null}],contacts:[],firstName:"АНАСТАСИЯ",fullName:'ОБЩЕСТВО С ОГРАНИЧЕННОЙ ОТВЕТСТВЕННОСТЬЮ "АРТЭКС"',headPosition:"ГЕНЕРАЛЬНЫЙ ДИРЕКТОР",idApplicantType:1,idEgrul:null,idLegalForm:9,idLegalSubject:null,idLegalSubjectType:1,idPerson:null,inn:"7707388278",isEecRegister:!0,kpp:"770701001",manufIsApplicant:!1,ogrn:"1177746689757",ogrnAssignDate:"2017-07-12T00:00:00.000Z",passportIssueDate:null,passportIssuedBy:null,passportNum:null,patronymic:"АНДРЕЕВНА",regDate:"2017-07-12T00:00:00.000Z",regOrganName:"Межрайонная инспекция Федеральной налоговой службы № 46 по г. Москве",shortName:'ООО "АРТЭКС"',snils:"",surname:"ВАСИЛЬКОВА",transnational:null},applicantFilials:[],applicationDate:"2022-04-08T00:00:00.000Z",applicationNumber:"261018/1/C..",applicationSendDate:"2022-04-03T00:00:00.000Z",applicationStatus:null,assignRegNumber:!1,awaitForApprove:!0,awaitOperatorCheck:null,batchInspection:null,blankNumber:null,certEndDate:null,certificationAuthority:{accredOrgName:"Межрайонная инспекция Федеральной налоговой службы № 12 по Тверской области",addresses:[{flat:null,fullAddress:"170100, РОССИЯ, ОБЛ. ТВЕРСКАЯ, Г. Тверь, УЛ. ВОЛЬНОГО НОВГОРОДА, Д. 21, ПОМЕЩ. 8-9",gln:null,idAddress:null,idAddrType:1,idCity:null,idCodeOksm:null,idDistrict:null,idHouse:null,idLocality:null,idStreet:null,idSubject:null,oksmShort:!0,postCode:null},{flat:null,fullAddress:"170100, РОССИЯ, Тверская обл, г Тверь, ул Вольного Новгорода, дом 21, Помещение 8-9",gln:null,idAddress:null,idAddrType:3,idCity:"c52ea942-555e-45c6-9751-58897717b02f",idCodeOksm:"643",idDistrict:null,idHouse:"d2d7b72f-aaac-4529-a78b-f650723add48",idLocality:null,idStreet:"bae8f562-e58d-4e2d-aa76-236d6f7f12a0",idSubject:"61723327-1c20-42fe-8dfa-402638d9b396",oksmShort:!0,postCode:"170100"}],attestatEndDate:null,attestatRegDate:"2016-10-26T00:00:00.000Z",attestatRegNumber:"RA.RU.11АЖ06",contacts:[{idContact:null,idContactType:1,value:"+74822415522"},{idContact:null,idContactType:4,value:"all@greenline-os.ru"},{idContact:null,idContactType:5,value:"http://greenline-os.ru/"}],firstName:"Андрей",fullName:'Орган по сертификации Общества с ограниченной ответственностью "ГринЛайн"',headContacts:[],headPosition:"Руководитель ОС",idCertificationAuthority:null,idPesron:612842,idRal:401,ogrn:"1156952024745",patronymic:"Алексеевич",prevAttestatRegNumber:null,prevIdRal:null,surname:"Сорокин"},certIssueDecisionDate:null,certRegDate:"2022-04-10T14:48:08.239Z",changes:null,deadlineViolation:!1,documents:{applicantOtherDocuments:[],applicationCertificationDecision:{date:null,id:null,number:null},commonDocuments:{8:[]},conformityAssessmentDocuments:[],expertConclusion:{accreditedPersonName:null,annex:null,attestateBeginDate:null,attestateEndDate:null,attestateRegNumber:null,date:null,idFile:null,name:null,number:null},foreignManufacturerContract:{applicantResponsibility:null,date:null,endDate:null,id:null,manufacturerResponsibility:null,number:null,subject:null},manufacturingConditionAnalysisAct:{addresses:[],analysisBeginDate:null,analysisEndDate:null,analysisTakenDate:null,annex:null,certExperts:[],date:null,id:null,idFile:null,number:null},productCertificationContract:{date:null,id:null,idFile:null,number:null},productDesignResearchConclusion:{annex:null,attestatEndDate:null,id:null,issueDate:null,number:null},productTypeCertificates:[{annex:null,attestatEndDate:null,id:null,idPtCertificate:null,idTechnicalReglament:8,issueDate:null,number:null,sampleProduct:{article:null,fullName:null,mark:null,model:null,sort:null,type:null}}],productTypeResearchConclusion:{annex:null,attestatEndDate:null,id:null,issueDate:null,number:null,sampleProduct:{article:null,fullName:null,mark:null,model:null,sort:null,type:null}},protocolTestingTechnicalService:{annex:null,date:null,idFile:null,name:null,number:null,techServiceName:null},qmsCertificates:[{accredEec:!0,accreditedPersonName:null,annex:null,attestatEndDate:null,attestatRegDate:null,attestatRegNumber:null,endDate:null,id:null,idAccredPlace:"643",idTechnicalReglament:8,idType:null,idTypeActivity:null,issueDate:null,number:null,qmsCertificationDocuments:[],regNumberSelect:null}],rawMaterialCertificates:[],reportsOnTypeApprovalUnderUNRegulation:[{annex:null,country:"643",date:null,idFile:null,idTechnicalReglament:8,name:null,number:null,orgName:null}],samplingAct:{date:null,id:null,idFile:null,number:null},vehicleChassisTypeApprovals:[]},draftCreationDate:null,editApp:!1,employee:null,experts:[],expiredInspectionControl:!1,firstName:null,functions:null,idApplication:3073128,idApplicationStatus:null,idBlank:null,idCertificate:null,idCertScheme:3,idCertType:1,idEmployee:null,idObjectCertType:2,idProductSingleLists:[],idSigner:null,idStatus:20,idTechnicalReglaments:[8],inspectionControlPlanDate:null,inspectionControls:[],manufacturer:{addlRegInfo:"",addresses:[{flat:null,foreignCity:null,foreignDistrict:"Kupferschmidstrasse 84 D 79761 Waldshut-Tiengen",foreignHouse:null,foreignLocality:null,foreignStreet:null,fullAddress:"ГЕРМАНИЯ, Kupferschmidstrasse 84 D 79761 Waldshut-Tiengen",gln:null,glonass:null,idAddress:null,idAddrType:1,idCity:null,idCodeOksm:"276",idDistrict:null,idHouse:null,idLocality:null,idStreet:null,idSubject:null,oksmShort:!0,otherGln:null,postCode:null,uniqueAddress:null}],contacts:[],firstName:"",fullName:"«Ragman Textilhandel GmbH»",headPosition:"",idApplicantType:null,idEgrul:null,idLegalForm:null,idLegalSubject:null,idLegalSubjectType:3,idPerson:null,inn:"",isEecRegister:!0,kpp:"",ogrn:"",ogrnAssignDate:null,passportIssueDate:null,passportIssuedBy:null,passportNum:null,patronymic:"",regDate:null,regOrganName:"",shortName:"",snils:"",surname:"",transnational:[]},manufacturerFilials:[{addresses:[{flat:null,foreignCity:null,foreignDistrict:"Kupferschmidstrasse 84 D 79761 Waldshut-Tiengen",foreignHouse:null,foreignLocality:null,foreignStreet:null,fullAddress:"ГЕРМАНИЯ, Kupferschmidstrasse 84 D 79761 Waldshut-Tiengen",gln:null,glonass:null,idAddress:null,idAddrType:3,idCity:null,idCodeOksm:"276",idDistrict:null,idHouse:null,idLocality:null,idStreet:null,idSubject:null,oksmShort:!0,otherGln:null,postCode:null,uniqueAddress:null}],annex:!1,contacts:[],fullName:null,idFilial:null,idLegalForm:null,kpp:null,shortName:null}],manufIsApplicant:!1,noSanction:!0,number:null,patronymic:null,product:null,productGroups:[{idGroup:1826,idProductGroup:null,idTechReg:8}],publishDate:null,scanCopy:[{idFile:"42651d67-ac73-4555-8338-002cb979b6ec",idType:1,name:"Завление"}],snils:null,statusChanges:[],surname:null,tempNumber:null,testingLabs:[]};return e}}console.log("Document ds class init!");class te{constructor({id:e,token:t,locationOrigin:s,mode:i,settings:n,advanceType:a,isSrd:o}){try{this.name="Менеджер деклараций",this.advanceType=a,this.isSrd=o,this.fgisType=this._get_fgis_type(this.advanceType,this.isSrd),console.log("this.advanceType :>> ",this.advanceType),console.log("this.isSrd :>> ",this.isSrd),console.log("this.fgisType :>> ",this.fgisType),this.advance=new z(n,s,a),console.log("this.advance :>> ",this.advance),this.fgis=new X({token:t,advance:this.advance,mode:i,settings:n,fgisType:this.fgisType}),console.log("this.fgis :>> ",this.fgis),this.statement=new Y(e,this.advance,this.fgis,n),console.log("this.statement :>> ",this.statement),this.document=new ee(e,this.advance,this.fgis,n,this.advanceType,this.isSrd,this.fgisType),console.log("this.document :>> ",this.document),console.log("Ds :>> ",this)}catch(l){console.log("error :>> ",l)}}_get_fgis_type(e,t){if(t)return"srd";switch(e){case"DTREA":case"DGSTR":case"DPRTR":return"rds";case"STREA":return"rss";default:throw console.error("Ошибка определения fgisType, ",e),"Ошибка определения fgisType: "+e}}doAction(e=""){console.log(`${this.name} - ${e}`);let t;switch(e){case"updateStatement":t=this.statement.updateStatement();break;case"revokeDs":t=this.document.revoke();break;case"signStatement":t=this.statement.sign();break;case"signDeclaration":t=this.document.sign();break;case"saveCommonDs":t=this.statement.save();break;case"saveDeclarationDs":t=this.document.save();break;case"revokeTeh":t=this.document.revoke(1);break;case"revokeApplicant":t=this.document.revoke(2);break;case"statementGetList":t=this.statement.getList();break;case"startReplication":t=this.statement.workFlow().then(()=>this.document.workFlow());break;default:t=Promise.resolve().then(()=>{throw console.error(`${this.name}: Для функции ${e} нет описания.`),`${this.name}: Для функции ${e} нет описания.`});break}return t}}console.log("ya tut");var U=new J;U.start();var O={},N=[],V,K,se,R=[];function ie(r){console.log("Background",r),K=r,K.onMessage.addListener(function(e){return console.log("Background m",e),!0})}function ne(r){console.log(se),console.log(`Background ${r.name} connected`);let e=R.find(t=>t==r);console.log(R,e),e||R.push(r),r=r,r.onMessage.addListener(function(t){return console.log(R,this),console.log(`${this.name} write`,t),!0})}function re(r){if(console.log("CONNECTED IS RUN",r),r.name=="replication-page")return ie(r);if(r.name.includes("lucky_bot"))return ne(r);V=r,V.onMessage.addListener(function(e){if(e.type!="stateMessage"){var t=N.find(s=>s.url==e.url&&s.command==e.command);console.log("In background script, received message from content script",e,N,t),t?(console.log("We await u maaan!"+e.url),N=N.filter(s=>s!=t),console.log("Get this!",t.responce),this.portFromCS.postMessage(t.responce)):console.log("We dont await message from this url:"+e.url)}})}S.runtime.onMessage.addListener(ae),S.runtime.onConnect.addListener(re);function ae(r,e,t){if(console.log("YA HANDLE MESSAGE"),!r.pageName){if(r.action=="get_experts"){var s=new organ_expert_old(U,r.orgId);return s.start().then(l=>t({data:JSON.stringify(l)})),!0}var i,n={};if(r.document_token)n=Object.assign({},r.settings),n.document_token=r.document_token,n.assignRegNumber=!0;else{if(O.originSettings){if(n=O.originSettings.filter(l=>l.origin==r.locationOrigin),!n.length||!Object.keys(n[0]).length)return t({done:!1,err:"Что то не так с настройками пользователя!"}),!0}else return t({done:!1,err:"Что то не так с настройками пользователя!"}),!0;if(n=n[0],!n.agency_code||!n.agency_keyword)return t({done:!1,err:"Введите апи ключи для органа."}),!0;if(!r.module)return t({done:!1,err:"Не указан модуль."}),!0}switch(console.log("request :>> ",r),r.module){case"ds":var a={id:r.id,token:U,locationOrigin:r.locationOrigin,mode:r.mode,settings:n,advanceType:r.advanceType||r.type,isSrd:r.isSrd==null?!1:r.isSrd},o=new te(a);i=o.doAction(r.action);break;case"parser":console.log("We stopped parser starter");break;default:i=Promise.resolve().then(()=>{throw`Не найден модуль: ${r.module}, запрос ${r.action}`});break}return i.then(l=>{var p=Object.assign(l,{done:l.done});return console.log("sendResponse",p),t(p)}).catch(l=>(console.log("catch sendResponse",{done:!1,err:l}),t({done:!1,err:l}))),console.log("-------- KONEC "),!0}}S.storage.local.get().then(r=>{console.log("Storage get in background!",r),O=r}),S.storage.onChanged.addListener(r=>{for(const e in r)r.hasOwnProperty(e)&&(O[e]=r[e].newValue)})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXgubWpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vd2ViZXh0ZW5zaW9uLXBvbHlmaWxsQDAuMTAuMC9ub2RlX21vZHVsZXMvd2ViZXh0ZW5zaW9uLXBvbHlmaWxsL2Rpc3QvYnJvd3Nlci1wb2x5ZmlsbC5qcyIsIi4uLy4uLy4uL3NyYy9iYWNrZ3JvdW5kL3Rva2VuLnRzIiwiLi4vLi4vLi4vc3JjL2JhY2tncm91bmQvZHMvZHNfYWR2YW5jZS50cyIsIi4uLy4uLy4uL3NyYy9iYWNrZ3JvdW5kL2RzL2RzX2ZnaXMudHMiLCIuLi8uLi8uLi9zcmMvYmFja2dyb3VuZC9kcy9kc19zdGF0ZW1lbnQudHMiLCIuLi8uLi8uLi9zcmMvYmFja2dyb3VuZC9kcy9kb2N1bWVudC50cyIsIi4uLy4uLy4uL3NyYy9iYWNrZ3JvdW5kL2RzL2RzX21haW4udHMiLCIuLi8uLi8uLi9zcmMvYmFja2dyb3VuZC9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoXCJ3ZWJleHRlbnNpb24tcG9seWZpbGxcIiwgW1wibW9kdWxlXCJdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGZhY3RvcnkobW9kdWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbW9kID0ge1xuICAgICAgZXhwb3J0czoge31cbiAgICB9O1xuICAgIGZhY3RvcnkobW9kKTtcbiAgICBnbG9iYWwuYnJvd3NlciA9IG1vZC5leHBvcnRzO1xuICB9XG59KSh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbiAobW9kdWxlKSB7XG4gIC8qIHdlYmV4dGVuc2lvbi1wb2x5ZmlsbCAtIHYwLjEwLjAgLSBGcmkgQXVnIDEyIDIwMjIgMTk6NDI6NDQgKi9cblxuICAvKiAtKi0gTW9kZTogaW5kZW50LXRhYnMtbW9kZTogbmlsOyBqcy1pbmRlbnQtbGV2ZWw6IDIgLSotICovXG5cbiAgLyogdmltOiBzZXQgc3RzPTIgc3c9MiBldCB0dz04MDogKi9cblxuICAvKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gICAqIExpY2Vuc2UsIHYuIDIuMC4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXNcbiAgICogZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy4gKi9cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgaWYgKCFnbG9iYWxUaGlzLmNocm9tZT8ucnVudGltZT8uaWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHNjcmlwdCBzaG91bGQgb25seSBiZSBsb2FkZWQgaW4gYSBicm93c2VyIGV4dGVuc2lvbi5cIik7XG4gIH1cblxuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMuYnJvd3NlciA9PT0gXCJ1bmRlZmluZWRcIiB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsVGhpcy5icm93c2VyKSAhPT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgIGNvbnN0IENIUk9NRV9TRU5EX01FU1NBR0VfQ0FMTEJBQ0tfTk9fUkVTUE9OU0VfTUVTU0FHRSA9IFwiVGhlIG1lc3NhZ2UgcG9ydCBjbG9zZWQgYmVmb3JlIGEgcmVzcG9uc2Ugd2FzIHJlY2VpdmVkLlwiOyAvLyBXcmFwcGluZyB0aGUgYnVsayBvZiB0aGlzIHBvbHlmaWxsIGluIGEgb25lLXRpbWUtdXNlIGZ1bmN0aW9uIGlzIGEgbWlub3JcbiAgICAvLyBvcHRpbWl6YXRpb24gZm9yIEZpcmVmb3guIFNpbmNlIFNwaWRlcm1vbmtleSBkb2VzIG5vdCBmdWxseSBwYXJzZSB0aGVcbiAgICAvLyBjb250ZW50cyBvZiBhIGZ1bmN0aW9uIHVudGlsIHRoZSBmaXJzdCB0aW1lIGl0J3MgY2FsbGVkLCBhbmQgc2luY2UgaXQgd2lsbFxuICAgIC8vIG5ldmVyIGFjdHVhbGx5IG5lZWQgdG8gYmUgY2FsbGVkLCB0aGlzIGFsbG93cyB0aGUgcG9seWZpbGwgdG8gYmUgaW5jbHVkZWRcbiAgICAvLyBpbiBGaXJlZm94IG5lYXJseSBmb3IgZnJlZS5cblxuICAgIGNvbnN0IHdyYXBBUElzID0gZXh0ZW5zaW9uQVBJcyA9PiB7XG4gICAgICAvLyBOT1RFOiBhcGlNZXRhZGF0YSBpcyBhc3NvY2lhdGVkIHRvIHRoZSBjb250ZW50IG9mIHRoZSBhcGktbWV0YWRhdGEuanNvbiBmaWxlXG4gICAgICAvLyBhdCBidWlsZCB0aW1lIGJ5IHJlcGxhY2luZyB0aGUgZm9sbG93aW5nIFwiaW5jbHVkZVwiIHdpdGggdGhlIGNvbnRlbnQgb2YgdGhlXG4gICAgICAvLyBKU09OIGZpbGUuXG4gICAgICBjb25zdCBhcGlNZXRhZGF0YSA9IHtcbiAgICAgICAgXCJhbGFybXNcIjoge1xuICAgICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJjbGVhckFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImJvb2ttYXJrc1wiOiB7XG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRDaGlsZHJlblwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFJlY2VudFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFN1YlRyZWVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRUcmVlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwibW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVRyZWVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZWFyY2hcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJicm93c2VyQWN0aW9uXCI6IHtcbiAgICAgICAgICBcImRpc2FibGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJlbmFibGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRCYWRnZUJhY2tncm91bmRDb2xvclwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEJhZGdlVGV4dFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0VGl0bGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJvcGVuUG9wdXBcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRCYWRnZUJhY2tncm91bmRDb2xvclwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldEJhZGdlVGV4dFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldEljb25cIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRQb3B1cFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFRpdGxlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiYnJvd3NpbmdEYXRhXCI6IHtcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUNhY2hlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlQ29va2llc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZURvd25sb2Fkc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUZvcm1EYXRhXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlSGlzdG9yeVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZUxvY2FsU3RvcmFnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVBhc3N3b3Jkc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVBsdWdpbkRhdGFcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXR0aW5nc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImNvbW1hbmRzXCI6IHtcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImNvbnRleHRNZW51c1wiOiB7XG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJjb29raWVzXCI6IHtcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbENvb2tpZVN0b3Jlc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImRldnRvb2xzXCI6IHtcbiAgICAgICAgICBcImluc3BlY3RlZFdpbmRvd1wiOiB7XG4gICAgICAgICAgICBcImV2YWxcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDIsXG4gICAgICAgICAgICAgIFwic2luZ2xlQ2FsbGJhY2tBcmdcIjogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicGFuZWxzXCI6IHtcbiAgICAgICAgICAgIFwiY3JlYXRlXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDMsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAzLFxuICAgICAgICAgICAgICBcInNpbmdsZUNhbGxiYWNrQXJnXCI6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImVsZW1lbnRzXCI6IHtcbiAgICAgICAgICAgICAgXCJjcmVhdGVTaWRlYmFyUGFuZVwiOiB7XG4gICAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJkb3dubG9hZHNcIjoge1xuICAgICAgICAgIFwiY2FuY2VsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZG93bmxvYWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJlcmFzZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEZpbGVJY29uXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwib3BlblwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInBhdXNlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlRmlsZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlc3VtZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlYXJjaFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNob3dcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJleHRlbnNpb25cIjoge1xuICAgICAgICAgIFwiaXNBbGxvd2VkRmlsZVNjaGVtZUFjY2Vzc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImlzQWxsb3dlZEluY29nbml0b0FjY2Vzc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImhpc3RvcnlcIjoge1xuICAgICAgICAgIFwiYWRkVXJsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZGVsZXRlQWxsXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZGVsZXRlUmFuZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZWxldGVVcmxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRWaXNpdHNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZWFyY2hcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpMThuXCI6IHtcbiAgICAgICAgICBcImRldGVjdExhbmd1YWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0QWNjZXB0TGFuZ3VhZ2VzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiaWRlbnRpdHlcIjoge1xuICAgICAgICAgIFwibGF1bmNoV2ViQXV0aEZsb3dcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJpZGxlXCI6IHtcbiAgICAgICAgICBcInF1ZXJ5U3RhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJtYW5hZ2VtZW50XCI6IHtcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFNlbGZcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRFbmFibGVkXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwidW5pbnN0YWxsU2VsZlwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIm5vdGlmaWNhdGlvbnNcIjoge1xuICAgICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRQZXJtaXNzaW9uTGV2ZWxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJwYWdlQWN0aW9uXCI6IHtcbiAgICAgICAgICBcImdldFBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0VGl0bGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJoaWRlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0SWNvblwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFBvcHVwXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0VGl0bGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzaG93XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicGVybWlzc2lvbnNcIjoge1xuICAgICAgICAgIFwiY29udGFpbnNcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZXF1ZXN0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicnVudGltZVwiOiB7XG4gICAgICAgICAgXCJnZXRCYWNrZ3JvdW5kUGFnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFBsYXRmb3JtSW5mb1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm9wZW5PcHRpb25zUGFnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInJlcXVlc3RVcGRhdGVDaGVja1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNlbmRNZXNzYWdlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDNcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2VuZE5hdGl2ZU1lc3NhZ2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRVbmluc3RhbGxVUkxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXNzaW9uc1wiOiB7XG4gICAgICAgICAgXCJnZXREZXZpY2VzXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0UmVjZW50bHlDbG9zZWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZXN0b3JlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwic3RvcmFnZVwiOiB7XG4gICAgICAgICAgXCJsb2NhbFwiOiB7XG4gICAgICAgICAgICBcImNsZWFyXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldEJ5dGVzSW5Vc2VcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm1hbmFnZWRcIjoge1xuICAgICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldEJ5dGVzSW5Vc2VcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic3luY1wiOiB7XG4gICAgICAgICAgICBcImNsZWFyXCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImdldEJ5dGVzSW5Vc2VcIjoge1xuICAgICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwic2V0XCI6IHtcbiAgICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInRhYnNcIjoge1xuICAgICAgICAgIFwiY2FwdHVyZVZpc2libGVUYWJcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZXRlY3RMYW5ndWFnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImRpc2NhcmRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkdXBsaWNhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJleGVjdXRlU2NyaXB0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0Q3VycmVudFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFpvb21cIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRab29tU2V0dGluZ3NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnb0JhY2tcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnb0ZvcndhcmRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJoaWdobGlnaHRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJpbnNlcnRDU1NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicXVlcnlcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZWxvYWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVDU1NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZW5kTWVzc2FnZVwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAzXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcInNldFpvb21cIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRab29tU2V0dGluZ3NcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ0b3BTaXRlc1wiOiB7XG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJ3ZWJOYXZpZ2F0aW9uXCI6IHtcbiAgICAgICAgICBcImdldEFsbEZyYW1lc1wiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEZyYW1lXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwid2ViUmVxdWVzdFwiOiB7XG4gICAgICAgICAgXCJoYW5kbGVyQmVoYXZpb3JDaGFuZ2VkXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwid2luZG93c1wiOiB7XG4gICAgICAgICAgXCJjcmVhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRDdXJyZW50XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZ2V0TGFzdEZvY3VzZWRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgaWYgKE9iamVjdC5rZXlzKGFwaU1ldGFkYXRhKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYXBpLW1ldGFkYXRhLmpzb24gaGFzIG5vdCBiZWVuIGluY2x1ZGVkIGluIGJyb3dzZXItcG9seWZpbGxcIik7XG4gICAgICB9XG4gICAgICAvKipcbiAgICAgICAqIEEgV2Vha01hcCBzdWJjbGFzcyB3aGljaCBjcmVhdGVzIGFuZCBzdG9yZXMgYSB2YWx1ZSBmb3IgYW55IGtleSB3aGljaCBkb2VzXG4gICAgICAgKiBub3QgZXhpc3Qgd2hlbiBhY2Nlc3NlZCwgYnV0IGJlaGF2ZXMgZXhhY3RseSBhcyBhbiBvcmRpbmFyeSBXZWFrTWFwXG4gICAgICAgKiBvdGhlcndpc2UuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY3JlYXRlSXRlbVxuICAgICAgICogICAgICAgIEEgZnVuY3Rpb24gd2hpY2ggd2lsbCBiZSBjYWxsZWQgaW4gb3JkZXIgdG8gY3JlYXRlIHRoZSB2YWx1ZSBmb3IgYW55XG4gICAgICAgKiAgICAgICAga2V5IHdoaWNoIGRvZXMgbm90IGV4aXN0LCB0aGUgZmlyc3QgdGltZSBpdCBpcyBhY2Nlc3NlZC4gVGhlXG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24gcmVjZWl2ZXMsIGFzIGl0cyBvbmx5IGFyZ3VtZW50LCB0aGUga2V5IGJlaW5nIGNyZWF0ZWQuXG4gICAgICAgKi9cblxuXG4gICAgICBjbGFzcyBEZWZhdWx0V2Vha01hcCBleHRlbmRzIFdlYWtNYXAge1xuICAgICAgICBjb25zdHJ1Y3RvcihjcmVhdGVJdGVtLCBpdGVtcyA9IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHN1cGVyKGl0ZW1zKTtcbiAgICAgICAgICB0aGlzLmNyZWF0ZUl0ZW0gPSBjcmVhdGVJdGVtO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2V0KGtleSkge1xuICAgICAgICAgIGlmICghdGhpcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCB0aGlzLmNyZWF0ZUl0ZW0oa2V5KSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHN1cGVyLmdldChrZXkpO1xuICAgICAgICB9XG5cbiAgICAgIH1cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBvYmplY3QgaXMgYW4gb2JqZWN0IHdpdGggYSBgdGhlbmAgbWV0aG9kLCBhbmQgY2FuXG4gICAgICAgKiB0aGVyZWZvcmUgYmUgYXNzdW1lZCB0byBiZWhhdmUgYXMgYSBQcm9taXNlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHRlc3QuXG4gICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdGhlbmFibGUuXG4gICAgICAgKi9cblxuXG4gICAgICBjb25zdCBpc1RoZW5hYmxlID0gdmFsdWUgPT4ge1xuICAgICAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICB9O1xuICAgICAgLyoqXG4gICAgICAgKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2gsIHdoZW4gY2FsbGVkLCB3aWxsIHJlc29sdmUgb3IgcmVqZWN0XG4gICAgICAgKiB0aGUgZ2l2ZW4gcHJvbWlzZSBiYXNlZCBvbiBob3cgaXQgaXMgY2FsbGVkOlxuICAgICAgICpcbiAgICAgICAqIC0gSWYsIHdoZW4gY2FsbGVkLCBgY2hyb21lLnJ1bnRpbWUubGFzdEVycm9yYCBjb250YWlucyBhIG5vbi1udWxsIG9iamVjdCxcbiAgICAgICAqICAgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQgd2l0aCB0aGF0IHZhbHVlLlxuICAgICAgICogLSBJZiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggZXhhY3RseSBvbmUgYXJndW1lbnQsIHRoZSBwcm9taXNlIGlzXG4gICAgICAgKiAgIHJlc29sdmVkIHRvIHRoYXQgdmFsdWUuXG4gICAgICAgKiAtIE90aGVyd2lzZSwgdGhlIHByb21pc2UgaXMgcmVzb2x2ZWQgdG8gYW4gYXJyYXkgY29udGFpbmluZyBhbGwgb2YgdGhlXG4gICAgICAgKiAgIGZ1bmN0aW9uJ3MgYXJndW1lbnRzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcm9taXNlXG4gICAgICAgKiAgICAgICAgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHJlc29sdXRpb24gYW5kIHJlamVjdGlvbiBmdW5jdGlvbnMgb2YgYVxuICAgICAgICogICAgICAgIHByb21pc2UuXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwcm9taXNlLnJlc29sdmVcbiAgICAgICAqICAgICAgICBUaGUgcHJvbWlzZSdzIHJlc29sdXRpb24gZnVuY3Rpb24uXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwcm9taXNlLnJlamVjdFxuICAgICAgICogICAgICAgIFRoZSBwcm9taXNlJ3MgcmVqZWN0aW9uIGZ1bmN0aW9uLlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IG1ldGFkYXRhXG4gICAgICAgKiAgICAgICAgTWV0YWRhdGEgYWJvdXQgdGhlIHdyYXBwZWQgbWV0aG9kIHdoaWNoIGhhcyBjcmVhdGVkIHRoZSBjYWxsYmFjay5cbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbWV0YWRhdGEuc2luZ2xlQ2FsbGJhY2tBcmdcbiAgICAgICAqICAgICAgICBXaGV0aGVyIG9yIG5vdCB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIG9ubHkgdGhlIGZpcnN0XG4gICAgICAgKiAgICAgICAgYXJndW1lbnQgb2YgdGhlIGNhbGxiYWNrLCBhbHRlcm5hdGl2ZWx5IGFuIGFycmF5IG9mIGFsbCB0aGVcbiAgICAgICAqICAgICAgICBjYWxsYmFjayBhcmd1bWVudHMgaXMgcmVzb2x2ZWQuIEJ5IGRlZmF1bHQsIGlmIHRoZSBjYWxsYmFja1xuICAgICAgICogICAgICAgIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCBvbmx5IGEgc2luZ2xlIGFyZ3VtZW50LCB0aGF0IHdpbGwgYmVcbiAgICAgICAqICAgICAgICByZXNvbHZlZCB0byB0aGUgcHJvbWlzZSwgd2hpbGUgYWxsIGFyZ3VtZW50cyB3aWxsIGJlIHJlc29sdmVkIGFzXG4gICAgICAgKiAgICAgICAgYW4gYXJyYXkgaWYgbXVsdGlwbGUgYXJlIGdpdmVuLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAgICAgICAqICAgICAgICBUaGUgZ2VuZXJhdGVkIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAgICovXG5cblxuICAgICAgY29uc3QgbWFrZUNhbGxiYWNrID0gKHByb21pc2UsIG1ldGFkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiAoLi4uY2FsbGJhY2tBcmdzKSA9PiB7XG4gICAgICAgICAgaWYgKGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IpIHtcbiAgICAgICAgICAgIHByb21pc2UucmVqZWN0KG5ldyBFcnJvcihleHRlbnNpb25BUElzLnJ1bnRpbWUubGFzdEVycm9yLm1lc3NhZ2UpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG1ldGFkYXRhLnNpbmdsZUNhbGxiYWNrQXJnIHx8IGNhbGxiYWNrQXJncy5sZW5ndGggPD0gMSAmJiBtZXRhZGF0YS5zaW5nbGVDYWxsYmFja0FyZyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHByb21pc2UucmVzb2x2ZShjYWxsYmFja0FyZ3NbMF0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9taXNlLnJlc29sdmUoY2FsbGJhY2tBcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBwbHVyYWxpemVBcmd1bWVudHMgPSBudW1BcmdzID0+IG51bUFyZ3MgPT0gMSA/IFwiYXJndW1lbnRcIiA6IFwiYXJndW1lbnRzXCI7XG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZXMgYSB3cmFwcGVyIGZ1bmN0aW9uIGZvciBhIG1ldGhvZCB3aXRoIHRoZSBnaXZlbiBuYW1lIGFuZCBtZXRhZGF0YS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgICAgICogICAgICAgIFRoZSBuYW1lIG9mIHRoZSBtZXRob2Qgd2hpY2ggaXMgYmVpbmcgd3JhcHBlZC5cbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBtZXRhZGF0YVxuICAgICAgICogICAgICAgIE1ldGFkYXRhIGFib3V0IHRoZSBtZXRob2QgYmVpbmcgd3JhcHBlZC5cbiAgICAgICAqIEBwYXJhbSB7aW50ZWdlcn0gbWV0YWRhdGEubWluQXJnc1xuICAgICAgICogICAgICAgIFRoZSBtaW5pbXVtIG51bWJlciBvZiBhcmd1bWVudHMgd2hpY2ggbXVzdCBiZSBwYXNzZWQgdG8gdGhlXG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24uIElmIGNhbGxlZCB3aXRoIGZld2VyIHRoYW4gdGhpcyBudW1iZXIgb2YgYXJndW1lbnRzLCB0aGVcbiAgICAgICAqICAgICAgICB3cmFwcGVyIHdpbGwgcmFpc2UgYW4gZXhjZXB0aW9uLlxuICAgICAgICogQHBhcmFtIHtpbnRlZ2VyfSBtZXRhZGF0YS5tYXhBcmdzXG4gICAgICAgKiAgICAgICAgVGhlIG1heGltdW0gbnVtYmVyIG9mIGFyZ3VtZW50cyB3aGljaCBtYXkgYmUgcGFzc2VkIHRvIHRoZVxuICAgICAgICogICAgICAgIGZ1bmN0aW9uLiBJZiBjYWxsZWQgd2l0aCBtb3JlIHRoYW4gdGhpcyBudW1iZXIgb2YgYXJndW1lbnRzLCB0aGVcbiAgICAgICAqICAgICAgICB3cmFwcGVyIHdpbGwgcmFpc2UgYW4gZXhjZXB0aW9uLlxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBtZXRhZGF0YS5zaW5nbGVDYWxsYmFja0FyZ1xuICAgICAgICogICAgICAgIFdoZXRoZXIgb3Igbm90IHRoZSBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggb25seSB0aGUgZmlyc3RcbiAgICAgICAqICAgICAgICBhcmd1bWVudCBvZiB0aGUgY2FsbGJhY2ssIGFsdGVybmF0aXZlbHkgYW4gYXJyYXkgb2YgYWxsIHRoZVxuICAgICAgICogICAgICAgIGNhbGxiYWNrIGFyZ3VtZW50cyBpcyByZXNvbHZlZC4gQnkgZGVmYXVsdCwgaWYgdGhlIGNhbGxiYWNrXG4gICAgICAgKiAgICAgICAgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIG9ubHkgYSBzaW5nbGUgYXJndW1lbnQsIHRoYXQgd2lsbCBiZVxuICAgICAgICogICAgICAgIHJlc29sdmVkIHRvIHRoZSBwcm9taXNlLCB3aGlsZSBhbGwgYXJndW1lbnRzIHdpbGwgYmUgcmVzb2x2ZWQgYXNcbiAgICAgICAqICAgICAgICBhbiBhcnJheSBpZiBtdWx0aXBsZSBhcmUgZ2l2ZW4uXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKG9iamVjdCwgLi4uKil9XG4gICAgICAgKiAgICAgICBUaGUgZ2VuZXJhdGVkIHdyYXBwZXIgZnVuY3Rpb24uXG4gICAgICAgKi9cblxuXG4gICAgICBjb25zdCB3cmFwQXN5bmNGdW5jdGlvbiA9IChuYW1lLCBtZXRhZGF0YSkgPT4ge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gYXN5bmNGdW5jdGlvbldyYXBwZXIodGFyZ2V0LCAuLi5hcmdzKSB7XG4gICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoIDwgbWV0YWRhdGEubWluQXJncykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCAke21ldGFkYXRhLm1pbkFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1pbkFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPiBtZXRhZGF0YS5tYXhBcmdzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IG1vc3QgJHttZXRhZGF0YS5tYXhBcmdzfSAke3BsdXJhbGl6ZUFyZ3VtZW50cyhtZXRhZGF0YS5tYXhBcmdzKX0gZm9yICR7bmFtZX0oKSwgZ290ICR7YXJncy5sZW5ndGh9YCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmIChtZXRhZGF0YS5mYWxsYmFja1RvTm9DYWxsYmFjaykge1xuICAgICAgICAgICAgICAvLyBUaGlzIEFQSSBtZXRob2QgaGFzIGN1cnJlbnRseSBubyBjYWxsYmFjayBvbiBDaHJvbWUsIGJ1dCBpdCByZXR1cm4gYSBwcm9taXNlIG9uIEZpcmVmb3gsXG4gICAgICAgICAgICAgIC8vIGFuZCBzbyB0aGUgcG9seWZpbGwgd2lsbCB0cnkgdG8gY2FsbCBpdCB3aXRoIGEgY2FsbGJhY2sgZmlyc3QsIGFuZCBpdCB3aWxsIGZhbGxiYWNrXG4gICAgICAgICAgICAgIC8vIHRvIG5vdCBwYXNzaW5nIHRoZSBjYWxsYmFjayBpZiB0aGUgZmlyc3QgY2FsbCBmYWlscy5cbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0oLi4uYXJncywgbWFrZUNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICAgICB9LCBtZXRhZGF0YSkpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChjYkVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGAke25hbWV9IEFQSSBtZXRob2QgZG9lc24ndCBzZWVtIHRvIHN1cHBvcnQgdGhlIGNhbGxiYWNrIHBhcmFtZXRlciwgYCArIFwiZmFsbGluZyBiYWNrIHRvIGNhbGwgaXQgd2l0aG91dCBhIGNhbGxiYWNrOiBcIiwgY2JFcnJvcik7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdKC4uLmFyZ3MpOyAvLyBVcGRhdGUgdGhlIEFQSSBtZXRob2QgbWV0YWRhdGEsIHNvIHRoYXQgdGhlIG5leHQgQVBJIGNhbGxzIHdpbGwgbm90IHRyeSB0b1xuICAgICAgICAgICAgICAgIC8vIHVzZSB0aGUgdW5zdXBwb3J0ZWQgY2FsbGJhY2sgYW55bW9yZS5cblxuICAgICAgICAgICAgICAgIG1ldGFkYXRhLmZhbGxiYWNrVG9Ob0NhbGxiYWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGEubm9DYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1ldGFkYXRhLm5vQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgdGFyZ2V0W25hbWVdKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0oLi4uYXJncywgbWFrZUNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgICB9LCBtZXRhZGF0YSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgIC8qKlxuICAgICAgICogV3JhcHMgYW4gZXhpc3RpbmcgbWV0aG9kIG9mIHRoZSB0YXJnZXQgb2JqZWN0LCBzbyB0aGF0IGNhbGxzIHRvIGl0IGFyZVxuICAgICAgICogaW50ZXJjZXB0ZWQgYnkgdGhlIGdpdmVuIHdyYXBwZXIgZnVuY3Rpb24uIFRoZSB3cmFwcGVyIGZ1bmN0aW9uIHJlY2VpdmVzLFxuICAgICAgICogYXMgaXRzIGZpcnN0IGFyZ3VtZW50LCB0aGUgb3JpZ2luYWwgYHRhcmdldGAgb2JqZWN0LCBmb2xsb3dlZCBieSBlYWNoIG9mXG4gICAgICAgKiB0aGUgYXJndW1lbnRzIHBhc3NlZCB0byB0aGUgb3JpZ2luYWwgbWV0aG9kLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSB0YXJnZXRcbiAgICAgICAqICAgICAgICBUaGUgb3JpZ2luYWwgdGFyZ2V0IG9iamVjdCB0aGF0IHRoZSB3cmFwcGVkIG1ldGhvZCBiZWxvbmdzIHRvLlxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gbWV0aG9kXG4gICAgICAgKiAgICAgICAgVGhlIG1ldGhvZCBiZWluZyB3cmFwcGVkLiBUaGlzIGlzIHVzZWQgYXMgdGhlIHRhcmdldCBvZiB0aGUgUHJveHlcbiAgICAgICAqICAgICAgICBvYmplY3Qgd2hpY2ggaXMgY3JlYXRlZCB0byB3cmFwIHRoZSBtZXRob2QuXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSB3cmFwcGVyXG4gICAgICAgKiAgICAgICAgVGhlIHdyYXBwZXIgZnVuY3Rpb24gd2hpY2ggaXMgY2FsbGVkIGluIHBsYWNlIG9mIGEgZGlyZWN0IGludm9jYXRpb25cbiAgICAgICAqICAgICAgICBvZiB0aGUgd3JhcHBlZCBtZXRob2QuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge1Byb3h5PGZ1bmN0aW9uPn1cbiAgICAgICAqICAgICAgICBBIFByb3h5IG9iamVjdCBmb3IgdGhlIGdpdmVuIG1ldGhvZCwgd2hpY2ggaW52b2tlcyB0aGUgZ2l2ZW4gd3JhcHBlclxuICAgICAgICogICAgICAgIG1ldGhvZCBpbiBpdHMgcGxhY2UuXG4gICAgICAgKi9cblxuXG4gICAgICBjb25zdCB3cmFwTWV0aG9kID0gKHRhcmdldCwgbWV0aG9kLCB3cmFwcGVyKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkobWV0aG9kLCB7XG4gICAgICAgICAgYXBwbHkodGFyZ2V0TWV0aG9kLCB0aGlzT2JqLCBhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlci5jYWxsKHRoaXNPYmosIHRhcmdldCwgLi4uYXJncyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgbGV0IGhhc093blByb3BlcnR5ID0gRnVuY3Rpb24uY2FsbC5iaW5kKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpO1xuICAgICAgLyoqXG4gICAgICAgKiBXcmFwcyBhbiBvYmplY3QgaW4gYSBQcm94eSB3aGljaCBpbnRlcmNlcHRzIGFuZCB3cmFwcyBjZXJ0YWluIG1ldGhvZHNcbiAgICAgICAqIGJhc2VkIG9uIHRoZSBnaXZlbiBgd3JhcHBlcnNgIGFuZCBgbWV0YWRhdGFgIG9iamVjdHMuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IHRhcmdldFxuICAgICAgICogICAgICAgIFRoZSB0YXJnZXQgb2JqZWN0IHRvIHdyYXAuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IFt3cmFwcGVycyA9IHt9XVxuICAgICAgICogICAgICAgIEFuIG9iamVjdCB0cmVlIGNvbnRhaW5pbmcgd3JhcHBlciBmdW5jdGlvbnMgZm9yIHNwZWNpYWwgY2FzZXMuIEFueVxuICAgICAgICogICAgICAgIGZ1bmN0aW9uIHByZXNlbnQgaW4gdGhpcyBvYmplY3QgdHJlZSBpcyBjYWxsZWQgaW4gcGxhY2Ugb2YgdGhlXG4gICAgICAgKiAgICAgICAgbWV0aG9kIGluIHRoZSBzYW1lIGxvY2F0aW9uIGluIHRoZSBgdGFyZ2V0YCBvYmplY3QgdHJlZS4gVGhlc2VcbiAgICAgICAqICAgICAgICB3cmFwcGVyIG1ldGhvZHMgYXJlIGludm9rZWQgYXMgZGVzY3JpYmVkIGluIHtAc2VlIHdyYXBNZXRob2R9LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbbWV0YWRhdGEgPSB7fV1cbiAgICAgICAqICAgICAgICBBbiBvYmplY3QgdHJlZSBjb250YWluaW5nIG1ldGFkYXRhIHVzZWQgdG8gYXV0b21hdGljYWxseSBnZW5lcmF0ZVxuICAgICAgICogICAgICAgIFByb21pc2UtYmFzZWQgd3JhcHBlciBmdW5jdGlvbnMgZm9yIGFzeW5jaHJvbm91cy4gQW55IGZ1bmN0aW9uIGluXG4gICAgICAgKiAgICAgICAgdGhlIGB0YXJnZXRgIG9iamVjdCB0cmVlIHdoaWNoIGhhcyBhIGNvcnJlc3BvbmRpbmcgbWV0YWRhdGEgb2JqZWN0XG4gICAgICAgKiAgICAgICAgaW4gdGhlIHNhbWUgbG9jYXRpb24gaW4gdGhlIGBtZXRhZGF0YWAgdHJlZSBpcyByZXBsYWNlZCB3aXRoIGFuXG4gICAgICAgKiAgICAgICAgYXV0b21hdGljYWxseS1nZW5lcmF0ZWQgd3JhcHBlciBmdW5jdGlvbiwgYXMgZGVzY3JpYmVkIGluXG4gICAgICAgKiAgICAgICAge0BzZWUgd3JhcEFzeW5jRnVuY3Rpb259XG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge1Byb3h5PG9iamVjdD59XG4gICAgICAgKi9cblxuICAgICAgY29uc3Qgd3JhcE9iamVjdCA9ICh0YXJnZXQsIHdyYXBwZXJzID0ge30sIG1ldGFkYXRhID0ge30pID0+IHtcbiAgICAgICAgbGV0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgbGV0IGhhbmRsZXJzID0ge1xuICAgICAgICAgIGhhcyhwcm94eVRhcmdldCwgcHJvcCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb3AgaW4gdGFyZ2V0IHx8IHByb3AgaW4gY2FjaGU7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGdldChwcm94eVRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgIGlmIChwcm9wIGluIGNhY2hlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjYWNoZVtwcm9wXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCEocHJvcCBpbiB0YXJnZXQpKSB7XG4gICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRhcmdldFtwcm9wXTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBtZXRob2Qgb24gdGhlIHVuZGVybHlpbmcgb2JqZWN0LiBDaGVjayBpZiB3ZSBuZWVkIHRvIGRvXG4gICAgICAgICAgICAgIC8vIGFueSB3cmFwcGluZy5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3cmFwcGVyc1twcm9wXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBhIHNwZWNpYWwtY2FzZSB3cmFwcGVyIGZvciB0aGlzIG1ldGhvZC5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHdyYXBNZXRob2QodGFyZ2V0LCB0YXJnZXRbcHJvcF0sIHdyYXBwZXJzW3Byb3BdKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNPd25Qcm9wZXJ0eShtZXRhZGF0YSwgcHJvcCkpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGFuIGFzeW5jIG1ldGhvZCB0aGF0IHdlIGhhdmUgbWV0YWRhdGEgZm9yLiBDcmVhdGUgYVxuICAgICAgICAgICAgICAgIC8vIFByb21pc2Ugd3JhcHBlciBmb3IgaXQuXG4gICAgICAgICAgICAgICAgbGV0IHdyYXBwZXIgPSB3cmFwQXN5bmNGdW5jdGlvbihwcm9wLCBtZXRhZGF0YVtwcm9wXSk7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB3cmFwTWV0aG9kKHRhcmdldCwgdGFyZ2V0W3Byb3BdLCB3cmFwcGVyKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgbWV0aG9kIHRoYXQgd2UgZG9uJ3Qga25vdyBvciBjYXJlIGFib3V0LiBSZXR1cm4gdGhlXG4gICAgICAgICAgICAgICAgLy8gb3JpZ2luYWwgbWV0aG9kLCBib3VuZCB0byB0aGUgdW5kZXJseWluZyBvYmplY3QuXG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5iaW5kKHRhcmdldCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIHZhbHVlICE9PSBudWxsICYmIChoYXNPd25Qcm9wZXJ0eSh3cmFwcGVycywgcHJvcCkgfHwgaGFzT3duUHJvcGVydHkobWV0YWRhdGEsIHByb3ApKSkge1xuICAgICAgICAgICAgICAvLyBUaGlzIGlzIGFuIG9iamVjdCB0aGF0IHdlIG5lZWQgdG8gZG8gc29tZSB3cmFwcGluZyBmb3IgdGhlIGNoaWxkcmVuXG4gICAgICAgICAgICAgIC8vIG9mLiBDcmVhdGUgYSBzdWItb2JqZWN0IHdyYXBwZXIgZm9yIGl0IHdpdGggdGhlIGFwcHJvcHJpYXRlIGNoaWxkXG4gICAgICAgICAgICAgIC8vIG1ldGFkYXRhLlxuICAgICAgICAgICAgICB2YWx1ZSA9IHdyYXBPYmplY3QodmFsdWUsIHdyYXBwZXJzW3Byb3BdLCBtZXRhZGF0YVtwcm9wXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGhhc093blByb3BlcnR5KG1ldGFkYXRhLCBcIipcIikpIHtcbiAgICAgICAgICAgICAgLy8gV3JhcCBhbGwgcHJvcGVydGllcyBpbiAqIG5hbWVzcGFjZS5cbiAgICAgICAgICAgICAgdmFsdWUgPSB3cmFwT2JqZWN0KHZhbHVlLCB3cmFwcGVyc1twcm9wXSwgbWV0YWRhdGFbXCIqXCJdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gZG8gYW55IHdyYXBwaW5nIGZvciB0aGlzIHByb3BlcnR5LFxuICAgICAgICAgICAgICAvLyBzbyBqdXN0IGZvcndhcmQgYWxsIGFjY2VzcyB0byB0aGUgdW5kZXJseWluZyBvYmplY3QuXG4gICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjYWNoZSwgcHJvcCwge1xuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuXG4gICAgICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FjaGVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgc2V0KHByb3h5VGFyZ2V0LCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgIGlmIChwcm9wIGluIGNhY2hlKSB7XG4gICAgICAgICAgICAgIGNhY2hlW3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGRlZmluZVByb3BlcnR5KHByb3h5VGFyZ2V0LCBwcm9wLCBkZXNjKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShjYWNoZSwgcHJvcCwgZGVzYyk7XG4gICAgICAgICAgfSxcblxuICAgICAgICAgIGRlbGV0ZVByb3BlcnR5KHByb3h5VGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShjYWNoZSwgcHJvcCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH07IC8vIFBlciBjb250cmFjdCBvZiB0aGUgUHJveHkgQVBJLCB0aGUgXCJnZXRcIiBwcm94eSBoYW5kbGVyIG11c3QgcmV0dXJuIHRoZVxuICAgICAgICAvLyBvcmlnaW5hbCB2YWx1ZSBvZiB0aGUgdGFyZ2V0IGlmIHRoYXQgdmFsdWUgaXMgZGVjbGFyZWQgcmVhZC1vbmx5IGFuZFxuICAgICAgICAvLyBub24tY29uZmlndXJhYmxlLiBGb3IgdGhpcyByZWFzb24sIHdlIGNyZWF0ZSBhbiBvYmplY3Qgd2l0aCB0aGVcbiAgICAgICAgLy8gcHJvdG90eXBlIHNldCB0byBgdGFyZ2V0YCBpbnN0ZWFkIG9mIHVzaW5nIGB0YXJnZXRgIGRpcmVjdGx5LlxuICAgICAgICAvLyBPdGhlcndpc2Ugd2UgY2Fubm90IHJldHVybiBhIGN1c3RvbSBvYmplY3QgZm9yIEFQSXMgdGhhdFxuICAgICAgICAvLyBhcmUgZGVjbGFyZWQgcmVhZC1vbmx5IGFuZCBub24tY29uZmlndXJhYmxlLCBzdWNoIGFzIGBjaHJvbWUuZGV2dG9vbHNgLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgcHJveHkgaGFuZGxlcnMgdGhlbXNlbHZlcyB3aWxsIHN0aWxsIHVzZSB0aGUgb3JpZ2luYWwgYHRhcmdldGBcbiAgICAgICAgLy8gaW5zdGVhZCBvZiB0aGUgYHByb3h5VGFyZ2V0YCwgc28gdGhhdCB0aGUgbWV0aG9kcyBhbmQgcHJvcGVydGllcyBhcmVcbiAgICAgICAgLy8gZGVyZWZlcmVuY2VkIHZpYSB0aGUgb3JpZ2luYWwgdGFyZ2V0cy5cblxuICAgICAgICBsZXQgcHJveHlUYXJnZXQgPSBPYmplY3QuY3JlYXRlKHRhcmdldCk7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkocHJveHlUYXJnZXQsIGhhbmRsZXJzKTtcbiAgICAgIH07XG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZXMgYSBzZXQgb2Ygd3JhcHBlciBmdW5jdGlvbnMgZm9yIGFuIGV2ZW50IG9iamVjdCwgd2hpY2ggaGFuZGxlc1xuICAgICAgICogd3JhcHBpbmcgb2YgbGlzdGVuZXIgZnVuY3Rpb25zIHRoYXQgdGhvc2UgbWVzc2FnZXMgYXJlIHBhc3NlZC5cbiAgICAgICAqXG4gICAgICAgKiBBIHNpbmdsZSB3cmFwcGVyIGlzIGNyZWF0ZWQgZm9yIGVhY2ggbGlzdGVuZXIgZnVuY3Rpb24sIGFuZCBzdG9yZWQgaW4gYVxuICAgICAgICogbWFwLiBTdWJzZXF1ZW50IGNhbGxzIHRvIGBhZGRMaXN0ZW5lcmAsIGBoYXNMaXN0ZW5lcmAsIG9yIGByZW1vdmVMaXN0ZW5lcmBcbiAgICAgICAqIHJldHJpZXZlIHRoZSBvcmlnaW5hbCB3cmFwcGVyLCBzbyB0aGF0ICBhdHRlbXB0cyB0byByZW1vdmUgYVxuICAgICAgICogcHJldmlvdXNseS1hZGRlZCBsaXN0ZW5lciB3b3JrIGFzIGV4cGVjdGVkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7RGVmYXVsdFdlYWtNYXA8ZnVuY3Rpb24sIGZ1bmN0aW9uPn0gd3JhcHBlck1hcFxuICAgICAgICogICAgICAgIEEgRGVmYXVsdFdlYWtNYXAgb2JqZWN0IHdoaWNoIHdpbGwgY3JlYXRlIHRoZSBhcHByb3ByaWF0ZSB3cmFwcGVyXG4gICAgICAgKiAgICAgICAgZm9yIGEgZ2l2ZW4gbGlzdGVuZXIgZnVuY3Rpb24gd2hlbiBvbmUgZG9lcyBub3QgZXhpc3QsIGFuZCByZXRyaWV2ZVxuICAgICAgICogICAgICAgIGFuIGV4aXN0aW5nIG9uZSB3aGVuIGl0IGRvZXMuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgICAqL1xuXG5cbiAgICAgIGNvbnN0IHdyYXBFdmVudCA9IHdyYXBwZXJNYXAgPT4gKHtcbiAgICAgICAgYWRkTGlzdGVuZXIodGFyZ2V0LCBsaXN0ZW5lciwgLi4uYXJncykge1xuICAgICAgICAgIHRhcmdldC5hZGRMaXN0ZW5lcih3cmFwcGVyTWFwLmdldChsaXN0ZW5lciksIC4uLmFyZ3MpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGhhc0xpc3RlbmVyKHRhcmdldCwgbGlzdGVuZXIpIHtcbiAgICAgICAgICByZXR1cm4gdGFyZ2V0Lmhhc0xpc3RlbmVyKHdyYXBwZXJNYXAuZ2V0KGxpc3RlbmVyKSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIodGFyZ2V0LCBsaXN0ZW5lcikge1xuICAgICAgICAgIHRhcmdldC5yZW1vdmVMaXN0ZW5lcih3cmFwcGVyTWFwLmdldChsaXN0ZW5lcikpO1xuICAgICAgICB9XG5cbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBvblJlcXVlc3RGaW5pc2hlZFdyYXBwZXJzID0gbmV3IERlZmF1bHRXZWFrTWFwKGxpc3RlbmVyID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgcmV0dXJuIGxpc3RlbmVyO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXcmFwcyBhbiBvblJlcXVlc3RGaW5pc2hlZCBsaXN0ZW5lciBmdW5jdGlvbiBzbyB0aGF0IGl0IHdpbGwgcmV0dXJuIGFcbiAgICAgICAgICogYGdldENvbnRlbnQoKWAgcHJvcGVydHkgd2hpY2ggcmV0dXJucyBhIGBQcm9taXNlYCByYXRoZXIgdGhhbiB1c2luZyBhXG4gICAgICAgICAqIGNhbGxiYWNrIEFQSS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IHJlcVxuICAgICAgICAgKiAgICAgICAgVGhlIEhBUiBlbnRyeSBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBuZXR3b3JrIHJlcXVlc3QuXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG9uUmVxdWVzdEZpbmlzaGVkKHJlcSkge1xuICAgICAgICAgIGNvbnN0IHdyYXBwZWRSZXEgPSB3cmFwT2JqZWN0KHJlcSwge31cbiAgICAgICAgICAvKiB3cmFwcGVycyAqL1xuICAgICAgICAgICwge1xuICAgICAgICAgICAgZ2V0Q29udGVudDoge1xuICAgICAgICAgICAgICBtaW5BcmdzOiAwLFxuICAgICAgICAgICAgICBtYXhBcmdzOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbGlzdGVuZXIod3JhcHBlZFJlcSk7XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG9uTWVzc2FnZVdyYXBwZXJzID0gbmV3IERlZmF1bHRXZWFrTWFwKGxpc3RlbmVyID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgcmV0dXJuIGxpc3RlbmVyO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXcmFwcyBhIG1lc3NhZ2UgbGlzdGVuZXIgZnVuY3Rpb24gc28gdGhhdCBpdCBtYXkgc2VuZCByZXNwb25zZXMgYmFzZWQgb25cbiAgICAgICAgICogaXRzIHJldHVybiB2YWx1ZSwgcmF0aGVyIHRoYW4gYnkgcmV0dXJuaW5nIGEgc2VudGluZWwgdmFsdWUgYW5kIGNhbGxpbmcgYVxuICAgICAgICAgKiBjYWxsYmFjay4gSWYgdGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHJldHVybnMgYSBQcm9taXNlLCB0aGUgcmVzcG9uc2UgaXNcbiAgICAgICAgICogc2VudCB3aGVuIHRoZSBwcm9taXNlIGVpdGhlciByZXNvbHZlcyBvciByZWplY3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0geyp9IG1lc3NhZ2VcbiAgICAgICAgICogICAgICAgIFRoZSBtZXNzYWdlIHNlbnQgYnkgdGhlIG90aGVyIGVuZCBvZiB0aGUgY2hhbm5lbC5cbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IHNlbmRlclxuICAgICAgICAgKiAgICAgICAgRGV0YWlscyBhYm91dCB0aGUgc2VuZGVyIG9mIHRoZSBtZXNzYWdlLlxuICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCopfSBzZW5kUmVzcG9uc2VcbiAgICAgICAgICogICAgICAgIEEgY2FsbGJhY2sgd2hpY2gsIHdoZW4gY2FsbGVkIHdpdGggYW4gYXJiaXRyYXJ5IGFyZ3VtZW50LCBzZW5kc1xuICAgICAgICAgKiAgICAgICAgdGhhdCB2YWx1ZSBhcyBhIHJlc3BvbnNlLlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgICAgICogICAgICAgIFRydWUgaWYgdGhlIHdyYXBwZWQgbGlzdGVuZXIgcmV0dXJuZWQgYSBQcm9taXNlLCB3aGljaCB3aWxsIGxhdGVyXG4gICAgICAgICAqICAgICAgICB5aWVsZCBhIHJlc3BvbnNlLiBGYWxzZSBvdGhlcndpc2UuXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG9uTWVzc2FnZShtZXNzYWdlLCBzZW5kZXIsIHNlbmRSZXNwb25zZSkge1xuICAgICAgICAgIGxldCBkaWRDYWxsU2VuZFJlc3BvbnNlID0gZmFsc2U7XG4gICAgICAgICAgbGV0IHdyYXBwZWRTZW5kUmVzcG9uc2U7XG4gICAgICAgICAgbGV0IHNlbmRSZXNwb25zZVByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIHdyYXBwZWRTZW5kUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgZGlkQ2FsbFNlbmRSZXNwb25zZSA9IHRydWU7XG4gICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBsZXQgcmVzdWx0O1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGxpc3RlbmVyKG1lc3NhZ2UsIHNlbmRlciwgd3JhcHBlZFNlbmRSZXNwb25zZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IGlzUmVzdWx0VGhlbmFibGUgPSByZXN1bHQgIT09IHRydWUgJiYgaXNUaGVuYWJsZShyZXN1bHQpOyAvLyBJZiB0aGUgbGlzdGVuZXIgZGlkbid0IHJldHVybmVkIHRydWUgb3IgYSBQcm9taXNlLCBvciBjYWxsZWRcbiAgICAgICAgICAvLyB3cmFwcGVkU2VuZFJlc3BvbnNlIHN5bmNocm9ub3VzbHksIHdlIGNhbiBleGl0IGVhcmxpZXJcbiAgICAgICAgICAvLyBiZWNhdXNlIHRoZXJlIHdpbGwgYmUgbm8gcmVzcG9uc2Ugc2VudCBmcm9tIHRoaXMgbGlzdGVuZXIuXG5cbiAgICAgICAgICBpZiAocmVzdWx0ICE9PSB0cnVlICYmICFpc1Jlc3VsdFRoZW5hYmxlICYmICFkaWRDYWxsU2VuZFJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSAvLyBBIHNtYWxsIGhlbHBlciB0byBzZW5kIHRoZSBtZXNzYWdlIGlmIHRoZSBwcm9taXNlIHJlc29sdmVzXG4gICAgICAgICAgLy8gYW5kIGFuIGVycm9yIGlmIHRoZSBwcm9taXNlIHJlamVjdHMgKGEgd3JhcHBlZCBzZW5kTWVzc2FnZSBoYXNcbiAgICAgICAgICAvLyB0byB0cmFuc2xhdGUgdGhlIG1lc3NhZ2UgaW50byBhIHJlc29sdmVkIHByb21pc2Ugb3IgYSByZWplY3RlZFxuICAgICAgICAgIC8vIHByb21pc2UpLlxuXG5cbiAgICAgICAgICBjb25zdCBzZW5kUHJvbWlzZWRSZXN1bHQgPSBwcm9taXNlID0+IHtcbiAgICAgICAgICAgIHByb21pc2UudGhlbihtc2cgPT4ge1xuICAgICAgICAgICAgICAvLyBzZW5kIHRoZSBtZXNzYWdlIHZhbHVlLlxuICAgICAgICAgICAgICBzZW5kUmVzcG9uc2UobXNnKTtcbiAgICAgICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgICAgLy8gU2VuZCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIGVycm9yIGlmIHRoZSByZWplY3RlZCB2YWx1ZVxuICAgICAgICAgICAgICAvLyBpcyBhbiBpbnN0YW5jZSBvZiBlcnJvciwgb3IgdGhlIG9iamVjdCBpdHNlbGYgb3RoZXJ3aXNlLlxuICAgICAgICAgICAgICBsZXQgbWVzc2FnZTtcblxuICAgICAgICAgICAgICBpZiAoZXJyb3IgJiYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgfHwgdHlwZW9mIGVycm9yLm1lc3NhZ2UgPT09IFwic3RyaW5nXCIpKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZFwiO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICBfX21veldlYkV4dGVuc2lvblBvbHlmaWxsUmVqZWN0X186IHRydWUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgIC8vIFByaW50IGFuIGVycm9yIG9uIHRoZSBjb25zb2xlIGlmIHVuYWJsZSB0byBzZW5kIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBzZW5kIG9uTWVzc2FnZSByZWplY3RlZCByZXBseVwiLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTsgLy8gSWYgdGhlIGxpc3RlbmVyIHJldHVybmVkIGEgUHJvbWlzZSwgc2VuZCB0aGUgcmVzb2x2ZWQgdmFsdWUgYXMgYVxuICAgICAgICAgIC8vIHJlc3VsdCwgb3RoZXJ3aXNlIHdhaXQgdGhlIHByb21pc2UgcmVsYXRlZCB0byB0aGUgd3JhcHBlZFNlbmRSZXNwb25zZVxuICAgICAgICAgIC8vIGNhbGxiYWNrIHRvIHJlc29sdmUgYW5kIHNlbmQgaXQgYXMgYSByZXNwb25zZS5cblxuXG4gICAgICAgICAgaWYgKGlzUmVzdWx0VGhlbmFibGUpIHtcbiAgICAgICAgICAgIHNlbmRQcm9taXNlZFJlc3VsdChyZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZW5kUHJvbWlzZWRSZXN1bHQoc2VuZFJlc3BvbnNlUHJvbWlzZSk7XG4gICAgICAgICAgfSAvLyBMZXQgQ2hyb21lIGtub3cgdGhhdCB0aGUgbGlzdGVuZXIgaXMgcmVwbHlpbmcuXG5cblxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHdyYXBwZWRTZW5kTWVzc2FnZUNhbGxiYWNrID0gKHtcbiAgICAgICAgcmVqZWN0LFxuICAgICAgICByZXNvbHZlXG4gICAgICB9LCByZXBseSkgPT4ge1xuICAgICAgICBpZiAoZXh0ZW5zaW9uQVBJcy5ydW50aW1lLmxhc3RFcnJvcikge1xuICAgICAgICAgIC8vIERldGVjdCB3aGVuIG5vbmUgb2YgdGhlIGxpc3RlbmVycyByZXBsaWVkIHRvIHRoZSBzZW5kTWVzc2FnZSBjYWxsIGFuZCByZXNvbHZlXG4gICAgICAgICAgLy8gdGhlIHByb21pc2UgdG8gdW5kZWZpbmVkIGFzIGluIEZpcmVmb3guXG4gICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3dlYmV4dGVuc2lvbi1wb2x5ZmlsbC9pc3N1ZXMvMTMwXG4gICAgICAgICAgaWYgKGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IubWVzc2FnZSA9PT0gQ0hST01FX1NFTkRfTUVTU0FHRV9DQUxMQkFDS19OT19SRVNQT05TRV9NRVNTQUdFKSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoZXh0ZW5zaW9uQVBJcy5ydW50aW1lLmxhc3RFcnJvci5tZXNzYWdlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJlcGx5ICYmIHJlcGx5Ll9fbW96V2ViRXh0ZW5zaW9uUG9seWZpbGxSZWplY3RfXykge1xuICAgICAgICAgIC8vIENvbnZlcnQgYmFjayB0aGUgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgZXJyb3IgaW50b1xuICAgICAgICAgIC8vIGFuIEVycm9yIGluc3RhbmNlLlxuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IocmVwbHkubWVzc2FnZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUocmVwbHkpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB3cmFwcGVkU2VuZE1lc3NhZ2UgPSAobmFtZSwgbWV0YWRhdGEsIGFwaU5hbWVzcGFjZU9iaiwgLi4uYXJncykgPT4ge1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPCBtZXRhZGF0YS5taW5BcmdzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCAke21ldGFkYXRhLm1pbkFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1pbkFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IG1ldGFkYXRhLm1heEFyZ3MpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IG1vc3QgJHttZXRhZGF0YS5tYXhBcmdzfSAke3BsdXJhbGl6ZUFyZ3VtZW50cyhtZXRhZGF0YS5tYXhBcmdzKX0gZm9yICR7bmFtZX0oKSwgZ290ICR7YXJncy5sZW5ndGh9YCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHdyYXBwZWRDYiA9IHdyYXBwZWRTZW5kTWVzc2FnZUNhbGxiYWNrLmJpbmQobnVsbCwge1xuICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGFyZ3MucHVzaCh3cmFwcGVkQ2IpO1xuICAgICAgICAgIGFwaU5hbWVzcGFjZU9iai5zZW5kTWVzc2FnZSguLi5hcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCBzdGF0aWNXcmFwcGVycyA9IHtcbiAgICAgICAgZGV2dG9vbHM6IHtcbiAgICAgICAgICBuZXR3b3JrOiB7XG4gICAgICAgICAgICBvblJlcXVlc3RGaW5pc2hlZDogd3JhcEV2ZW50KG9uUmVxdWVzdEZpbmlzaGVkV3JhcHBlcnMpXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBydW50aW1lOiB7XG4gICAgICAgICAgb25NZXNzYWdlOiB3cmFwRXZlbnQob25NZXNzYWdlV3JhcHBlcnMpLFxuICAgICAgICAgIG9uTWVzc2FnZUV4dGVybmFsOiB3cmFwRXZlbnQob25NZXNzYWdlV3JhcHBlcnMpLFxuICAgICAgICAgIHNlbmRNZXNzYWdlOiB3cmFwcGVkU2VuZE1lc3NhZ2UuYmluZChudWxsLCBcInNlbmRNZXNzYWdlXCIsIHtcbiAgICAgICAgICAgIG1pbkFyZ3M6IDEsXG4gICAgICAgICAgICBtYXhBcmdzOiAzXG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgdGFiczoge1xuICAgICAgICAgIHNlbmRNZXNzYWdlOiB3cmFwcGVkU2VuZE1lc3NhZ2UuYmluZChudWxsLCBcInNlbmRNZXNzYWdlXCIsIHtcbiAgICAgICAgICAgIG1pbkFyZ3M6IDIsXG4gICAgICAgICAgICBtYXhBcmdzOiAzXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IHNldHRpbmdNZXRhZGF0YSA9IHtcbiAgICAgICAgY2xlYXI6IHtcbiAgICAgICAgICBtaW5BcmdzOiAxLFxuICAgICAgICAgIG1heEFyZ3M6IDFcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0OiB7XG4gICAgICAgICAgbWluQXJnczogMSxcbiAgICAgICAgICBtYXhBcmdzOiAxXG4gICAgICAgIH0sXG4gICAgICAgIHNldDoge1xuICAgICAgICAgIG1pbkFyZ3M6IDEsXG4gICAgICAgICAgbWF4QXJnczogMVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgYXBpTWV0YWRhdGEucHJpdmFjeSA9IHtcbiAgICAgICAgbmV0d29yazoge1xuICAgICAgICAgIFwiKlwiOiBzZXR0aW5nTWV0YWRhdGFcbiAgICAgICAgfSxcbiAgICAgICAgc2VydmljZXM6IHtcbiAgICAgICAgICBcIipcIjogc2V0dGluZ01ldGFkYXRhXG4gICAgICAgIH0sXG4gICAgICAgIHdlYnNpdGVzOiB7XG4gICAgICAgICAgXCIqXCI6IHNldHRpbmdNZXRhZGF0YVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHdyYXBPYmplY3QoZXh0ZW5zaW9uQVBJcywgc3RhdGljV3JhcHBlcnMsIGFwaU1ldGFkYXRhKTtcbiAgICB9OyAvLyBUaGUgYnVpbGQgcHJvY2VzcyBhZGRzIGEgVU1EIHdyYXBwZXIgYXJvdW5kIHRoaXMgZmlsZSwgd2hpY2ggbWFrZXMgdGhlXG4gICAgLy8gYG1vZHVsZWAgdmFyaWFibGUgYXZhaWxhYmxlLlxuXG5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IHdyYXBBUElzKGNocm9tZSk7XG4gIH0gZWxzZSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBnbG9iYWxUaGlzLmJyb3dzZXI7XG4gIH1cbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJvd3Nlci1wb2x5ZmlsbC5qcy5tYXBcbiIsIi8vIHZhciBicm93c2VyID0gcmVxdWlyZShcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiKTtcblxuY2xhc3MgVG9rZW4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNlY1Rva2VuID0gW107XG4gICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgdGhpcy5vcmdJZCA9IFwiXCI7XG4gICAgdGhpcy5jZXJ0aWZpY2F0aW9uQXV0aG9yaXR5ID0gZmFsc2U7XG4gICAgdGhpcy5lc2lhT3JnSW5mbyA9IGZhbHNlO1xuICAgIGNvbnNvbGUubG9nKFwiSW5pdCBUb2tlblwiKTtcbiAgfVxuXG4gIHVpbnRUb1N0cmluZyh1aW50QXJyYXkpIHtcbiAgICB2YXIgZW5jb2RlZFN0cmluZyA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgdWludEFycmF5KSxcbiAgICAgIGRlY29kZWRTdHJpbmcgPSBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKGVuY29kZWRTdHJpbmcpKTtcbiAgICByZXR1cm4gZGVjb2RlZFN0cmluZztcbiAgfVxuXG4gIHBhcnNlVG9rZW4ocmVxdWVzdERldGFpbHMpIHtcbiAgICAvLyBpZiAocmVxdWVzdERldGFpbHMubWV0aG9kID09ICdHRVQnKSB7XG4gICAgLy8gICAvL9C/0YDQvtCx0YPQtdC8INC/0L7Qu9GD0YfQuNGC0Ywg0YLQvtC60LXQvSDQuNC3IFVSTFxuICAgIC8vICAgdmFyIGFyciA9IHJlcXVlc3REZXRhaWxzLnVybC5tYXRjaCgvXltcXHdcXFddK2FwaVxcL2FjY291bnRcXC9pc0FjdHVhbFxcLyhbXFx3XFxXXSskKS9pKTtcbiAgICAvLyAgIGlmIChhcnIgJiYgYXJyLmxlbmd0aCA9PSAyKSB7XG4gICAgLy8gICAgIHRoaXMuc2V0VG9rZW4oYXJyWzFdKTtcbiAgICAvLyAgIH1cbiAgICAvLyB9XG4gICAgLy8gZWxzZVxuICAgIGlmIChyZXF1ZXN0RGV0YWlscy5tZXRob2QgPT0gXCJQT1NUXCIpIHtcbiAgICAgIC8v0L/RgNC+0LHRg9C10Lwg0L/QvtC70YPRh9C40YLRjCDRgtC+0LrQtdC9INC40Lcg0YXQuNC00LXRgNC+0LJcbiAgICAgIGlmIChyZXF1ZXN0RGV0YWlscy5yZXF1ZXN0SGVhZGVycylcbiAgICAgICAgcmVxdWVzdERldGFpbHMucmVxdWVzdEhlYWRlcnMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgIGlmIChpdGVtLm5hbWUgPT0gXCJBdXRob3JpemF0aW9uXCIpIHtcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IGl0ZW0udmFsdWUucmVwbGFjZSgvXkJlYXJlclxccysvLCBcIlwiKTtcbiAgICAgICAgICAgIHRoaXMuc2V0VG9rZW4odG9rZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXRlbS5uYW1lID09IFwib3JnSWRcIikge1xuICAgICAgICAgICAgdGhpcy5zZXRPcmdJZChpdGVtLnZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHBhcnNlT3JnYW5EYXRhKHJlcXVlc3REZXRhaWxzKSB7XG4gICAgc3dpdGNoIChyZXF1ZXN0RGV0YWlscy5tZXRob2QpIHtcbiAgICAgIGNhc2UgXCJQT1NUXCI6XG4gICAgICAgIGlmIChyZXF1ZXN0RGV0YWlscy51cmwuaW5jbHVkZXMoIFwiL2FwaS92MS9yZHMvY29tbW9uL2FwcGxpY2F0aW9uc1wiKSAmJiByZXF1ZXN0RGV0YWlscy5yZXF1ZXN0Qm9keS5yYXcubGVuZ3RoKXtcbiAgICAgICAgICAgIHZhciByZXNwID0gSlNPTi5wYXJzZShcbiAgICAgICAgICAgICAgdGhpcy51aW50VG9TdHJpbmcobmV3IFVpbnQ4QXJyYXkocmVxdWVzdERldGFpbHMucmVxdWVzdEJvZHkucmF3WzBdLmJ5dGVzKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuY2VydGlmaWNhdGlvbkF1dGhvcml0eSkge1xuICAgICAgICAgICAgICBicm93c2VyLnN0b3JhZ2UubG9jYWwuc2V0KHtcbiAgICAgICAgICAgICAgICBjZXJ0aWZpY2F0aW9uQXV0aG9yaXR5OiBKU09OLnN0cmluZ2lmeShyZXNwLmNlcnRpZmljYXRpb25BdXRob3JpdHkpLFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc2V0T3JnSWQob3JnSWQpIHtcbiAgICBpZiAodGhpcy5vcmdJZCAhPSBvcmdJZCkge1xuICAgICAgdGhpcy5vcmdJZCA9IG9yZ0lkO1xuICAgICAgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldCh7IG9yZ0lkOiBvcmdJZCB9KTtcbiAgICB9XG4gIH1cblxuICBzZXRUb2tlbih0b2tlbikge1xuICAgIGNvbnNvbGUubG9nKCd0b2tlbiA6Pj4gJywgdG9rZW4sICF0aGlzLnNlY1Rva2VuLnNvbWUoKGl0ZW0pID0+IGl0ZW0gPT0gdG9rZW4pKTtcbiAgICBpZiAoIXRva2VuKSByZXR1cm47XG4gICAgaWYgKCF0aGlzLnNlY1Rva2VuLnNvbWUoKGl0ZW0pID0+IGl0ZW0gPT0gdG9rZW4pKSB7XG4gICAgICB0aGlzLnNlY1Rva2VuLnB1c2godG9rZW4pO1xuICAgICAgLy8gbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJmZ2lzVG9rZW5cIiwgdG9rZW4pO1xuICAgICAgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldCh7IGZnaXNUb2tlbjogdG9rZW4gfSk7XG4gICAgfVxuICB9XG4gIGdldE9yZ0lkKCkge1xuICAgIHJldHVybiB0aGlzLm9yZ0lkO1xuICB9XG4gIGdldFRva2VuKCkge1xuICAgIHJldHVybiB0aGlzLnNlY1Rva2VuLmxlbmd0aCA/IHRoaXMuc2VjVG9rZW5bdGhpcy5zZWNUb2tlbi5sZW5ndGggLSAxXSA6IFwiXCI7XG4gIH1cbiAgc3RhcnQoKSB7XG4gICAgaWYgKHRoaXMuc3RhcnRlZCkgcmV0dXJuO1xuICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgdmFyIHVybCA9IFtcIio6Ly8xMC4yNTAuNzQuMTcvKlwiLCBcIio6Ly9zcmQuZnNhLmdvdi5ydS8qXCJdO1xuICAgIGJyb3dzZXIud2ViUmVxdWVzdC5vbkJlZm9yZVNlbmRIZWFkZXJzLmFkZExpc3RlbmVyKFxuICAgICAgdGhpcy5wYXJzZVRva2VuLmJpbmQodGhpcyksXG4gICAgICB7IHVybHM6IHVybCB9LFxuICAgICAgW1wicmVxdWVzdEhlYWRlcnNcIl1cbiAgICApO1xuXG4gICAgYnJvd3Nlci53ZWJSZXF1ZXN0Lm9uQmVmb3JlUmVxdWVzdC5hZGRMaXN0ZW5lcihcbiAgICAgIHRoaXMucGFyc2VPcmdhbkRhdGEuYmluZCh0aGlzKSxcbiAgICAgIHsgdXJsczogdXJsIH0sXG4gICAgICBbXCJyZXF1ZXN0Qm9keVwiXVxuICAgICk7XG5cbiAgICAvLyB0aGlzLnNldFRva2VuKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZmdpc1Rva2VuXCIpKTtcbiAgICB0aGlzLnNldFRva2VuKGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5nZXQoICdmZ2lzVG9rZW4nKSk7XG4gICAgICA7XG4gIH1cbiAgY2hlY2tUb2tlbigpIHtcbiAgICBpZiAodGhpcy50b2tlbi5nZXRUb2tlbigpID09IFwiXCIpIHtcbiAgICAgIHRocm93IFwi0J3QtdGCINGC0L7QutC10L3QsC4g0JfQsNC70L7Qs9C40L3RjNGC0LXRgdGMINCyIDEwLjI1MC43NC4xNywgc3JkLmZzYS5nb3YucnVcIjtcbiAgICB9XG4gIH1cblxufVxuXG5leHBvcnQgeyBUb2tlbn1cbiIsIlxuY2xhc3MgRW5kcG9pbnQge1xuICBjb25zdHJ1Y3RvcihhZHZhbmNlLCBtZXRob2QsIHVybCwgcGFyYW1zLCByZXR1cm5UeXBlLCBkZXNjcmlwdGlvbikge1xuICAgIHRoaXMuYWR2YW5jZSA9IGFkdmFuY2U7XG4gICAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgdGhpcy5yZXR1cm5UeXBlID0gcmV0dXJuVHlwZTtcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gIH1cbiAgZmV0Y2goLi4uYXJncykge1xuICAgIHJldHVybiB0aGlzLmFkdmFuY2UuZmV0Y2godGhpcywgLi4uYXJncyk7XG4gIH1cbn1cbmNsYXNzIEFkdmFuY2Uge1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZG9tYWluLCBhZHZhbmNlX3R5cGUpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5hZ2VuY3lfY29kZSA9IHNldHRpbmdzLmFnZW5jeV9jb2RlO1xuICAgICAgdGhpcy5hZ2VuY3lfa2V5d29yZCA9IHNldHRpbmdzLmFnZW5jeV9rZXl3b3JkO1xuICAgICAgdGhpcy5kb2N1bWVudF90b2tlbiA9IHNldHRpbmdzLmRvY3VtZW50X3Rva2VuIHx8IG51bGw7XG4gICAgICB0aGlzLmFwaVZlcnNpb24gPSB0aGlzLmRvY3VtZW50X3Rva2VuID8gMyA6IDI7XG4gICAgICB0aGlzLmRvbWFpbiA9IGRvbWFpbjtcblxuICAgICAgdGhpcy5FbmRwb2ludCA9ICh7IG1ldGhvZCwgdXJsLCBwYXJhbXMsIHJldHVyblR5cGUsIGRlc2NyaXB0aW9uIH0pID0+IG5ldyBFbmRwb2ludCh0aGlzLCBtZXRob2QsIHVybCwgcGFyYW1zLCByZXR1cm5UeXBlLCBkZXNjcmlwdGlvbik7XG4gICAgICB0aGlzLmFkdmFuY2VfdHlwZSA9IGFkdmFuY2VfdHlwZTtcblxuICAgICAgdGhpcy5yZXBlYXRDb3VudCA9IDA7XG4gICAgICB0aGlzLmN1cnJlbnRVc2VySWQgPSAwO1xuICAgICAgdGhpcy5tYXhSZXBlYXQgPSA1O1xuICAgICAgdGhpcy5taXNzX3Rocm93ID0gZmFsc2U7XG4gICAgICB0aGlzLmRhdGEgPSB7XG4gICAgICAgIGFnZW5jeURhdGE6IHsgbWV0aG9kOiAnR0VUJywgdXJsOiBgL2FwaS92JHt0aGlzLmFwaVZlcnNpb259L2ZnaXMvYWdlbmN5L2RhdGFgIH0sXG4gICAgICAgIGV4cGVydHM6IHsgbWV0aG9kOiAnR0VUJywgdXJsOiBgL2FwaS92JHt0aGlzLmFwaVZlcnNpb259L2ZnaXMvYWdlbmN5L2V4cGVydHNgIH0sXG4gICAgICAgIGdldEN1cnJlbnRVc2VySWQ6IHsgbWV0aG9kOiAnR0VUJywgdXJsOiAnL0FjY291bnQvR2V0Q3VycmVudFVzZXJJZCcsIG5vS2V5czogdHJ1ZSB9LFxuICAgICAgfTtcblxuICAgICAgdGhpcy5zdGF0ZW1lbnQgPSB7XG4gICAgICAgIHF1ZXVlOiB7XG4gICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICB1cmw6IGAvYXBpL3Yke3RoaXMuYXBpVmVyc2lvbn0vZmdpcy8ke3RoaXMuYWR2YW5jZV90eXBlfS9zdGF0ZW1lbnQvcXVldWVgLFxuICAgICAgICB9LFxuICAgICAgICBzaG93OiB7XG4gICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICB1cmw6IGAvYXBpL3Yke3RoaXMuYXBpVmVyc2lvbn0vZmdpcy8ke3RoaXMuYWR2YW5jZV90eXBlfS9zdGF0ZW1lbnQvc2hvdy97aWR9YCxcbiAgICAgICAgICBwYXJhbXM6IFsnaWQnXSxcbiAgICAgICAgfSxcbiAgICAgICAgaW5pdDoge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgdXJsOiBgL2FwaS92JHt0aGlzLmFwaVZlcnNpb259L2ZnaXMvJHt0aGlzLmFkdmFuY2VfdHlwZX0vc3RhdGVtZW50L2luaXQve2lkfWAsXG4gICAgICAgICAgcGFyYW1zOiBbJ2lkJ10sXG4gICAgICAgICAgZGVzY3JpcHRpb246ICd1c2VyX2lkJyxcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0X3VybDoge1xuICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgdXJsOiBgL2FwaS92JHt0aGlzLmFwaVZlcnNpb259L2ZnaXMvJHt0aGlzLmFkdmFuY2VfdHlwZX0vc3RhdGVtZW50L3VybC97aWR9YCxcbiAgICAgICAgICBwYXJhbXM6IFsnaWQnXSxcbiAgICAgICAgfSxcbiAgICAgICAgc2V0X3VybDoge1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgdXJsOiBgL2FwaS92JHt0aGlzLmFwaVZlcnNpb259L2ZnaXMvJHt0aGlzLmFkdmFuY2VfdHlwZX0vc3RhdGVtZW50L3NldF91cmxgLFxuICAgICAgICB9LFxuICAgICAgICBnZXRfc3RhdGU6IHtcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIHVybDogYC9hcGkvdiR7dGhpcy5hcGlWZXJzaW9ufS9mZ2lzLyR7dGhpcy5hZHZhbmNlX3R5cGV9L3N0YXRlbWVudC9zdGF0dXMve2lkfWAsXG4gICAgICAgICAgcGFyYW1zOiBbJ2lkJ10sXG4gICAgICAgIH0sXG4gICAgICAgIHNldF9zdGF0dXM6IHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIHVybDogYC9hcGkvdiR7dGhpcy5hcGlWZXJzaW9ufS9mZ2lzLyR7dGhpcy5hZHZhbmNlX3R5cGV9L3N0YXRlbWVudC9zZXRfc3RhdHVzYCxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYGlkIC0g0LjQtNC10L3RgtC40YTQuNC60LDRgtC+INC00L7QutGD0LzQtdC90YLQsFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJfaWQgLSDQuNC00LXQvdGC0LjRhNC40LrQsNGC0L7RgCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgLSDRgdGC0LDRgtGD0YEg0YDQtdC/0LvQuNC60LDRhtC40LhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQmtC+0LTRiyDRgdGC0LDRgtGD0YHQvtCyINGA0LXQv9C70LjQutCw0YbQuNC4OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCd0LUg0YPRgdGC0LDQvdC+0LLQu9C10L0gLSBOb3RTZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQk9C+0YLQvtCy0L4g0Log0LLRi9Cz0YDRg9C30LrQtSAtIFJlYWR5VG9VcGxvYWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQktGL0LPRgNGD0LbQsNC10YLRgdGPIC0gVXBsb2FkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J7RiNC40LHQutCwINCy0YvQs9GA0YPQt9C60LggLSBVcGxvYWRFcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCS0YvQs9GA0YPQttC10L3QviAtIFVwbG9hZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J/QvtC00L/QuNGB0YvQstCw0LXRgtGB0Y8gLSBTaWduaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J7RiNC40LHQutCwINC/0L7QtNC/0LjRgdC4IC0gU2lnbkVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J/QvtC00L/QuNGB0LDQvdC+IC0gU2lnbmVkYCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICB0aGlzLmRvY3VtZW50ID0ge1xuICAgICAgICBzaG93OiB7XG4gICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICB1cmw6IGAvYXBpL3Yke3RoaXMuYXBpVmVyc2lvbn0vZmdpcy8ke3RoaXMuYWR2YW5jZV90eXBlfS9kb2N1bWVudC9zaG93L3tpZH1gLFxuICAgICAgICAgIHBhcmFtczogWydpZCddLFxuICAgICAgICB9LFxuICAgICAgICBkb3dubG9hZF9hcmNoaXZlOiB7XG4gICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICB1cmw6IGAvYXBpL3Yke3RoaXMuYXBpVmVyc2lvbn0vZmdpcy8ke3RoaXMuYWR2YW5jZV90eXBlfS9kb2N1bWVudC9kb3dubG9hZC97aWR9YCxcbiAgICAgICAgICBwYXJhbXM6IFsnaWQnXSxcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0X3Byb3RvY29sczoge1xuICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgdXJsOiBgL2FwaS92JHt0aGlzLmFwaVZlcnNpb259L2ZnaXMvJHt0aGlzLmFkdmFuY2VfdHlwZX0vZG9jdW1lbnQve2lkfS9wcm90b2NvbHNgLFxuICAgICAgICAgIHBhcmFtczogWydpZCddLFxuICAgICAgICB9LFxuICAgICAgICBnZXRfZmlsZV9wcm90b2NvbDoge1xuICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgdXJsOiBgL2FwaS92JHt0aGlzLmFwaVZlcnNpb259L2ZnaXMvJHt0aGlzLmFkdmFuY2VfdHlwZX0vZG9jdW1lbnQve2lkfS9wcm90b2NvbHMvZmlsZXMve2ZpbGVJZH1gLFxuICAgICAgICAgIHBhcmFtczogWydpZCcsICdmaWxlSWQnXSxcbiAgICAgICAgICByZXR1cm5UeXBlOiAnYmxvYicsXG4gICAgICAgIH0sXG4gICAgICAgIHB1dF9maWxlX3Byb3RvY29sOiB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICB1cmw6IGAvYXBpL3Yke3RoaXMuYXBpVmVyc2lvbn0vZmdpcy8ke3RoaXMuYWR2YW5jZV90eXBlfS9kb2N1bWVudC97aWR9L3Byb3RvY29scy9maWxlcy97ZmlsZUlkfS9zZXRfaWRgLFxuICAgICAgICAgIHBhcmFtczogWydpZCcsICdmaWxlSWQnXSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgICAgICdmZ2lzX2ZpbGVfaWQgLSDQuNC00LXQvdGC0LjRhNC40LrQsNGC0L7RgCDQt9Cw0LPRgNGD0LbQtdC90L3QvtCz0L4g0YTQsNC50LvQsCDQv9GA0L7RgtC+0LrQvtC70LAg0LLQviDQpNCT0JjQoSDRgdC+0YXRgNCw0L3Rj9C10YIg0LjQtNC10L3RgtC40YTQuNC60LDRgtC+0YAg0KTQk9CY0KEg0YTQsNC50LvQsCDQv9GA0L7RgtC+0LrQvtC70LAnLFxuICAgICAgICB9LFxuICAgICAgICBnZXRfZG9jdW1lbnRfZmlsZXM6IHtcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIHVybDogYC9hcGkvdiR7dGhpcy5hcGlWZXJzaW9ufS9mZ2lzLyR7dGhpcy5hZHZhbmNlX3R5cGV9L2RvY3VtZW50L3tpZH0vYXBwbGljYW50L2ZpbGVzYCxcbiAgICAgICAgICBwYXJhbXM6IFsnaWQnXSxcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0X2ZpbGVfZG9jdW1lbnQ6IHtcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIHVybDogYC9hcGkvdiR7dGhpcy5hcGlWZXJzaW9ufS9mZ2lzLyR7dGhpcy5hZHZhbmNlX3R5cGV9L2RvY3VtZW50L3tpZH0vYXBwbGljYW50L2ZpbGUve2ZpbGVJZH1gLFxuICAgICAgICAgIHBhcmFtczogWydpZCcsICdmaWxlSWQnXSxcbiAgICAgICAgICByZXR1cm5UeXBlOiAnYmxvYicsXG4gICAgICAgIH0sXG4gICAgICAgIHB1dF9maWxlX2RvY3VtZW50OiB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICB1cmw6IGAvYXBpL3Yke3RoaXMuYXBpVmVyc2lvbn0vZmdpcy8ke3RoaXMuYWR2YW5jZV90eXBlfS9kb2N1bWVudC97aWR9L2FwcGxpY2FudC9maWxlL3tmaWxlSWR9L3NldF9pZGAsXG4gICAgICAgICAgcGFyYW1zOiBbJ2lkJywgJ2ZpbGVJZCddLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgICAgJ2ZnaXNfZmlsZV9pZCAtINC40LTQtdC90YLQuNGE0LjQutCw0YLQvtGAINC30LDQs9GA0YPQttC10L3QvdC+0LPQviDRhNCw0LnQu9CwINC/0YDQvtGC0L7QutC+0LvQsCDQstC+INCk0JPQmNChINGB0L7RhdGA0LDQvdGP0LXRgiDQuNC00LXQvdGC0LjRhNC40LrQsNGC0L7RgCDQpNCT0JjQoSDRhNCw0LnQu9CwINC/0YDQvtGC0L7QutC+0LvQsCcsXG4gICAgICAgIH0sXG4gICAgICAgIGluaXQ6IHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIHVybDogYC9hcGkvdiR7dGhpcy5hcGlWZXJzaW9ufS9mZ2lzLyR7dGhpcy5hZHZhbmNlX3R5cGV9L2RvY3VtZW50L2luaXQve2lkfWAsXG4gICAgICAgICAgcGFyYW1zOiBbJ2lkJ10sXG4gICAgICAgIH0sXG4gICAgICAgIGdldF9zdGF0ZToge1xuICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgdXJsOiBgL2FwaS92JHt0aGlzLmFwaVZlcnNpb259L2ZnaXMvJHt0aGlzLmFkdmFuY2VfdHlwZX0vZG9jdW1lbnQvc3RhdHVzL3tpZH1gLFxuICAgICAgICAgIHBhcmFtczogWydpZCddLFxuICAgICAgICB9LFxuICAgICAgICBzZXRfc3RhdHVzOiB7XG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICB1cmw6IGAvYXBpL3Yke3RoaXMuYXBpVmVyc2lvbn0vZmdpcy8ke3RoaXMuYWR2YW5jZV90eXBlfS9kb2N1bWVudC9zZXRfc3RhdHVzYCxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYGlkIC0g0LjQtNC10L3RgtC40YTQuNC60LDRgtC+INC00L7QutGD0LzQtdC90YLQsFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcl9pZCAtINC40LTQtdC90YLQuNGE0LjQutCw0YLQvtGAINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzIC0g0YHRgtCw0YLRg9GBINGA0LXQv9C70LjQutCw0YbQuNC4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQmtC+0LTRiyDRgdGC0LDRgtGD0YHQvtCyINGA0LXQv9C70LjQutCw0YbQuNC4OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J3QtSDRg9GB0YLQsNC90L7QstC70LXQvSAtIE5vdFNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0JPQvtGC0L7QstC+INC6INCy0YvQs9GA0YPQt9C60LUgLSBSZWFkeVRvVXBsb2FkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQktGL0LPRgNGD0LbQsNC10YLRgdGPIC0gVXBsb2FkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQntGI0LjQsdC60LAg0LLRi9Cz0YDRg9C30LrQuCAtIFVwbG9hZEVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQktGL0LPRgNGD0LbQtdC90L4gLSBVcGxvYWRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg0J/QvtC00L/QuNGB0YvQstCw0LXRgtGB0Y8gLSBTaWduaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDQntGI0LjQsdC60LAg0L/QvtC00L/QuNGB0LggLSBTaWduRXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgINCf0L7QtNC/0LjRgdCw0L3QviAtIFNpZ25lZGAsXG4gICAgICAgIH0sXG4gICAgICAgIGxhc3Q6IHtcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIHVybDogYC9hcGkvdiR7dGhpcy5hcGlWZXJzaW9ufS9mZ2lzLyR7dGhpcy5hZHZhbmNlX3R5cGV9L2RvY3VtZW50L2xhc3RgLFxuICAgICAgICB9LFxuICAgICAgICBibGFua3M6IHtcbiAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgIHVybDogYC9hcGkvdiR7dGhpcy5hcGlWZXJzaW9ufS9mZ2lzL1NUUkVBL2RvY3VtZW50L2JsYW5rcy97aWR9YCxcbiAgICAgICAgICBwYXJhbXM6IFsnaWQnXSxcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIFtcbiAgICAgICAgXCJwcm9kdWN0X2RvY1wiLFxuICAgICAgICBcIm90aGVyX2RvY1wiLFxuICAgICAgICBcImNvbmNsdXNpb25fZG9jXCIsXG4gICAgICAgIFwic2FtcGxpbmdfZG9jXCIsXG4gICAgICAgIFwicW1zX2RvY1wiLFxuICAgICAgICBcImFjdF9kb2NcIixcbiAgICAgICAgXCJjZXJ0X2RvY1wiLFxuICAgICAgICBcInRyYW5zcG9ydF9kb2NcIixcbiAgICAgICAgXCJjZXJ0X3R5cGVfZG9jXCIsXG4gICAgICAgIFwicHJvamVjdF9kb2NcIixcbiAgICAgICAgXCJ1bl9ydWxlc19kb2NcIixcbiAgICAgICAgXCJjb25jbF9leHBlcnRfZG9jXCIsXG4gICAgICAgIFwidGVzdF9wcm90b2NvbF9kb2NcIixcbiAgICAgICAgXCJjb250cmFjdF9kb2NcIixcbiAgICAgICAgXCJkZWNpc2lvbl9kb2NcIixcbiAgICAgICAgXCJjZXJ0X290aGVyX2RvY1wiLFxuICAgICAgXS5mb3JFYWNoKGVuZHBvaW50ID0+IHtcbiAgICAgICAgdGhpcy5kb2N1bWVudFtlbmRwb2ludF0gPSB0aGlzLmdlbmVyYXRlX2ZpbGVzX2VuZHBvaW50cyhlbmRwb2ludCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc29sZS5sb2coJ0FkdmFuY2UgOj4+ICcsIHRoaXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmxvZygnQWR2YW5jZSBlcnIgOj4+ICcsIGVycm9yKTtcbiAgICB9XG4gIH1cbiAgZ2VuZXJhdGVfZmlsZXNfZW5kcG9pbnRzKGRvY3VtZW50X25hbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0X2xpc3Q6IHRoaXMuRW5kcG9pbnQoe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB1cmw6IGAvYXBpL3Yke3RoaXMuYXBpVmVyc2lvbn0vZmdpcy8ke3RoaXMuYWR2YW5jZV90eXBlfS9kb2N1bWVudC97aWR9LyR7ZG9jdW1lbnRfbmFtZX0vZmlsZXNgLFxuICAgICAgICBwYXJhbXM6IFsnaWQnXSxcbiAgICAgIH0pLFxuICAgICAgZ2V0X2ZpbGU6IHRoaXMuRW5kcG9pbnQoe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB1cmw6IGAvYXBpL3Yke3RoaXMuYXBpVmVyc2lvbn0vZmdpcy8ke3RoaXMuYWR2YW5jZV90eXBlfS9kb2N1bWVudC97aWR9LyR7ZG9jdW1lbnRfbmFtZX0vZmlsZS97ZmlsZUlkfWAsXG4gICAgICAgIHBhcmFtczogWydpZCcsICdmaWxlSWQnXSxcbiAgICAgICAgcmV0dXJuVHlwZTogJ2Jsb2InLFxuICAgICAgfSksXG4gICAgICBwdXRfZmlsZV9pbmZvOiB0aGlzLkVuZHBvaW50KHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgdXJsOiBgL2FwaS92JHt0aGlzLmFwaVZlcnNpb259L2ZnaXMvJHt0aGlzLmFkdmFuY2VfdHlwZX0vZG9jdW1lbnQve2lkfS8ke2RvY3VtZW50X25hbWV9L2ZpbGUve2ZpbGVJZH0vc2V0X2lkYCxcbiAgICAgICAgcGFyYW1zOiBbJ2lkJywgJ2ZpbGVJZCddLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ2ZnaXNfZmlsZV9pZCAtINC40LTQtdC90YLQuNGE0LjQutCw0YLQvtGAINC30LDQs9GA0YPQttC10L3QvdC+0LPQviDRhNCw0LnQu9CwINC/0YDQvtGC0L7QutC+0LvQsCDQstC+INCk0JPQmNChINGB0L7RhdGA0LDQvdGP0LXRgiDQuNC00LXQvdGC0LjRhNC40LrQsNGC0L7RgCDQpNCT0JjQoSDRhNCw0LnQu9CwINC/0YDQvtGC0L7QutC+0LvQsCcsXG4gICAgICB9KSxcbiAgICB9XG4gIH1cbiAgYXN5bmMgZ2V0Q3VycmVudFVzZXJJZCgpIHtcbiAgICBjb25zb2xlLmxvZygnY3VycmVudFVzZXJJZCcsIHRoaXMuY3VycmVudFVzZXJJZCk7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRVc2VySWQpIHtcbiAgICAgIGxldCBkID0gYXdhaXQgdGhpcy5mZXRjaCh0aGlzLmRhdGEuZ2V0Q3VycmVudFVzZXJJZCk7XG4gICAgICBpZiAoZCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRVc2VySWQgPSBkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRVc2VySWQ7XG4gICAgfVxuICB9XG4gIG93bkV4Y2VwdGlvbihtc2cpIHtcbiAgICBsZXQgZmlyc3RSb3cgPSAn0J7RiNC40LHQutCwINCyINCw0LTQstCw0L3RgdC1IVxcclxcbic7XG4gICAgbXNnICs9IGZpcnN0Um93O1xuICAgIGNvbnNvbGUubG9nKG1zZyk7XG4gICAgdGhyb3cgbXNnO1xuICB9XG4gIGFzeW5jIGZldGNoX3dpdGhfdGltZW91dCh1cmwsIHBhcmFtcywgdGltZU91dCA9IDMwMDAwKSB7XG4gICAgY29uc29sZS5sb2coJ1N0YXJ0IGZldGNoX3dpdGhfdGltZW91dC4gVGltZU91dDonLCB0aW1lT3V0KTtcbiAgICB2YXIgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICB2YXIgc2lnbmFsID0gY29udHJvbGxlci5zaWduYWw7XG4gICAgdmFyIHAxID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgcmVqZWN0KCdPdXQgdGltZW91dCBlbmQnKTtcbiAgICAgIH0sIHRpbWVPdXQpO1xuICAgIH0pO1xuICAgIHZhciBwMiA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZldGNoKHVybCwgcGFyYW1zKVxuICAgICAgICAudGhlbigocmVzKSA9PiByZXNvbHZlKHJlcykpXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiByZWplY3QoZXJyKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFByb21pc2UucmFjZShbcDEsIHAyXSk7XG4gIH1cbiAgZmV0Y2gobywgb3B0ID0geyBib2R5OiBudWxsLCBwYXJhbXM6IHt9IH0sIHJlcGVhdCA9IHRydWUsIGlzcmVwZWF0ID0gZmFsc2UpIHtcbiAgICBpZiAoaXNyZXBlYXQgPT0gZmFsc2UpIHtcbiAgICAgIHRoaXMucmVwZWF0Q291bnQgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlcGVhdENvdW50Kys7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMuZG9jdW1lbnRfdG9rZW4gJiYgIXRoaXMuYWdlbmN5X2NvZGUpIHtcbiAgICAgICAgdGhyb3cgJ9Cd0LUg0YPQutCw0LfQsNC9INC60LvRjtGHIGFnZW5jeV9jb2RlJztcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5kb2N1bWVudF90b2tlbiAmJiAhdGhpcy5hZ2VuY3lfa2V5d29yZCkge1xuICAgICAgICB0aHJvdyAn0J3QtSDRg9C60LDQt9Cw0L0g0LrQu9GO0YcgYWdlbmN5X2tleXdvcmQnO1xuICAgICAgfVxuICAgICAgbGV0IG9ialVybCA9IG8udXJsO1xuICAgICAgaWYgKG8ucGFyYW1zKSB7XG4gICAgICAgIGlmICghb3B0Lmhhc093blByb3BlcnR5KCdwYXJhbXMnKSlcbiAgICAgICAgICByZXR1cm4gdGhpcy5vd25FeGNlcHRpb24oJ9CU0LvRjyDRjdGC0L7Qs9C+INC30LDQv9GA0L7RgdCwINC+0LHRj9C30LDRgtC10LvRjNC90Ysg0L/QsNGA0LDQvNC10YLRgNGLLicpO1xuICAgICAgICBvLnBhcmFtcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgaWYgKCFvcHQucGFyYW1zLmhhc093blByb3BlcnR5KGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vd25FeGNlcHRpb24oXG4gICAgICAgICAgICAgIGDQmtCw0LbQtdGC0YHRjyDQstGLINC30LDQsdGL0LvQuCDRg9C60LDQt9Cw0YLRjCDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdGL0Lkg0L/QsNGA0LDQvNC10YLRgC5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7b2JqVXJsfVxuICAgICAgICAgICAgICAgICAgICAgICAg0J3Rg9C20L3RizogJHtvLnBhcmFtcy50b1N0cmluZygpfVxuICAgICAgICAgICAgICAgICAgICAgICAg0J/RgNC40YjQu9C4OiAke29wdC5wYXJhbXMudG9TdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGAsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvYmpVcmwgPSBvYmpVcmwucmVwbGFjZShgeyR7ZWxlbWVudH19YCwgb3B0LnBhcmFtc1tlbGVtZW50XSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgbGV0IHVybCA9IG5ldyBVUkwob2JqVXJsLCB0aGlzLmRvbWFpbik7XG4gICAgICBsZXQgYm9keSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgbGV0IHBhcmFtcyA9IHtcbiAgICAgICAgbWV0aG9kOiBvLm1ldGhvZCxcbiAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgIH07XG4gICAgICBpZiAob3B0LmJvZHkpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG9wdC5ib2R5KSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLm93bkV4Y2VwdGlvbignQm9keSDQtNC+0LvQttC10L0g0LHRi9GC0YwgYXJyYXkhJyk7XG4gICAgICAgIH1cbiAgICAgICAgb3B0LmJvZHkuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgIGJvZHkuc2V0KGVsZW1lbnQubmFtZSwgZWxlbWVudC52YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChvLm1ldGhvZCkge1xuICAgICAgICBjYXNlICdHRVQnOlxuICAgICAgICAgIGlmICh0aGlzLmRvY3VtZW50X3Rva2VuKSB7XG4gICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnZG9jdW1lbnRfdG9rZW4nLCB0aGlzLmRvY3VtZW50X3Rva2VuKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2FnZW5jeV9jb2RlJywgdGhpcy5hZ2VuY3lfY29kZSk7XG4gICAgICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldCgnYWdlbmN5X2tleXdvcmQnLCB0aGlzLmFnZW5jeV9rZXl3b3JkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1BVVCc6XG4gICAgICAgICAgaWYgKHRoaXMuZG9jdW1lbnRfdG9rZW4pIHtcbiAgICAgICAgICAgIGJvZHkuc2V0KCdkb2N1bWVudF90b2tlbicsIHRoaXMuZG9jdW1lbnRfdG9rZW4pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib2R5LnNldCgnYWdlbmN5X2NvZGUnLCB0aGlzLmFnZW5jeV9jb2RlKTtcbiAgICAgICAgICAgIGJvZHkuc2V0KCdhZ2VuY3lfa2V5d29yZCcsIHRoaXMuYWdlbmN5X2tleXdvcmQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJhbXMuYm9keSA9IGJvZHk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1BPU1QnOlxuICAgICAgICAgIGlmICh0aGlzLmRvY3VtZW50X3Rva2VuKSB7XG4gICAgICAgICAgICBib2R5LnNldCgnZG9jdW1lbnRfdG9rZW4nLCB0aGlzLmRvY3VtZW50X3Rva2VuKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYm9keS5zZXQoJ2FnZW5jeV9jb2RlJywgdGhpcy5hZ2VuY3lfY29kZSk7XG4gICAgICAgICAgICBib2R5LnNldCgnYWdlbmN5X2tleXdvcmQnLCB0aGlzLmFnZW5jeV9rZXl3b3JkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyYW1zLmJvZHkgPSBib2R5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coJ0ZnaXMgZmV0Y2gnLCB1cmwuaHJlZiwgby5ub09ialJlc3ApO1xuICAgICAgbGV0IGYgPSBvLmhhc093blByb3BlcnR5KCd0aW1lT3V0JylcbiAgICAgICAgPyB0aGlzLmZldGNoX3dpdGhfdGltZW91dCh1cmwuaHJlZiwgcGFyYW1zLCBvLnRpbWVPdXQpXG4gICAgICAgIDogZmV0Y2godXJsLmhyZWYsIHBhcmFtcyk7XG4gICAgICByZXR1cm4gZlxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICE9IDIwMCkge1xuICAgICAgICAgICAgdGhyb3cgJ0PQtdGA0LLQtdGAINC90LUg0L7RgtCy0LXRh9Cw0LXRgicgKyByZXNwb25zZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgby5yZXR1cm5UeXBlICYmXG4gICAgICAgICAgICBvLnJldHVyblR5cGUgPT0gJ2Jsb2InICYmXG4gICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykgPT0gJ3RleHQvaHRtbCdcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkudGhlbigob2JqKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhvYmopO1xuICAgICAgICAgICAgaWYgKG8gPT0gdGhpcy5kYXRhLmdldEN1cnJlbnRVc2VySWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvYmouc3RhdHVzID09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgdGhpcy5taXNzX3Rocm93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGhyb3cgJ9Ch0YLQsNGC0YPRgSBlcnJvci5cXHJcXG4nICsgb2JqLm1lc3NhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2JqLnN0YXR1cyAhPSAnc3VjY2VzcycpIHtcbiAgICAgICAgICAgICAgdGhyb3cgJ9Cd0LXQuNC30LLQtdGB0YLQvdGL0Lkg0YHRgtCw0YLRg9GBIS5cXHJcXG4nICsgb2JqLm1lc3NhZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqLmRhdGE7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBsZXQgbWF4UmVwZWF0ID0gby5oYXNPd25Qcm9wZXJ0eSgnbWF4UmVwZWF0JykgPyBvLm1heFJlcGVhdCA6IHRoaXMubWF4UmVwZWF0O1xuICAgICAgICAgIGlmIChyZXBlYXQgJiYgdGhpcy5tYXhSZXBlYXQgPj0gdGhpcy5yZXBlYXRDb3VudCAmJiAhdGhpcy5taXNzX3Rocm93KSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSXQgd2FzIHJlcGVhdCcsIHRoaXMucmVwZWF0Q291bnQsICcvJywgbWF4UmVwZWF0KTtcbiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNlbGZcbiAgICAgICAgICAgICAgICAgIC5mZXRjaChvLCBvcHQsIHJlcGVhdCwgdHJ1ZSlcbiAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNwKSA9PiByZXNvbHZlKHJlc3ApKVxuICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm93bkV4Y2VwdGlvbihlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coJ9Ce0YjQuNCx0LrQsCDQsiDQutC+0L3RgdGC0YDRg9C60YbQuNC4IGZldGNoINCyIEFkdmFuY2UnLCBlcnJvcik7XG4gICAgICByZXR1cm4gdGhpcy5vd25FeGNlcHRpb24oJ9Ce0YjQuNCx0LrQsCDQsiDQutC+0L3RgdGC0YDRg9C60YbQuNC4IGZldGNoINCyIEFkdmFuY2UnLCBlcnJvcik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7XG4gIEFkdmFuY2UsXG4gIEVuZHBvaW50XG59XG4iLCIvLyB2YXIgYnJvd3NlciA9IHJlcXVpcmUoXCJ3ZWJleHRlbnNpb24tcG9seWZpbGxcIik7XG5cbmZ1bmN0aW9uIGVycihtc2cpIHtcbiAgY29uc29sZS5lcnJvcihtc2cpO1xuICB0aHJvdyBtc2c7XG59XG5mdW5jdGlvbiBjaGVja01vZGUobW9kZSkge1xuICBpZiAobW9kZSAhPT0gJ2RlY2xhcmF0aW9ucycgJiYgbW9kZSAhPT0gJ2FwcGxpY2F0aW9ucycpIHtcbiAgICBlcnIoJ9Cd0LUg0LjQt9Cy0LXRgdGC0L3Ri9C5IG1vZGUg0LIgY2xhc3MgU2lnbi4nKTtcbiAgfVxufVxuY2xhc3MgU2lnbiB7XG4gIGNvbnN0cnVjdG9yKGlkcywgZmdpcywgbW9kZSwgc2V0dGluZ3MsIGJsYW5rcykge1xuICAgIGNoZWNrTW9kZShtb2RlKTtcbiAgICB0aGlzLmlkcyA9IGlkcztcbiAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgIHRoaXMuZmdpcyA9IGZnaXM7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuYmxhbmtzID0gYmxhbmtzO1xuXG4gICAgdGhpcy5zaWduVHlwZU5hbWUgPSB0aGlzLl9nZXRTaWduVHlwZU5hbWUoKTtcbiAgICB0aGlzLmNyZWF0ZVNpZ25lZEZpbGVCb2R5ID0gdGhpcy5fZ2V0Q3JlYXRlU2lnbmVkRmlsZUJvZHkoKTtcblxuICAgIHRoaXMubG9nRGF0YSA9IHt9O1xuXG4gICAgdGhpcy5zaWduID0ge1xuICAgICAgcmVnaXN0cmF0ZUJsYW5rczoge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgdXJsOiBgYXBpL3YxL3Jzcy9jb21tb24vYmxhbmtzL2lkc2AsXG4gICAgICAgIHJlcGVhdDogdHJ1ZSxcbiAgICAgICAgbWF4UmVwZWF0OiA1LFxuICAgICAgICB0aW1lT3V0OiA2MDAwMCxcbiAgICAgIH0sXG4gICAgICBjcmVhdGVTaWduZWRGaWxlOiB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICB1cmw6IGBhcGkvdjEvJHt0aGlzLmZnaXMuZmdpc1R5cGV9L2NvbW1vbi8ke3RoaXMuc2lnblR5cGVOYW1lfS9jcmVhdGVTaWduZWRGaWxlYCxcbiAgICAgICAgYm9keTogdGhpcy5jcmVhdGVTaWduZWRGaWxlQm9keSxcbiAgICAgICAgcmVwZWF0OiB0cnVlLFxuICAgICAgICBtYXhSZXBlYXQ6IDUsXG4gICAgICAgIHRpbWVPdXQ6IDYwMDAwLFxuICAgICAgfSxcbiAgICAgIGNyZWF0ZXNpZ251aToge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgdXJsOiAnL2FwaS92MS9zdG9yYWdlL2NvbW1vbi9zaWdub3AvY3JlYXRlc2lnbnVpJyxcbiAgICAgICAgcmVwZWF0OiB0cnVlLFxuICAgICAgICBtYXhSZXBlYXQ6IDUsXG4gICAgICAgIHRpbWVPdXQ6IDYwMDAwLFxuICAgICAgfSxcbiAgICB9O1xuICB9XG4gIF9nZXRDcmVhdGVTaWduZWRGaWxlQm9keSgpIHtcbiAgICBpZiAodGhpcy5mZ2lzLmZnaXNUeXBlID09ICdyc3MnICYmIHRoaXMubW9kZSA9PSAnZGVjbGFyYXRpb25zJykge1xuICAgICAgcmV0dXJuIHRoaXMuYmxhbmtzO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICB0aGlzLmZnaXMuZmdpc1R5cGUgPT0gJ3JkcycgfHxcbiAgICAgIHRoaXMuZmdpcy5mZ2lzVHlwZSA9PSAncnNzJyB8fFxuICAgICAgdGhpcy5mZ2lzLmZnaXNUeXBlID09ICdzcmQnXG4gICAgKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZHM6IHRoaXMuaWRzLFxuICAgICAgICB2ZXJpZnlTaWduYXR1cmU6IHRydWUsXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBlcnIoJ9Cd0LUg0LjQt9Cy0LXRgdGC0L3Ri9C5IF9nZXRDcmVhdGVTaWduZWRGaWxlQm9keScpO1xuICAgIH1cbiAgfVxuICBfZ2V0U2lnblR5cGVOYW1lKCkge1xuICAgIGlmICh0aGlzLm1vZGUgPT0gJ2FwcGxpY2F0aW9ucycpIHtcbiAgICAgIHJldHVybiAnYXBwbGljYXRpb25zJztcbiAgICB9IGVsc2UgaWYgKHRoaXMuZmdpcy5mZ2lzVHlwZSA9PSAncmRzJyB8fCB0aGlzLmZnaXMuZmdpc1R5cGUgPT0gJ3NyZCcpIHtcbiAgICAgIHJldHVybiAnZGVjbGFyYXRpb25zJztcbiAgICB9IGVsc2UgaWYgKHRoaXMuZmdpcy5mZ2lzVHlwZSA9PSAncnNzJykge1xuICAgICAgcmV0dXJuICdjZXJ0aWZpY2F0ZXMnO1xuICAgIH0gZWxzZSB7XG4gICAgICBlcnIoJ9Cd0LUg0LjQt9Cy0LXRgdGC0L3Ri9C5IF9nZXRTaWduVHlwZU5hbWUnKTtcbiAgICB9XG4gIH1cbiAgc3RhcnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlU2lnbmVkRmlsZSgpXG4gICAgICAudGhlbigoKSA9PiB0aGlzLmNyZWF0ZXNpZ251aSgpKVxuICAgICAgLnRoZW4oKCkgPT4gdGhpcy5zaWduRG9jdW1lbnQoKSk7XG4gIH1cbiAgY3JlYXRlU2lnbmVkRmlsZSgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZnVuY3Rpb24gX3BhcnNlUmVzKHJlc3BEYXRhKSB7XG4gICAgICBpZiAoc2VsZi5mZ2lzLmZnaXNUeXBlID09ICdyZHMnIHx8IHNlbGYuZmdpcy5mZ2lzVHlwZSA9PSAnc3JkJykge1xuICAgICAgICByZXR1cm4gcmVzcERhdGE7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuZmdpcy5mZ2lzVHlwZSA9PSAncnNzJykge1xuICAgICAgICBpZiAoc2VsZi5tb2RlID09ICdkZWNsYXJhdGlvbnMnKSB7XG4gICAgICAgICAgcmV0dXJuIHsgaXRlbXM6IFtyZXNwRGF0YV0gfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4geyBpdGVtczogcmVzcERhdGEgfTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8ge1wiaXRlbXNcIjpbe1wiaWREZWNsYXJhdGlvblwiOjE0NzQzMzcxLFwiaWRGaWxlXCI6XCJjMWQ1YWVmMC1jMzYwLTQzMGItYWZjZS05YTdiY2NjMTkzZTBcIn1dfVxuICAgICAgICAvLyDQntGI0LjQsdC60LAg0L/QvtC00L/QuNGB0Lgg0J3QtSDQvNC+0LbQtdGCINGB0L/QsNGA0YHQuNGC0Ywg0YDQtdC30YPQu9GM0YLQsNGCINCyIF9wYXJzZVJlc1xuICAgICAgICBlcnIoJ9Cd0LUg0LzQvtC20LXRgiDRgdC/0LDRgNGB0LjRgtGMINGA0LXQt9GD0LvRjNGC0LDRgiDQsiBfcGFyc2VSZXMsICcgKyBzZWxmLmZnaXMuZmdpc1R5cGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIF9maW5kX2FubmV4QmxhbmtJZChibGFua3NXaXRoSWRzLCBudW1iZXJTdHIpIHtcbiAgICAgIGxldCBibGFuayA9IGJsYW5rc1dpdGhJZHMuYW5uZXhCbGFua3MuZmluZCgoYW5uZXhCbGFuaykgPT4ge1xuICAgICAgICByZXR1cm4gYW5uZXhCbGFuay5udW1iZXIgPT0gTnVtYmVyKG51bWJlclN0cik7XG4gICAgICB9KTtcbiAgICAgIGlmIChibGFuaykgcmV0dXJuIGJsYW5rLmlkO1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgdmFyIGFjdGlvbjtcbiAgICBpZiAodGhpcy5mZ2lzLmZnaXNUeXBlID09ICdyc3MnICYmIHRoaXMubW9kZSA9PSAnZGVjbGFyYXRpb25zJykge1xuICAgICAgY29uc29sZS5sb2coJ3RoaXMuc2lnbi5jcmVhdGVTaWduZWRGaWxlLmJvZHkgOj4+ICcsIHRoaXMuc2lnbi5jcmVhdGVTaWduZWRGaWxlLmJvZHkpO1xuICAgICAgdmFyIGFubmV4QmxhbmtOdW1iZXJzID0gW107XG4gICAgICB0aGlzLnNpZ24uY3JlYXRlU2lnbmVkRmlsZS5ib2R5LmFubmV4ZXMuZm9yRWFjaCgoYW5uZXhlcykgPT4ge1xuICAgICAgICBhbm5leGVzLmFubmV4QmxhbmtzLmZvckVhY2goKGFubmV4QmxhbmspID0+IHtcbiAgICAgICAgICBhbm5leEJsYW5rTnVtYmVycy5wdXNoKE51bWJlcihhbm5leEJsYW5rLmJsYW5rTnVtYmVyKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBhY3Rpb24gPSB0aGlzLmZnaXNcbiAgICAgICAgLmZldGNoKHRoaXMuc2lnbi5yZWdpc3RyYXRlQmxhbmtzLCB7XG4gICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgY2VydGlmaWNhdGVCbGFua051bWJlcjogdGhpcy5zaWduLmNyZWF0ZVNpZ25lZEZpbGUuYm9keS5ibGFua051bWJlcixcbiAgICAgICAgICAgIGFubmV4QmxhbmtOdW1iZXJzOiBhbm5leEJsYW5rTnVtYmVycyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgICAudGhlbigoYmxhbmtzV2l0aElkcykgPT4ge1xuICAgICAgICAgIHRoaXMuc2lnbi5jcmVhdGVTaWduZWRGaWxlLmJvZHkuaWRCbGFuayA9IGJsYW5rc1dpdGhJZHMuY2VydGlmaWNhdGVCbGFuay5pZDtcbiAgICAgICAgICBjb25zb2xlLmxvZygnYmxhbmtzV2l0aElkcyA6Pj4gJywgYmxhbmtzV2l0aElkcyk7XG4gICAgICAgICAgdGhpcy5zaWduLmNyZWF0ZVNpZ25lZEZpbGUuYm9keS5hbm5leGVzLmZvckVhY2goKGFubmV4ZXMpID0+IHtcbiAgICAgICAgICAgIGFubmV4ZXMuYW5uZXhCbGFua3MuZm9yRWFjaCgoYW5uZXhCbGFuaykgPT4ge1xuICAgICAgICAgICAgICBhbm5leEJsYW5rLmlkQmxhbmsgPSBfZmluZF9hbm5leEJsYW5rSWQoYmxhbmtzV2l0aElkcywgYW5uZXhCbGFuay5ibGFua051bWJlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5mZ2lzLmZldGNoKHRoaXMuc2lnbi5jcmVhdGVTaWduZWRGaWxlLCB7XG4gICAgICAgICAgICBib2R5OiB0aGlzLnNpZ24uY3JlYXRlU2lnbmVkRmlsZS5ib2R5LFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0aW9uID0gdGhpcy5mZ2lzLmZldGNoKHRoaXMuc2lnbi5jcmVhdGVTaWduZWRGaWxlLCB7XG4gICAgICAgIGJvZHk6IHRoaXMuc2lnbi5jcmVhdGVTaWduZWRGaWxlLmJvZHksXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWN0aW9uLnRoZW4oKHJlc3BEYXRhKSA9PiB7XG4gICAgICB0aGlzLmxvZ0RhdGEuY3JlYXRlU2lnbmVkRmlsZSA9IHtcbiAgICAgICAgYm9keTogdGhpcy5zaWduLmNyZWF0ZVNpZ25lZEZpbGUuYm9keSxcbiAgICAgICAgcmVzcG9uc2U6IF9wYXJzZVJlcyhyZXNwRGF0YSksXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG4gIGNyZWF0ZXNpZ251aSgpIHtcbiAgICB2YXIgZmlsZUlkcyA9IHRoaXMubG9nRGF0YS5jcmVhdGVTaWduZWRGaWxlLnJlc3BvbnNlLml0ZW1zLm1hcCgoZWwpID0+IGVsLmlkRmlsZSk7XG4gICAgdmFyIGJvZHkgPSB7XG4gICAgICBjbGllbnRTaWduaW5nTW9kZTogJ0JhdGNoJyxcbiAgICAgIGZpbGVJZHM6IGZpbGVJZHMsXG4gICAgICByZXR1cm5Vcmw6ICcnLFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuZmdpcy5mZXRjaCh0aGlzLnNpZ24uY3JlYXRlc2lnbnVpLCB7IGJvZHk6IGJvZHkgfSkudGhlbigocmVzcERhdGEpID0+IHtcbiAgICAgIHRoaXMubG9nRGF0YS5jcmVhdGVzaWdudWkgPSB7XG4gICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgIHJlc3BvbnNlOiByZXNwRGF0YSxcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbiAgc2lnbkRvY3VtZW50KCkge1xuICAgIGF3YWl0TWVzc2FnZS5wdXNoKHtcbiAgICAgIHVybDogdGhpcy5sb2dEYXRhLmNyZWF0ZXNpZ251aS5yZXNwb25zZS51cmwsXG4gICAgICBjb21tYW5kOiAnbG9hZGVkJyxcbiAgICAgIHJlc3BvbmNlOiB7XG4gICAgICAgIGNvbW1hbmQ6ICdzdGFydCcsXG4gICAgICAgIG9wZXJhdGlvbklkOiB0aGlzLmxvZ0RhdGEuY3JlYXRlc2lnbnVpLnJlc3BvbnNlLm9wZXJhdGlvbklkLFxuICAgICAgICBjdXJyZW50Q2VydGlmaWNhdGU6IHtcbiAgICAgICAgICBJbmRleDogcGFyc2VJbnQodGhpcy5zZXR0aW5ncy5pbmRleENlcnRpZiksXG4gICAgICAgICAgQWxnb3JpdGhtOiBwYXJzZUludCh0aGlzLnNldHRpbmdzLmFsZ29yaXRobSksXG4gICAgICAgIH0sXG4gICAgICAgIHBpbkNvZGU6IHRoaXMuc2V0dGluZ3MucHdkQ2VydGlmLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICB2YXIgbWFzdGVyVGFiO1xuICAgIHZhciBpc19yZW1vdmUgPSBmYWxzZTtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZnVuY3Rpb24gX3VwZGF0ZXN0YXRlKCkge1xuICAgICAgcmV0dXJuIHNlbGYuZmdpcy5mZXRjaChzZWxmLmZnaXMuc2lnbi51cGRhdGVzdGF0ZSwge1xuICAgICAgICBwYXJhbXM6IHsgaWQ6IHNlbGYubG9nRGF0YS5jcmVhdGVzaWdudWkucmVzcG9uc2Uub3BlcmF0aW9uSWQgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBfY29sbGVjdHNpZ25hdHVyZXMoKSB7XG4gICAgICByZXR1cm4gc2VsZi5mZ2lzLmZldGNoKHNlbGYuZmdpcy5zaWduLmNvbGxlY3RzaWduYXR1cmVzLCB7XG4gICAgICAgIHBhcmFtczogeyBpZDogc2VsZi5sb2dEYXRhLmNyZWF0ZXNpZ251aS5yZXNwb25zZS5vcGVyYXRpb25JZCB9LFxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIF9zaWduYXR1cmVzaW5mbygpIHtcbiAgICAgIHJldHVybiBzZWxmLmZnaXMuZmV0Y2goc2VsZi5mZ2lzLnNpZ24uc2lnbmF0dXJlc2luZm8sIHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgZmlsZUlkOiBzZWxmLmxvZ0RhdGEuY3JlYXRlU2lnbmVkRmlsZS5yZXNwb25zZS5pdGVtc1swXS5pZEZpbGUsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnJvd3Nlci50YWJzXG4gICAgICAuY3JlYXRlKHtcbiAgICAgICAgdXJsOiB0aGlzLmxvZ0RhdGEuY3JlYXRlc2lnbnVpLnJlc3BvbnNlLnVybCxcbiAgICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgIH0pXG4gICAgICAudGhlbigodGFiKSA9PiAobWFzdGVyVGFiID0gdGFiKSlcbiAgICAgIC50aGVuKCgpID0+IHRoaXMuY2hlY2tNZXNzYWdlKHRoaXMubG9nRGF0YS5jcmVhdGVzaWdudWkucmVzcG9uc2UudXJsKSlcbiAgICAgIC50aGVuKCgpID0+IF91cGRhdGVzdGF0ZSgpKVxuICAgICAgLnRoZW4oKCkgPT4gX2NvbGxlY3RzaWduYXR1cmVzKCkpXG4gICAgICAudGhlbigoKSA9PiBfc2lnbmF0dXJlc2luZm8oKSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgdmFyIGFjdGlvbjtcbiAgICAgICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcbiAgICAgICAgICBjYXNlICdkZWNsYXJhdGlvbnMnOlxuICAgICAgICAgICAgYWN0aW9uID0gdGhpcy5mZ2lzLmZldGNoKHRoaXMuZmdpcy5zaWduLmRzU2VuZCwge1xuICAgICAgICAgICAgICBib2R5OiB0aGlzLmNyZWF0ZVNpZ25lZEZpbGVCb2R5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdhcHBsaWNhdGlvbnMnOlxuICAgICAgICAgICAgYWN0aW9uID0gdGhpcy5mZ2lzLmZldGNoKHRoaXMuZmdpcy5zaWduLnNlbmQsIHtcbiAgICAgICAgICAgICAgYm9keTogdGhpcy5jcmVhdGVTaWduZWRGaWxlQm9keSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGlmICghaXNfcmVtb3ZlKSB7XG4gICAgICAgICAgYnJvd3Nlci50YWJzLnJlbW92ZShbbWFzdGVyVGFiLmlkXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG4gIGNoZWNrTWVzc2FnZSh1cmwpIHtcbiAgICB2YXIgY291bnQgPSAwO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB2YXIgZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG0gPSBzdGF0ZU1lc3NhZ2UuZmluZCgoZWwpID0+IGVsLmNvbW1hbmQgPT0gJ3NpZ25Eb25lJyAmJiBlbC51cmwgPT0gdXJsKTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICBzdGF0ZU1lc3NhZ2UgPSBzdGF0ZU1lc3NhZ2UuZmlsdGVyKChlbCkgPT4gZWwuY29tbWFuZCAhPT0gJ3NpZ25Eb25lJyAmJiBlbC51cmwgIT09IHVybCk7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgZXJyTXNnID0gc3RhdGVNZXNzYWdlLmZpbmQoKGVsKSA9PiBlbC5jb21tYW5kID09ICdzaWduRXJyb3InICYmIGVsLnVybCA9PSB1cmwpO1xuICAgICAgICAgIGlmIChlcnJNc2cpIHtcbiAgICAgICAgICAgIHJlamVjdCgn0KTQk9CY0KEg0YHQu9C+0LzQsNC70YHRjyA6ICcgKyBlcnJNc2cubXNnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvdW50ID49IDkwKSB7XG4gICAgICAgICAgICByZWplY3QoJ9Cf0YDQtdCy0YvRiNC10L0g0LvQuNC80LjRgiDQvtC20LjQtNCw0L3QuNGPINC/0L7QtNC/0LjRgdC4Jyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvdW50ICs9IDE7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGYsIDEwMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGYoKTtcbiAgICB9KTtcbiAgfVxufVxuY2xhc3MgRmdpcyB7XG4gIGNvbnN0cnVjdG9yKHsgdG9rZW4sIGFkdmFuY2UsIG1vZGUsIHNldHRpbmdzLCBmZ2lzVHlwZSB9KSB7XG4gICAgY2hlY2tNb2RlKG1vZGUpO1xuICAgIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgICB0aGlzLmFkdmFuY2UgPSBhZHZhbmNlO1xuICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuZmdpc1R5cGUgPSBmZ2lzVHlwZTtcblxuICAgIHRoaXMubWF4UmVwZWF0ID0gNTtcbiAgICB0aGlzLnJlcGVhdENvdW50ID0gMTtcblxuICAgIHRoaXMucHViX2RvY3VtZW50X3R5cGUgPSB0aGlzLl9nZXRfcHViX2RvY3VtZW50X3R5cGUodGhpcy5mZ2lzVHlwZSk7XG4gICAgdGhpcy5zdWJfdHlwZV9uYW1lID0gdGhpcy5fZ2V0X3N1Yl90eXBlX25hbWUodGhpcy5mZ2lzVHlwZSk7XG4gICAgdGhpcy5kb21haW4gPSB0aGlzLl9nZXRfZG9tYWluKHRoaXMuZmdpc1R5cGUpO1xuICAgIHRoaXMuZnVsbF91cmxfcGF0dGVybiA9IHRoaXMuX2dldF9mdWxsX3VybF9wYXR0ZXJuKHRoaXMuZmdpc1R5cGUpO1xuICAgIHRoaXMuZG9jdW1lbnRfdXJsID0gdGhpcy5fZ2V0X2RvY3VtZW50X3VybCh0aGlzLmRvbWFpbiwgdGhpcy5mZ2lzVHlwZSwgdGhpcy5mdWxsX3VybF9wYXR0ZXJuKTtcbiAgICB0aGlzLmFnZW5jeURhdGEgPSBmZ2lzVHlwZSA9PSAnc3JkJyA/IGZhbHNlIDogdGhpcy5nZXRPcmdhbkRhdGEoKTtcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgIHRoaXMuc3RhdGVtZW50X3VybCA9IGAke3RoaXMuZG9tYWlufS8ke3RoaXMuZmdpc1R5cGV9L2FwcGxpY2F0aW9uL3ZpZXcvYDtcbiAgICB0aGlzLnB1Yl9kb2N1bWVudF91cmwgPSBgaHR0cHM6Ly9wdWIuZnNhLmdvdi5ydS8ke3RoaXMucHViX2RvY3VtZW50X3R5cGV9LyR7dGhpcy5mdWxsX3VybF9wYXR0ZXJufS92aWV3L2A7XG4gICAgdGhpcy5zaWduID0ge1xuICAgICAgdXBkYXRlc3RhdGU6IHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHVybDogJy9hcGkvdjEvc3RvcmFnZS9jb21tb24vc2lnbm9wL3tpZH0vdXBkYXRlc3RhdGUnLFxuICAgICAgICBwYXJhbXM6IFsnaWQnXSxcbiAgICAgICAgcmVwZWF0OiB0cnVlLFxuICAgICAgICBtYXhSZXBlYXQ6IDEwLFxuICAgICAgfSxcbiAgICAgIGNvbGxlY3RzaWduYXR1cmVzOiB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICB1cmw6ICcvYXBpL3YxL3N0b3JhZ2UvY29tbW9uL3NpZ25vcC97aWR9L2NvbGxlY3RzaWduYXR1cmVzJyxcbiAgICAgICAgcGFyYW1zOiBbJ2lkJ10sXG4gICAgICAgIHJlcGVhdDogdHJ1ZSxcbiAgICAgICAgbWF4UmVwZWF0OiAxMCxcbiAgICAgICAgbm9PYmpSZXNwOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHNpZ25hdHVyZXNpbmZvOiB7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHVybDogJy9hcGkvdjEvc3RvcmFnZS9jb21tb24vZmlsZXMve2ZpbGVJZH0vc2lnbmF0dXJlc2luZm8nLFxuICAgICAgICBwYXJhbXM6IFsnZmlsZUlkJ10sXG4gICAgICAgIHJlcGVhdDogdHJ1ZSxcbiAgICAgICAgbWF4UmVwZWF0OiAxMCxcbiAgICAgIH0sXG4gICAgICBzZW5kOiB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICB1cmw6IGAvYXBpL3YxLyR7dGhpcy5mZ2lzVHlwZX0vY29tbW9uL2FwcGxpY2F0aW9ucy9zZW5kYCxcbiAgICAgICAgcmVwZWF0OiB0cnVlLFxuICAgICAgICBtYXhSZXBlYXQ6IDEwLFxuICAgICAgICB0aW1lT3V0OiAzMDAwMCxcbiAgICAgIH0sXG4gICAgICBkc1NlbmQ6IHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHVybDogYC9hcGkvdjEvJHt0aGlzLmZnaXNUeXBlfS9jb21tb24vJHt0aGlzLnN1Yl90eXBlX25hbWV9L3B1Ymxpc2hgLFxuICAgICAgICByZXBlYXQ6IHRydWUsXG4gICAgICAgIG1heFJlcGVhdDogMTAsXG4gICAgICAgIHRpbWVPdXQ6IDMwMDAwLFxuICAgICAgfSxcbiAgICB9O1xuICAgIHRoaXMuc3RhdGVtZW50ID0ge1xuICAgICAgaW5pdDoge1xuICAgICAgICBlcnJOYW1lOiAndGhpcy5zdGF0ZW1lbnQuaW5pdCcsXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICB1cmw6IGAvYXBpL3YxLyR7dGhpcy5mZ2lzVHlwZX0vY29tbW9uL2FwcGxpY2F0aW9ucy9kcmFmdGAsXG4gICAgICAgIHJlcGVhdDogdHJ1ZSxcbiAgICAgICAgbWF4UmVwZWF0OiAxMCxcbiAgICAgICAgZXJyZnVuOiB0aGlzLnN0YXRlbWVudF9pbml0X2VycmZ1bixcbiAgICAgIH0sXG4gICAgICBnZXQ6IHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgdXJsOiBgL2FwaS92MS8ke3RoaXMuZmdpc1R5cGV9L2NvbW1vbi9hcHBsaWNhdGlvbnMve2lkfWAsXG4gICAgICAgIHBhcmFtczogWydpZCddLFxuICAgICAgICByZXBlYXQ6IHRydWUsXG4gICAgICAgIG1heFJlcGVhdDogMTAsXG4gICAgICAgIHRpbWVPdXQ6IDMwMDAwLFxuICAgICAgfSxcbiAgICAgIHBvc3Q6IHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHVybDogYC9hcGkvdjEvJHt0aGlzLmZnaXNUeXBlfS9jb21tb24vYXBwbGljYXRpb25zL3tpZH1gLFxuICAgICAgICBwYXJhbXM6IFsnaWQnXSxcbiAgICAgICAgcmVwZWF0OiB0cnVlLFxuICAgICAgICBtYXhSZXBlYXQ6IDUsXG4gICAgICAgIG5vT2JqUmVzcDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICB0aGlzLmRvY3VtZW50ID0ge1xuICAgICAgaW5pdDoge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgdXJsOiBgL2FwaS92MS8ke3RoaXMuZmdpc1R5cGV9L2NvbW1vbi8ke3RoaXMuc3ViX3R5cGVfbmFtZX0vZHJhZnRgLFxuICAgICAgICByZXBlYXQ6IHRydWUsXG4gICAgICAgIG1heFJlcGVhdDogMTAsXG4gICAgICB9LFxuICAgICAgbG9hZEZpbGU6IHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHVybDogJy9hcGkvdjEvc3RvcmFnZS9jb21tb24vZmlsZXMnLFxuICAgICAgICBib2R5VHlwZTogJ0Zvcm1EYXRhJyxcbiAgICAgICAgcmVwZWF0OiB0cnVlLFxuICAgICAgICBtYXhSZXBlYXQ6IDEwLFxuICAgICAgICB0aW1lT3V0OiAzMDAwMCxcbiAgICAgIH0sXG4gICAgICBnZXQ6IHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgdXJsOiBgL2FwaS92MS8ke3RoaXMuZmdpc1R5cGV9L2NvbW1vbi8ke3RoaXMuc3ViX3R5cGVfbmFtZX0ve2lkfWAsXG4gICAgICAgIHBhcmFtczogWydpZCddLFxuICAgICAgICByZXBlYXQ6IHRydWUsXG4gICAgICAgIG1heFJlcGVhdDogMTAsXG4gICAgICAgIHRpbWVPdXQ6IDEwMDAwLFxuICAgICAgfSxcbiAgICAgIHBvc3Q6IHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHVybDogYC9hcGkvdjEvJHt0aGlzLmZnaXNUeXBlfS9jb21tb24vJHt0aGlzLnN1Yl90eXBlX25hbWV9L3tpZH1gLFxuICAgICAgICBwYXJhbXM6IFsnaWQnXSxcbiAgICAgICAgcmVwZWF0OiB0cnVlLFxuICAgICAgICBtYXhSZXBlYXQ6IDUsXG4gICAgICAgIG5vT2JqUmVzcDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICB0aGlzLmVycm9yQm9vayA9IHt9O1xuICAgIGNvbnNvbGUubG9nKCdGZ2lzIDo+PiAnLCB0aGlzKTtcbiAgfVxuICBfZ2V0X2RvY3VtZW50X3VybChkb21haW4sIGZnaXNUeXBlLCBmdWxsX3VybF9wYXR0ZXJuKSB7XG4gICAgc3dpdGNoIChmZ2lzVHlwZSkge1xuICAgICAgY2FzZSAncmRzJzpcbiAgICAgIGNhc2UgJ3Jzcyc6XG4gICAgICAgIHJldHVybiBgJHtkb21haW59LyR7Zmdpc1R5cGV9LyR7ZnVsbF91cmxfcGF0dGVybn0vdmlldy9gO1xuICAgICAgY2FzZSAnc3JkJzpcbiAgICAgICAgcmV0dXJuIGAke2RvbWFpbn0vJHtmZ2lzVHlwZX0vdmlldy9gO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZXJyKCfQndC1INC40LfQstC10YHRgtC90YvQuSBkb2N1bWVudF91cmwuJyk7XG4gICAgfVxuICB9XG4gIF9nZXRfZG9tYWluKGZnaXNUeXBlKSB7XG4gICAgc3dpdGNoIChmZ2lzVHlwZSkge1xuICAgICAgY2FzZSAncmRzJzpcbiAgICAgIGNhc2UgJ3Jzcyc6XG4gICAgICAgIHJldHVybiAnaHR0cDovLzEwLjI1MC43NC4xNyc7XG4gICAgICBjYXNlICdzcmQnOlxuICAgICAgICByZXR1cm4gJ2h0dHBzOi8vc3JkLmZzYS5nb3YucnUnO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZXJyKCfQndC1INC40LfQstC10YHRgtC90YvQuSBkb21haW4uJyk7XG4gICAgfVxuICB9XG4gIF9nZXRfZnVsbF91cmxfcGF0dGVybihmZ2lzVHlwZSkge1xuICAgIHN3aXRjaCAoZmdpc1R5cGUpIHtcbiAgICAgIGNhc2UgJ3Jzcyc6XG4gICAgICAgIHJldHVybiAnY2VydGlmaWNhdGUnO1xuICAgICAgY2FzZSAnc3JkJzpcbiAgICAgIGNhc2UgJ3Jkcyc6XG4gICAgICAgIHJldHVybiAnZGVjbGFyYXRpb24nO1xuICAgICAgLy8gcmV0dXJuIFwic3JkXCI7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBlcnIoJ9Cd0LUg0LjQt9Cy0LXRgdGC0L3Ri9C5IGZ1bGxfdXJsX3BhdHRlcm4uJyk7XG4gICAgfVxuICB9XG4gIF9nZXRfcHViX2RvY3VtZW50X3R5cGUoZmdpc1R5cGUpIHtcbiAgICBzd2l0Y2ggKGZnaXNUeXBlKSB7XG4gICAgICBjYXNlICdyZHMnOlxuICAgICAgY2FzZSAnc3JkJzpcbiAgICAgICAgcmV0dXJuICdyZHMnO1xuICAgICAgY2FzZSAncnNzJzpcbiAgICAgICAgcmV0dXJuICdyc3MnO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZXJyKCfQndC1INC40LfQstC10YHRgtC90YvQuSBwdWJfZG9jdW1lbnRfdHlwZS4nKTtcbiAgICB9XG4gIH1cbiAgX2dldF9zdWJfdHlwZV9uYW1lKGZnaXNUeXBlKSB7XG4gICAgc3dpdGNoIChmZ2lzVHlwZSkge1xuICAgICAgY2FzZSAncmRzJzpcbiAgICAgIGNhc2UgJ3NyZCc6XG4gICAgICAgIHJldHVybiAnZGVjbGFyYXRpb25zJztcbiAgICAgIGNhc2UgJ3Jzcyc6XG4gICAgICAgIHJldHVybiAnY2VydGlmaWNhdGVzJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGVycign0J3QtSDQuNC30LLQtdGB0YLQvdGL0Lkgc3ViX3R5cGVfbmFtZS4nKTtcbiAgICB9XG4gIH1cbiAgcmFuZG9tX3V1aWQoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSkgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpXG4gICAgKTtcbiAgfVxuICBmZXRjaEVyclBhcnNlcihpbnN0cnVjdGlvbiwgcmVzcG9uY2UsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGVyclR5cGUgPSB7XG4gICAgICAnaW52YWxpZCByZXF1ZXN0JzogMSxcbiAgICAgICdzZXJ2ZXIgZXJyb3InOiAyLFxuICAgIH07XG4gICAgc3dpdGNoIChpbnN0cnVjdGlvbi5lcnJOYW1lKSB7XG4gICAgICBjYXNlICd0aGlzLnN0YXRlbWVudC5pbml0JzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gcmVzcG9uY2U7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBnZXRPcmdhbkRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuYWR2YW5jZS5mZXRjaCh0aGlzLmFkdmFuY2UuZGF0YS5hZ2VuY3lEYXRhKS50aGVuKChkYXRhKSA9PiBkYXRhKTtcbiAgfVxuICBzaWduRmlsZShpZHMgPSBbXSwgbW9kZSA9ICcnLCBibGFua3MgPSB7fSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShpZHMpIHx8IGlkcy5sZW5ndGggPT0gMCkge1xuICAgICAgZXJyKGDQn9GD0YHRgtC+0Lkg0YHQv9C40YHQvtC6INC00L7QutGD0LzQtdC90YLQvtCyINC00LvRjyDQv9C+0LTQv9C40YHQsNC90LjRjzogJHtpZHN9YCk7XG4gICAgfVxuICAgIHZhciBzaWduID0gbmV3IFNpZ24oaWRzLCB0aGlzLCBtb2RlIHx8IHRoaXMubW9kZSwgdGhpcy5zZXR0aW5ncywgYmxhbmtzKTtcbiAgICByZXR1cm4gc2lnbi5zdGFydCgpO1xuICB9XG4gIHNldEhlYWRlcnMoZmdpc1R5cGUpIHtcbiAgICBzd2l0Y2ggKGZnaXNUeXBlKSB7XG4gICAgICBjYXNlICdyZHMnOlxuICAgICAgY2FzZSAncnNzJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuYWdlbmN5RGF0YS50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKicpO1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyB0aGlzLnRva2VuLmdldFRva2VuKCkpO1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ1ByYWdtYScsICduby1jYWNoZScpO1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnbGtJZCcsIDUpO1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ29yZ0lkJywgZGF0YS5vcmdJZCk7XG4gICAgICAgIH0pO1xuICAgICAgY2FzZSAnc3JkJzpcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonKTtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgJ0JlYXJlciAnICsgdGhpcy50b2tlbi5nZXRUb2tlbigpKTtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdQcmFnbWEnLCAnbm8tY2FjaGUnKTtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2xrSWQnLCBudWxsKTtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdvcmdJZCcsIG51bGwpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH1cbiAgb3duRXhjZXB0aW9uKG1zZykge1xuICAgIGVycign0J7RiNC40LHQutCwINCy0L4g0KTQs9C40YEhLiDQotC10LrRgdGCOlxcclxcbicgKyBtc2cpO1xuICB9XG4gIGFzeW5jIGZldGNoX3dpdGhfdGltZW91dCh1cmwsIHBhcmFtcywgdGltZU91dCA9IDMwMDAwKSB7XG4gICAgdGltZU91dCA9IE51bWJlcih0aW1lT3V0KTtcbiAgICB2YXIgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICB2YXIgc2lnbmFsID0gY29udHJvbGxlci5zaWduYWw7XG4gICAgdmFyIHAxID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICByZXN1bHQ6ICfQn9GA0LXQstGL0YjQtdC9INC70LjQvNC40YIg0L7QttC40LTQsNC90LjRjycsXG4gICAgICAgICAgbXNnOiAn0J/RgNC10LLRi9GI0LXQvSDQu9C40LzQuNGCINC+0LbQuNC00LDQvdC40Y8nLFxuICAgICAgICB9KTtcbiAgICAgIH0sIHRpbWVPdXQpO1xuICAgIH0pO1xuICAgIHZhciBwMiA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZldGNoKHVybCwgcGFyYW1zKVxuICAgICAgICAudGhlbigocmVzKSA9PiByZXNvbHZlKHJlcykpXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiByZWplY3QoZXJyKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFByb21pc2UucmFjZShbcDEsIHAyXSk7XG4gIH1cblxuICBmZXRjaChvLCBvcHQgPSB7IGJvZHk6IHt9LCBwYXJhbXM6IHt9IH0sIHJlcGVhdCA9IGZhbHNlLCBpc3JlcGVhdCA9IGZhbHNlLCB1dWlkID0gZmFsc2UpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKGlzcmVwZWF0ID09IGZhbHNlKSB7XG4gICAgICAgIHRoaXMucmVwZWF0Q291bnQgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZXBlYXRDb3VudCsrO1xuICAgICAgfVxuXG4gICAgICBpZiAodXVpZCkge1xuICAgICAgICB1dWlkID0gdXVpZCArICdfZmdpc19mZXRjaF8nICsgdGhpcy5yZXBlYXRDb3VudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHV1aWQgPSB0aGlzLnJhbmRvbV91dWlkKCkgKyAnX2ZnaXNfZmV0Y2hfJyArIHRoaXMucmVwZWF0Q291bnQ7XG4gICAgICB9XG5cbiAgICAgIHZhciBtYXhSZXBlYXQgPSBvLmhhc093blByb3BlcnR5KCdtYXhSZXBlYXQnKSA/IG8ubWF4UmVwZWF0IDogdGhpcy5tYXhSZXBlYXQ7XG5cbiAgICAgIHJldHVybiB0aGlzLnNldEhlYWRlcnModGhpcy5mZ2lzVHlwZSkudGhlbigoKSA9PiB7XG4gICAgICAgIHZhciBvYmpVcmwgPSBvLnVybDtcbiAgICAgICAgaWYgKG8ucGFyYW1zKSB7XG4gICAgICAgICAgaWYgKCFvcHQuaGFzT3duUHJvcGVydHkoJ3BhcmFtcycpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3duRXhjZXB0aW9uKCfQlNC70Y8g0Y3RgtC+0LPQviDQt9Cw0L/RgNC+0YHQsCDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdGLINC/0LDRgNCw0LzQtdGC0YDRiy4nKTtcbiAgICAgICAgICBvLnBhcmFtcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIW9wdC5wYXJhbXMuaGFzT3duUHJvcGVydHkoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3duRXhjZXB0aW9uKFxuICAgICAgICAgICAgICAgIGDQmtCw0LbQtdGC0YHRjyDQstGLINC30LDQsdGL0LvQuCDRg9C60LDQt9Cw0YLRjCDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdGL0Lkg0L/QsNGA0LDQvNC10YLRgC5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7b2JqVXJsfVxuICAgICAgICAgICAgICAgICAgICAgICAg0J3Rg9C20L3RizogJHtvLnBhcmFtcy50b1N0cmluZygpfVxuICAgICAgICAgICAgICAgICAgICAgICAg0J/RgNC40YjQu9C4OiAke29wdC5wYXJhbXMudG9TdHJpbmcoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGAsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvYmpVcmwgPSBvYmpVcmwucmVwbGFjZShgeyR7ZWxlbWVudH19YCwgb3B0LnBhcmFtc1tlbGVtZW50XSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHVybCA9IG5ldyBVUkwob2JqVXJsLCB0aGlzLmRvbWFpbik7XG4gICAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgICAgbWV0aG9kOiBvLm1ldGhvZCxcbiAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoIChvLm1ldGhvZCkge1xuICAgICAgICAgIGNhc2UgJ1BPU1QnOlxuICAgICAgICAgICAgaWYgKG8uYm9keVR5cGUgJiYgby5ib2R5VHlwZSA9PSAnRm9ybURhdGEnKSB7XG4gICAgICAgICAgICAgIHBhcmFtcy5ib2R5ID0gb3B0LmJvZHk7XG4gICAgICAgICAgICAgIHBhcmFtcy5oZWFkZXJzLmRlbGV0ZSgnQ29udGVudC1UeXBlJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYXJhbXMuYm9keSA9IEpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oe30sIG9wdC5ib2R5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGltZU91dCA9IG8uaGFzT3duUHJvcGVydHkoJ3RpbWVPdXQnKTtcbiAgICAgICAgY29uc29sZS5pbmZvKFxuICAgICAgICAgICctLS0gJXMgLS0tIEZnaXMgZmV0Y2ggJXMgLyAlcyA6ICcsXG4gICAgICAgICAgdXVpZCxcbiAgICAgICAgICB0aGlzLnJlcGVhdENvdW50LFxuICAgICAgICAgIG1heFJlcGVhdCxcbiAgICAgICAgICB1cmwuaHJlZixcbiAgICAgICAgICBvLFxuICAgICAgICAgIG9wdCxcbiAgICAgICAgICAndGltZU91dCA6ICcsXG4gICAgICAgICAgdGltZU91dCxcbiAgICAgICAgKTtcbiAgICAgICAgdmFyIGYgPSBvLmhhc093blByb3BlcnR5KCd0aW1lT3V0JylcbiAgICAgICAgICA/IHRoaXMuZmV0Y2hfd2l0aF90aW1lb3V0KHVybC5ocmVmLCBwYXJhbXMsIG8udGltZU91dClcbiAgICAgICAgICA6IGZldGNoKHVybC5ocmVmLCBwYXJhbXMpO1xuICAgICAgICByZXR1cm4gZlxuICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIHN3aXRjaCAocmVzcG9uc2Uuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSA1MDA6XG4gICAgICAgICAgICAgICAgY2FzZSA1MDI6XG4gICAgICAgICAgICAgICAgICB0aHJvdyB7IHJlc3VsdDogcmVzcG9uc2UsIG1zZzogJyhKU09OKSDQodC10YDQstC40YEg0L3QtSDRgNCw0LHQvtGC0LDQtdGCLicgfTtcbiAgICAgICAgICAgICAgICBjYXNlIDQwMTpcbiAgICAgICAgICAgICAgICBjYXNlIDQwMzpcbiAgICAgICAgICAgICAgICAgIHRocm93IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgbXNnOiAnKEpTT04pINCe0YLQutCw0LfQsNC90L4g0LIg0LTQvtGB0YLRg9C/0LUuINCf0YDQvtCy0LXRgNGM0YLQtSDQsNCy0YLQvtGA0LjQt9Cw0YbQuNGOLicsXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNhc2UgMjAwOlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICB0aHJvdyB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgIG1zZzogYChKU09OKSDQndC1INC40LfQstC10YHRgtC90YvQuSDQutC+0LQg0L7RiNC40LHQutC4ICggc3RhdHVzIDoke1xuICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnN0YXR1c1xuICAgICAgICAgICAgICAgICAgICB9KTogJHtKU09OLnN0cmluZ2lmeShyZXNwb25zZSl9YCxcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4oKG9iaikgPT4ge1xuICAgICAgICAgICAgaWYgKG9iai5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgc3dpdGNoIChvYmouc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGlmIChvYmouc3RhdHVzID4gMjA1KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IHtcbiAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IG9iaixcbiAgICAgICAgICAgICAgICAgICAgICBtc2c6IGDQndC1INC40LfQstC10YHRgtC90LDRjyDQvtGI0LjQsdC60LAg0LfQsNC/0YDQvtGB0LAgKCBzdGF0dXMgOiR7b2JqLnN0YXR1c30pOiAke29iai5tZXNzYWdlfWAsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvYmouY29kZSkge1xuICAgICAgICAgICAgICBzd2l0Y2ggKG9iai5jb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSA0MDE6XG4gICAgICAgICAgICAgICAgY2FzZSA0MDA6XG4gICAgICAgICAgICAgICAgICB0aHJvdyB7IHJlc3VsdDogb2JqLCBtc2c6IG9iai5kZXNjcmlwdGlvbiB9O1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICB0aHJvdyB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdDogb2JqLFxuICAgICAgICAgICAgICAgICAgICBtc2c6IGDQndC1INC40LfQstC10YHRgtC90LDRjyDQvtGI0LjQsdC60LAg0LfQsNC/0YDQvtGB0LAgKCBjb2RlOiAke29iai5jb2RlfSk6ICR7XG4gICAgICAgICAgICAgICAgICAgICAgb2JqLm1lc3NhZ2UgPyBvYmoubWVzc2FnZSA6IEpTT04uc3RyaW5naWZ5KG9iailcbiAgICAgICAgICAgICAgICAgICAgfWAsXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJy0tLSAlcyAtLS0gRmdpcyBmZXRjaCByZXN1bHQgJywgdXVpZCwgb2JqKTtcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAudGhlbigob2JqKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW8ubm9PYmpSZXNwICYmICFPYmplY3Qua2V5cyhvYmopLmxlbmd0aCAmJiAhb2JqLmNvZGUgJiYgIW9iai5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgdGhyb3cge1xuICAgICAgICAgICAgICAgIHJlc3VsdDogb2JqLFxuICAgICAgICAgICAgICAgIG1zZzogYNCd0LUg0LjQt9Cy0LXRgdGC0L3QsNGPINC+0YjQuNCx0LrQsCDQt9Cw0L/RgNC+0YHQsC4g0J/RgNC10LTQv9C+0LvQvtCz0LDQtdGC0YHRjyDQv9GD0YHRgtC+0Lkg0L7QsdGK0LXQutGCICggb2JqOiAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgICAgb2JqLFxuICAgICAgICAgICAgICAgICl9KWAsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCctLS0gJXMgLS0tIEZnaXMgZmV0Y2ggZXJyb3IgJywgdXVpZCwgZXJyb3IucmVzdWx0KTtcbiAgICAgICAgICAgIHZhciBtc2cgPSBlcnJvci5tc2c7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIChyZXBlYXQgfHwgKG8uaGFzT3duUHJvcGVydHkoJ3JlcGVhdCcpICYmIG8ucmVwZWF0KSkgJiZcbiAgICAgICAgICAgICAgbWF4UmVwZWF0ID49IHRoaXMucmVwZWF0Q291bnRcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZlxuICAgICAgICAgICAgICAgICAgICAuZmV0Y2gobywgb3B0LCByZXBlYXQsIHRydWUsIHV1aWQpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNwKSA9PiByZXNvbHZlKHJlc3ApKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3duRXhjZXB0aW9uKG1zZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign0J7RiNC40LHQutCwINCyINC60L7QvdGB0YLRgNGD0LrRhtC40LggZmV0Y2gg0LIgRmdpcycsIGVycm9yKTtcbiAgICAgIHJldHVybiB0aGlzLm93bkV4Y2VwdGlvbign0J7RiNC40LHQutCwINCyINC60L7QvdGB0YLRgNGD0LrRhtC40LggZmV0Y2gg0LIgRmdpcycsIGVycm9yKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtcbiAgRmdpc1xufVxuIiwiXG5cbmNsYXNzIFN0YXRlbWVudCB7XG4gICAgY29uc3RydWN0b3IoaWQsIGFkdmFuY2UsIGZnaXMsIHNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5hZHZhbmNlID0gYWR2YW5jZTtcbiAgICAgICAgdGhpcy5mZ2lzID0gZmdpcztcbiAgICAgICAgdGhpcy5pc1Rlc3QgPSBzZXR0aW5ncy5pc1Rlc3Q7XG4gICAgICAgIHRoaXMuYWR2YW5jZU9iaiA9IHt9O1xuICAgICAgICB0aGlzLmlkQXBwbGljYXRpb24gPSBcIlwiO1xuICAgICAgICB0aGlzLmFwcFN1Ym1pc3Npb25EYXRlID0gXCJcIjtcbiAgICAgICAgdGhpcy5pZFN0YXR1cyA9IFwiXCI7XG4gICAgICAgIHRoaXMubG9nID0gW107XG4gICAgICAgIHRoaXMudXVpZCA9IHRoaXMucmFuZG9tX3V1aWQoKVxuICAgICAgICBjb25zb2xlLmxvZygnY29uc3RydWN0b3QgU3RhdGVtZW50IGluaXQgd2l0aCB1dWlkIDonICsgdGhpcy51dWlkKVxuICAgIH1cbiAgICBjaGVja1NpZ24oaWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmdpcy5mZXRjaCh0aGlzLmZnaXMuc3RhdGVtZW50LmdldCwgeyBwYXJhbXM6IHsgaWQ6IGlkIH0gfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZC5pZFN0YXR1cyAmJiBkLmlkU3RhdHVzID09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5pdEFkdmFuY2UoZC5pZEFwcGxpY2F0aW9uLCBkLmFwcGxpY2F0aW9uU3VibWlzc2lvbkRhdGUsIGQuaWRTdGF0dXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsgY29uc29sZS5sb2coZXJyb3IpIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsgcmV0dXJuIHRoaXMubWFya0FkdmFuY2UoXCJTaWduZWRcIikgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgIH1cbiAgICBzaWduKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXJrQWR2YW5jZShcIlNpZ25pbmdcIilcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuYWR2YW5jZS5mZXRjaCh0aGlzLmFkdmFuY2Uuc3RhdGVtZW50LnNob3csIHsgcGFyYW1zOiB7IGlkOiB0aGlzLmlkIH0gfSkpXG4gICAgICAgICAgICAudGhlbihkID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgYWN0aW9uO1xuICAgICAgICAgICAgICAgIGlmICghZC5pZEFwcGxpY2F0aW9uKSB7IHRocm93IFwi0JfQsNGP0LLQu9C10L3QuNC1INC90LUg0L/RgNC40LLRj9C30LDQvdC+INC6INCQ0LTQstCw0L3RgdGDLlwiIH07XG4gICAgICAgICAgICAgICAgaWYgKGQuaWRTdGF0dXMgJiYgZC5pZFN0YXR1cyA9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcItCX0LDRj9Cy0LvQtdC90LjQtSDRg9C20LUg0L/QvtC00L/QuNGB0LDQvdC+ISAo0L/QviDRgdGC0LDRgtGD0YHRgyDQkNC00LLQsNC90YEpXCJcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGFjdGlvbiA9IHRoaXMuY2hlY2tTaWduKGQuaWRBcHBsaWNhdGlvbikudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQWZ0ZXIgY2hlY2tTaWduIHRyeSByZXR1cm4gaWRBcHBsaWNhdGlvblwiLGQuaWRBcHBsaWNhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuaWRBcHBsaWNhdGlvblxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoaWQpID0+IHRoaXMuZmdpcy5zaWduRmlsZShbaWRdLCBcImFwcGxpY2F0aW9uc1wiKSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMubWFya0FkdmFuY2UoXCJTaWduZWRcIikpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gaWYgKGZyb21fcGFja2FnZSkgeyByZXR1cm4gfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic29tZXRoaW5nIHdyb25nIGluIHN0YXRlbWVudCBzaWduXCIsIGVycilcbiAgICAgICAgICAgICAgICBpZiAoZXJyID09IFwi0JfQsNGP0LLQu9C10L3QuNC1INGD0LbQtSDQv9C+0LTQv9C40YHQsNC90L4hICjQv9C+INGB0YLQsNGC0YPRgdGDINCQ0LTQstCw0L3RgSlcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYXJrQWR2YW5jZShcIlNpZ25lZFwiKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1hcmtBZHZhbmNlKFwiU2lnbkVycm9yXCIsIGVycikudGhlbigoKSA9PiB7IHRocm93IGVyciB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgfVxuICAgIGxvZ1N0YXRlKG8sIHQpIHtcbiAgICAgICAgLy8gdGhpcy5sb2cuYXBwZW5kKFwiU3RhdGVtZW50OlwiICxvLEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodCkpKVxuICAgICAgICBjb25zb2xlLmxvZyhcIlN0YXRlbWVudDpcIiwgbywgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0KSkpXG4gICAgfVxuICAgIGdldExpc3QoKSB7XG4gICAgICAgIHZhciB1cmwgPSB0aGlzLmxvY2F0aW9uT3JpZ2luICsgYV9zdGF0ZW1lbnRfYXBpLnF1ZXVlLnVybCArICc/JyArIHRoaXMuYXBpX2tleTtcbiAgICAgICAgcmV0dXJuIGZldGNoKHVybCwge1xuICAgICAgICAgICAgbWV0aG9kOiBhX3N0YXRlbWVudF9hcGkucXVldWUubWV0aG9kLFxuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJ1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAgICAgLnRoZW4ob2JqID0+IGNvbnNvbGUubG9nKG9iaikpXG4gICAgfVxuICAgIHdvcmtGbG93KHJvb3QgPSBmYWxzZSwgaXNfcmV0dXJuX1NpZ25pbmcgPSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hZHZhbmNlLmZldGNoKHRoaXMuYWR2YW5jZS5zdGF0ZW1lbnQuZ2V0X3N0YXRlLCB7IHBhcmFtczogeyBpZDogdGhpcy5pZCB9IH0pXG4gICAgICAgICAgICAudGhlbihzdGF0ZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8g0J3QtSDRg9GB0YLQsNC90L7QstC70LXQvSAtIE5vdFNldFxuICAgICAgICAgICAgICAgIC8vINCT0L7RgtC+0LLQviDQuiDQstGL0LPRgNGD0LfQutC1IC0gUmVhZHlUb1VwbG9hZFxuICAgICAgICAgICAgICAgIC8vINCS0YvQs9GA0YPQttCw0LXRgtGB0Y8gLSBVcGxvYWRpbmdcbiAgICAgICAgICAgICAgICAvLyDQntGI0LjQsdC60LAg0LLRi9Cz0YDRg9C30LrQuCAtIFVwbG9hZEVycm9yXG4gICAgICAgICAgICAgICAgLy8g0JLRi9Cz0YDRg9C20LXQvdC+IC0gVXBsb2FkZWRcbiAgICAgICAgICAgICAgICAvLyDQn9C+0LTQv9C40YHRi9Cy0LDQtdGC0YHRjyAtIFNpZ25pbmdcbiAgICAgICAgICAgICAgICAvLyDQntGI0LjQsdC60LAg0L/QvtC00L/QuNGB0LggLSBTaWduRXJyb3JcbiAgICAgICAgICAgICAgICAvLyDQn9C+0LTQv9C40YHQsNC90L4gLSBTaWduZWRcbiAgICAgICAgICAgICAgICBsZXQgYWN0aW9uO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnTm90U2V0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3RhdGVtZW50IG5vdCByZWFkeSB0byB1cGxvYWRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdSZWFkeVRvVXBsb2FkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3RhdGVtZW50IHJlYWR5IHRvIHVwbG9hZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gdGhpcy5zYXZlKCkudGhlbigoKSA9PiB0aGlzLndvcmtGbG93KHJvb3QgPSB0cnVlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdVcGxvYWRpbmcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTdGF0ZW1lbnQgaW4gVXBsb2FkaW5nXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVXBsb2FkRXJyb3InOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTdGF0ZW1lbnQgdXBsb2FkIFVwbG9hZEVycm9yXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24gPSB0aGlzLnNhdmUoKS50aGVuKCgpID0+IHRoaXMud29ya0Zsb3cocm9vdCA9IHRydWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1VwbG9hZGVkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiU3RhdGVtZW50IFVwbG9hZGVkIGRvbmVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc19yZXR1cm5fU2lnbmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGlzX25lZWRfU2lnbmluZzogdGhpcy5pZCB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbiA9IHRoaXMuc2lnbigpLnRoZW4oKCkgPT4gdGhpcy53b3JrRmxvdyhyb290ID0gZmFsc2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1NpZ25pbmcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTdGF0ZW1lbnQgaW4gU2lnbmluZ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1NpZ25FcnJvcic6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlN0YXRlbWVudCBTaWduaW5nIFNpZ25FcnJvclwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyb290KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gdGhpcy5zYXZlKCkudGhlbigoKSA9PiB0aGlzLndvcmtGbG93KHJvb3QgPSB0cnVlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdTaWduZWQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJTdGF0ZW1lbnQgU2lnbmVkIGRvbmVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpb25cbiAgICAgICAgICAgIH0pXG4gICAgfVxuICAgIHNhdmUoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzYXZlIDo+PiAnKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFya0FkdmFuY2UoXCJVcGxvYWRpbmdcIilcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuc2hvd0FkdmFuY2UoKSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuc2F2ZVN0YXRlbWVudFRvRmdpcygpKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5pbml0QWR2YW5jZSgpKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5tYXJrQWR2YW5jZShcIlVwbG9hZGVkXCIpKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5kb25lKCkpXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNvbWV0aGluZyB3cm9uZyBpbiBzdGF0ZW1lbnQgc2F2ZVwiLCBlcnIpXG4gICAgICAgICAgICAgICAgdGhpcy5tYXJrQWR2YW5jZShcIlVwbG9hZEVycm9yXCIsIGVycilcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRTdGF0ZW1lbnQoaWQpIHtcbiAgICAgICAgdGhpcy5sb2dTdGF0ZShcInNhdmVcIiwgdGhpcylcbiAgICAgICAgcmV0dXJuIHRoaXMuZmdpcy5mZXRjaCh0aGlzLmZnaXMuc3RhdGVtZW50LmdldCwgeyBwYXJhbXM6IHsgaWQ6IGlkIH0gfSlcbiAgICB9XG4gICAgdXBkYXRlU3RhdGVtZW50KGlkID0gXCJcIikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlN0YXRlbWVudCB1cGRhdGVTdGF0ZW1lbnRcIik7XG4gICAgICAgIHJldHVybiB0aGlzLmFkdmFuY2UuZmV0Y2godGhpcy5hZHZhbmNlLnN0YXRlbWVudC5zaG93LCB7IHBhcmFtczogeyBpZDogdGhpcy5pZCB9IH0pXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmlkQXBwbGljYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpZCkgeyBpZCA9IGRhdGEuaWRBcHBsaWNhdGlvbiB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFN0YXRlbWVudChpZClcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcItCX0LDRj9Cy0LvQtdC90LjQtSDQtdGJ0LUg0L3QtSDQsdGL0LvQviDQt9Cw0LPRgNGD0LbQtdC90L3Qvi5cIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5pdEFkdmFuY2UoXG4gICAgICAgICAgICAgICAgICAgIGQuaWRBcHBsaWNhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZC5hcHBTdWJtaXNzaW9uRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgZC5pZFN0YXR1cylcbiAgICAgICAgICAgIH0pXG4gICAgfVxuICAgIGRvbmUoZGF0YSA9IHsgZG9uZTogdHJ1ZSB9KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU3RhdGVtZW50IGRvbmVcIiwgZGF0YSk7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBzaG93QWR2YW5jZSgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJTdGF0ZW1lbnQgc2hvd0FkdmFuY2VcIiwgdGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLmFkdmFuY2UuZmV0Y2godGhpcy5hZHZhbmNlLnN0YXRlbWVudC5zaG93LCB7IHBhcmFtczogeyBpZDogdGhpcy5pZCB9IH0pXG4gICAgICAgICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkdmFuY2VPYmogPSBkYXRhO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzVGVzdCkgeyB0aGlzLmFkdmFuY2VPYmoubnVtYmVyID0gKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgxMDAwMDAgLSAxKSkgKyAxKS50b1N0cmluZygpICsgXCIv0KJcIiB9XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5hZHZhbmNlT2JqLnByb2R1Y3RzWzBdLmJhdGNoSWQ9IG51bGxcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmFkdmFuY2VPYmouaWRBcHBsaWNhdGlvbiA9IG51bGxcbiAgICAgICAgICAgICAgICB0aGlzLmFkdmFuY2VPYmouaWRTdGF0dXMgPSAyMFxuICAgICAgICAgICAgfSlcbiAgICB9XG4gICAgbWFya0FkdmFuY2Uoc3RhdHVzLCBtZXNzYWdlID0gXCJcIikge1xuICAgICAgICAvLyDQndC1INGD0YHRgtCw0L3QvtCy0LvQtdC9IC0gTm90U2V0XG4gICAgICAgIC8vINCT0L7RgtC+0LLQviDQuiDQstGL0LPRgNGD0LfQutC1IC0gUmVhZHlUb1VwbG9hZFxuICAgICAgICAvLyDQktGL0LPRgNGD0LbQsNC10YLRgdGPIC0gVXBsb2FkaW5nXG4gICAgICAgIC8vINCe0YjQuNCx0LrQsCDQstGL0LPRgNGD0LfQutC4IC0gVXBsb2FkRXJyb3JcbiAgICAgICAgLy8g0JLRi9Cz0YDRg9C20LXQvdC+IC0gVXBsb2FkZWRcbiAgICAgICAgLy8g0J/QvtC00L/QuNGB0YvQstCw0LXRgtGB0Y8gLSBTaWduaW5nXG4gICAgICAgIC8vINCe0YjQuNCx0LrQsCDQv9C+0LTQv9C40YHQuCAtIFNpZ25FcnJvclxuICAgICAgICAvLyDQn9C+0LTQv9C40YHQsNC90L4gLSBTaWduZWRcbiAgICAgICAgcmV0dXJuIHRoaXMuYWR2YW5jZS5nZXRDdXJyZW50VXNlcklkKClcbiAgICAgICAgICAgIC50aGVuKCh1c2VyX2lkKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGJvZHkgPSBbXG4gICAgICAgICAgICAgICAgICAgIHsgbmFtZTogXCJpZFwiLCB2YWx1ZTogdGhpcy5pZCB9LFxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwidXNlcl9pZFwiLCB2YWx1ZTogdXNlcl9pZCB9LFxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwic3RhdHVzXCIsIHZhbHVlOiBzdGF0dXMgfSxcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcIm1lc3NhZ2VcIiwgdmFsdWU6IG1lc3NhZ2UgfSxcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWR2YW5jZS5mZXRjaCh0aGlzLmFkdmFuY2Uuc3RhdGVtZW50LnNldF9zdGF0dXMsIHsgYm9keTogYm9keSB9KVxuICAgICAgICAgICAgfSlcbiAgICB9XG4gICAgaW5pdEFkdmFuY2UoaWRBcHBsaWNhdGlvbiwgYXBwbGljYXRpb25TdWJtaXNzaW9uRGF0ZSwgaWRTdGF0dXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWR2YW5jZS5nZXRDdXJyZW50VXNlcklkKClcbiAgICAgICAgICAgIC50aGVuKCh1c2VyX2lkKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy51c2VyX2lkID0gdXNlcl9pZFxuICAgICAgICAgICAgICAgIGlmICghaWRBcHBsaWNhdGlvbikgeyBpZEFwcGxpY2F0aW9uID0gdGhpcy5pZEFwcGxpY2F0aW9uIH1cbiAgICAgICAgICAgICAgICBpZiAoIWFwcGxpY2F0aW9uU3VibWlzc2lvbkRhdGUpIHsgYXBwbGljYXRpb25TdWJtaXNzaW9uRGF0ZSA9IFwiXCIgfVxuICAgICAgICAgICAgICAgIGlmICghaWRTdGF0dXMpIHsgaWRTdGF0dXMgPSBcIlwiIH1cbiAgICAgICAgICAgICAgICBsZXQgYm9keSA9IFtcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcImlkQXBwbGljYXRpb25cIiwgdmFsdWU6IGlkQXBwbGljYXRpb24gfSxcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcInN0YXRlbWVudF91cmxcIiwgdmFsdWU6IHRoaXMuZmdpcy5zdGF0ZW1lbnRfdXJsICsgaWRBcHBsaWNhdGlvbiArIFwiL2FwcGxpY2F0aW9uXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcImFwcGxpY2F0aW9uU3VibWlzc2lvbkRhdGVcIiwgdmFsdWU6IGFwcGxpY2F0aW9uU3VibWlzc2lvbkRhdGUgfSxcbiAgICAgICAgICAgICAgICAgICAgeyBuYW1lOiBcImlkU3RhdHVzXCIsIHZhbHVlOiBpZFN0YXR1cyB9LFxuICAgICAgICAgICAgICAgICAgICB7IG5hbWU6IFwidXNlcl9pZFwiLCB2YWx1ZTogdGhpcy51c2VyX2lkIH0sXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFkdmFuY2UuZmV0Y2godGhpcy5hZHZhbmNlLnN0YXRlbWVudC5pbml0LCB7IGJvZHk6IGJvZHksIHBhcmFtczogeyBpZDogdGhpcy5pZCB9IH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgfVxuICAgIHRlc3QoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJpZFByb2R1Y3RcIjogbnVsbCxcbiAgICAgICAgICAgICAgICBcImlkUHJvZHVjdE9yaWdpblwiOiBcIjg0MFwiLFxuICAgICAgICAgICAgICAgIFwiZnVsbE5hbWVcIjogXCLQmtC+0LzQv9C70LXQutGB0Ysg0LLRi9GH0LjRgdC70LjRgtC10LvRjNC90YvQtSDRjdC70LXQutGC0YDQvtC90L3Ri9C1INGG0LjRhNGA0L7QstGL0LU6INC/0YDQvtCz0YDQsNC80LzQvdC+LdCw0L/Qv9Cw0YDQsNGC0L3Ri9C5INC60L7QvNC/0LvQtdC60YExMTExMSBcIixcbiAgICAgICAgICAgICAgICBcIm1hcmtpbmdcIjogbnVsbCxcbiAgICAgICAgICAgICAgICBcInVzYWdlU2NvcGVcIjogbnVsbCxcbiAgICAgICAgICAgICAgICBcInN0b3JhZ2VDb25kaXRpb25cIjogXCLQo9GB0LvQvtCy0LjRjyDRhdGA0LDQvdC10L3QuNGPINC/0YDQvtC00YPQutGG0LjQuCDQsiDRgdC+0L7RgtCy0LXRgtGB0YLQstC40Lgg0YEg0JPQntCh0KIgMTUxNTAtNjkgXFxcItCc0LDRiNC40L3Riywg0L/RgNC40LHQvtGA0Ysg0Lgg0LTRgNGD0LPQuNC1INGC0LXRhdC90LjRh9C10YHQutC40LUg0LjQt9C00LXQu9C40Y8uINCY0YHQv9C+0LvQvdC10L3QuNGPINC00LvRjyDRgNCw0LfQu9C40YfQvdGL0YUg0LrQu9C40LzQsNGC0LjRh9C10YHQutC40YUg0YDQsNC50L7QvdC+0LIuINCa0LDRgtC10LPQvtGA0LjQuCwg0YPRgdC70L7QstC40Y8g0Y3QutGB0L/Qu9GD0LDRgtCw0YbQuNC4LCDRhdGA0LDQvdC10L3QuNGPINC4INGC0YDQsNC90YHQv9C+0YDRgtC40YDQvtCy0LDQvdC40Y8g0LIg0YfQsNGB0YLQuCDQstC+0LfQtNC10LnRgdGC0LLQuNGPINC60LvQuNC80LDRgtC40YfQtdGB0LrQuNGFINGE0LDQutGC0L7RgNC+0LIg0LLQvdC10YjQvdC10Lkg0YHRgNC10LTRi1xcXCIuINCh0YDQvtC6INGF0YDQsNC90LXQvdC40Y8gKNGB0LvRg9C20LHRiywg0LPQvtC00L3QvtGB0YLQuCkg0YPQutCw0LfQsNC9INCyINC/0YDQuNC70LDQs9Cw0LXQvNC+0Lkg0Log0L/RgNC+0LTRg9C60YbQuNC4INGC0L7QstCw0YDQvtGB0L7Qv9GA0L7QstC+0LTQuNGC0LXQu9GM0L3QvtC5INC4L9C40LvQuCDRjdC60YHQv9C70YPQsNGC0LDRhtC40L7QvdC90L7QuSDQtNC+0LrRg9C80LXQvdGC0LDRhtC40LgyMjIyXCIsXG4gICAgICAgICAgICAgICAgXCJ1c2FnZUNvbmRpdGlvblwiOiBudWxsLFxuICAgICAgICAgICAgICAgIFwiYmF0Y2hTaXplXCI6IG51bGwsXG4gICAgICAgICAgICAgICAgXCJiYXRjaElkXCI6IG51bGwsXG4gICAgICAgICAgICAgICAgXCJpZGVudGlmaWNhdGlvblwiOiBudWxsLFxuICAgICAgICAgICAgICAgIFwiaWRlbnRpZmljYXRpb25zXCI6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJpZElkZW50aWZpY2F0aW9uXCI6IDY3NjgyNjQsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFubmV4XCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJuYW1lXCI6IFwiVGVyYWRhdGEgSW50ZWxsaWZsZXggMS4xLiDDkMKww5HCgMORwoLDkMK4w5DCusORwoPDkMK7IDkxODUtMTEwMC04MDkwLCBUZXJhZGF0YSAyODAwIChCQVIpIERhdGEgV2FyZWhvdXNlIEFwcGxpYW5jZSwgw5DCsMORwoDDkcKCw5DCuMOQwrrDkcKDw5DCuyA5MTkwLcOQwqIwMDQtODA5MCAoOTE5MC1UMDEwLTgwOTAsIDkxOTAtVDAxMS04MDkwKSwgVGVyYWRhdGEgTXVsdGlwdXJwb3NlIFNlcnZlciAoVE1TKSA4LTIxWCDDkMK0w5DCu8ORwo8gw5DCn8OQwp4gU0FTIFZBLCDDkMKww5HCgMORwoLDkMK4w5DCusORwoPDkMK7IDkxMjgtVDUxOC04MDkwLCA5MTc1LTIxMDAtODA5MCBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0cmFkZU1hcmtcIjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibW9kZWxcIjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYXJ0aWNsZVwiOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzb3J0XCI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImlkT2twZHNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRUbnZlZHNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDczNTIyXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJndGluXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJsaWZlVGltZVwiOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdG9yYWdlVGltZVwiOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJhbW91bnRcIjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRPa2VpXCI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZhY3RvcnlOdW1iZXJcIjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicHJvZHVjdGlvbkRhdGVcIjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZXhwaXJ5RGF0ZVwiOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkb2N1bWVudHNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3RhbmRhcmRzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaWRTdGFuZGFyZFwiOiAzMDczMjkxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFubmV4XCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlkRGljdFN0YW5kYXJkXCI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGVzaWduYXRpb25cIjogXCLQk9Ce0KHQoiBJRUMgNjA5NTAtMS0gMjAxNCBcXFwi0J7QsdC+0YDRg9C00L7QstCw0L3QuNC1INC40L3RhNC+0YDQvNCw0YbQuNC+0L3QvdGL0YUg0YLQtdGF0L3QvtC70L7Qs9C40LkuINCi0YDQtdCx0L7QstCw0L3QuNGPINCx0LXQt9C+0L/QsNGB0L3QvtGB0YLQuC4g0KfQsNGB0YLRjCAxLiDQntCxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmFtZVwiOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNlY3Rpb25cIjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhZGRsSW5mb1wiOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlkU3RhdHVzXCI6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9XG4gICAgbWlkZGxlVXBkYXRlckZnaXMoZGF0YSkge1xuICAgICAgICAvLyDQnNC10YLQvtC0INC/0YDQuNCy0LXQtNC10L3QuNGPINC+0LHRitC10LrRgtCwINC/0L7Qu9GD0YfQtdC90L3QvtCz0L4g0LjQtyDQsNC00LLQsNC90YHQsCwg0Log0L3Rg9C20L3QvtC80YMg0LLQuNC00YNcbiAgICAgICAgbGV0IGxvY2FsRGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIGRhdGEpXG5cbiAgICAgICAgbG9jYWxEYXRhLm1hbnVmYWN0dXJlci5hZGRyZXNzZXMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQuZm9yZWlnbkRpc3RyaWN0ID0gbnVsbFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGxvY2FsRGF0YS5tYW51ZmFjdHVyZXJGaWxpYWxzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LmFkZHJlc3Nlcy5mb3JFYWNoKGFkZHIgPT4ge1xuICAgICAgICAgICAgICAgIGFkZHIuZm9yZWlnbkRpc3RyaWN0ID0gbnVsbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBsb2NhbERhdGFcbiAgICB9XG5cbiAgICBzYXZlU3RhdGVtZW50VG9GZ2lzKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlN0YXRlbWVudCBzYXZlU3RhdGVtZW50VG9GZ2lzXCIpO1xuICAgICAgICBsZXQgYWN0aW9uO1xuICAgICAgICBsZXQgcm9vdERhdGEgPSB0aGlzLm1pZGRsZVVwZGF0ZXJGZ2lzKHRoaXMuYWR2YW5jZU9iailcblxuICAgICAgICBpZiAocm9vdERhdGEuaWRBcHBsaWNhdGlvbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVcGRhdGUgcmVjb3JkIGluIGZnaXNcIiwgcm9vdERhdGEpXG4gICAgICAgICAgICBhY3Rpb24gPSB0aGlzLmZnaXMuZmV0Y2godGhpcy5mZ2lzLnN0YXRlbWVudC5wb3N0LCB7IGJvZHk6IHJvb3REYXRhLCBwYXJhbXM6IHsgaWQ6IHJvb3REYXRhLmlkQXBwbGljYXRpb24gfSB9KS50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaWRBcHBsaWNhdGlvbiA9IHJvb3REYXRhLmlkQXBwbGljYXRpb25cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNyZWF0ZSByZWNvcmQgaW4gZmdpc1wiLCByb290RGF0YSlcbiAgICAgICAgICAgIGFjdGlvbiA9IHRoaXMuZmdpcy5mZXRjaCh0aGlzLmZnaXMuc3RhdGVtZW50LmluaXQsIHsgYm9keTogcm9vdERhdGEgfSlcbiAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mZ2lzLmZldGNoKHRoaXMuZmdpcy5zdGF0ZW1lbnQuZ2V0LCB7IHBhcmFtczogeyBpZDogZGF0YS5pZCB9IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2F2ZVN0YXRlbWVudHRvRmdpc1wiLCBkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaWRBcHBsaWNhdGlvbiA9IGQuaWRBcHBsaWNhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwU3VibWlzc2lvbkRhdGUgPSBkLmFwcFN1Ym1pc3Npb25EYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pZFN0YXR1cyA9IGQuaWRTdGF0dXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm51bWJlciA9IGQubnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjdGlvblxuICAgIH1cblxuICAgIHJhbmRvbV91dWlkKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDE1KSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSk7XG4gICAgfVxuXG59XG5jb25zb2xlLmxvZyhcIlN0YXRlbWVudCBkcyBjbGFzcyBpbml0IVwiKVxuXG5leHBvcnQge1xuICAgIFN0YXRlbWVudFxufVxuIiwiXG5mdW5jdGlvbiBlcnIobXNnKSB7XG4gIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgdGhyb3cgbXNnO1xufVxuY2xhc3MgR2VuZXJhdG9yRmlsZXNBZHZhbmNlIHtcbiAgY29uc3RydWN0b3IoZG9jdW1lbnQsIGRvY3VtZW50X25hbWUpIHtcbiAgICB0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgdGhpcy5hZHZhbmNlID0gZG9jdW1lbnQuYWR2YW5jZTtcbiAgICB0aGlzLmRvY3VtZW50SWQgPSBkb2N1bWVudC5pZDtcbiAgICB0aGlzLmRvY3VtZW50X25hbWUgPSBkb2N1bWVudF9uYW1lO1xuICAgIHRoaXMuY29udHJvbGxlciA9IHRoaXMuYWR2YW5jZS5kb2N1bWVudFtkb2N1bWVudF9uYW1lXTtcbiAgfVxuICBnZXRMaXN0KCkge1xuICAgIGNvbnNvbGUubG9nKCdnZXRMaXN0IDo+PiAnKTtcbiAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLmdldF9saXN0LmZldGNoKHtcbiAgICAgIHBhcmFtczogeyBpZDogdGhpcy5kb2N1bWVudElkIH0sXG4gICAgfSlcbiAgfVxuICBnZXRGaWxlKGZpbGVBZHZhbmNlSWQpIHtcbiAgICBjb25zb2xlLmxvZygnZ2V0RmlsZSA6Pj4gJywgZmlsZUFkdmFuY2VJZCk7XG4gICAgcmV0dXJuIHRoaXMuY29udHJvbGxlci5nZXRfZmlsZS5mZXRjaCh7XG4gICAgICBwYXJhbXM6IHsgaWQ6IHRoaXMuZG9jdW1lbnRJZCwgZmlsZUlkOiBmaWxlQWR2YW5jZUlkIH0sXG4gICAgfSlcbiAgfVxuICBwdXRGaWxlKGZpbGVBZHZhbmNlT2JqZWN0LCBmaWxlRmdpc1Jlc3BvbmNlKSB7XG4gICAgY29uc29sZS5sb2coJ3B1dEZpbGUgOj4+ICcsIGZpbGVBZHZhbmNlT2JqZWN0LCBmaWxlRmdpc1Jlc3BvbmNlKTtcbiAgICBjb25zdCBmb3JtRGF0YSA9IFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ2ZnaXNfZmlsZV9pZCcsXG4gICAgICAgIHZhbHVlOiBmaWxlRmdpc1Jlc3BvbmNlLmlkLFxuICAgICAgfSxcbiAgICBdO1xuICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIucHV0X2ZpbGVfaW5mby5mZXRjaCh7XG4gICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgIHBhcmFtczogeyBpZDogdGhpcy5kb2N1bWVudElkLCBmaWxlSWQ6IGZpbGVBZHZhbmNlT2JqZWN0LmZpbGVfaWQgfSxcbiAgICB9XG4gICAgKVxuICB9XG4gIHB1dEZpbGUyRmdpcyhmaWxlQWR2YW5jZU9iamVjdCwgZmlsZUFkdmFuY2VCbG9iKSB7XG4gICAgY29uc29sZS5sb2coJ3B1dEZpbGUyRmdpcyA6Pj4gJywgZmlsZUFkdmFuY2VPYmplY3QsIGZpbGVBZHZhbmNlQmxvYik7XG4gICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgbmV3IEZpbGUoW2ZpbGVBZHZhbmNlQmxvYl0sIGZpbGVBZHZhbmNlT2JqZWN0LmZpbGVfbmFtZSkpO1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLmRvY3VtZW50LmZnaXMuZG9jdW1lbnQubG9hZEZpbGU7XG4gICAgaWYgKHRoaXMuZG9jdW1lbnQuc2V0dGluZ3MuZmlsZV90aW1lX291dCkge1xuICAgICAgb3B0aW9ucy50aW1lT3V0ID0gdGhpcy5kb2N1bWVudC5zZXR0aW5ncy5maWxlX3RpbWVfb3V0ICogMTAwMDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQuZmdpcy5mZXRjaChvcHRpb25zLCB7IGJvZHk6IGZvcm1EYXRhIH0pO1xuICB9XG5cbiAgcHJvY2Vzc0ZpbGUoZmlsZUFkdmFuY2VPYmplY3QpIHtcbiAgICBjb25zb2xlLmxvZygncHJvY2Vzc0ZpbGUgOj4+ICcsIGZpbGVBZHZhbmNlT2JqZWN0KTtcbiAgICByZXR1cm4gdGhpcy5nZXRGaWxlKGZpbGVBZHZhbmNlT2JqZWN0LmZpbGVfaWQpXG4gICAgICAudGhlbigoZmlsZUFkdmFuY2VCbG9iKSA9PiB0aGlzLnB1dEZpbGUyRmdpcyhmaWxlQWR2YW5jZU9iamVjdCwgZmlsZUFkdmFuY2VCbG9iKSlcbiAgICAgIC50aGVuKChmaWxlRmdpc1Jlc3BvbmNlKSA9PiB0aGlzLnB1dEZpbGUoZmlsZUFkdmFuY2VPYmplY3QsIGZpbGVGZ2lzUmVzcG9uY2UpKVxuICB9XG5cbiAgcHJvY2Vzc0ZpbGVzKGZpbGVBZHZhbmNlT2JqZWN0TGlzdCkge1xuICAgIGNvbnNvbGUubG9nKCdwcm9jZXNzRmlsZXMgOj4+ICcsIGZpbGVBZHZhbmNlT2JqZWN0TGlzdCk7XG4gICAgaWYgKGZpbGVBZHZhbmNlT2JqZWN0TGlzdC5sZW5ndGggPT0gMCkge1xuICAgICAgY29uc29sZS5sb2coJ0xvYWQgZmlsZXMgaXMgZW5kJyk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnByb2Nlc3NGaWxlKGZpbGVBZHZhbmNlT2JqZWN0TGlzdFswXSkudGhlbigoKSA9PiB7XG4gICAgICBmaWxlQWR2YW5jZU9iamVjdExpc3QgPSBmaWxlQWR2YW5jZU9iamVjdExpc3Quc3BsaWNlKDEpO1xuICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc0ZpbGVzKGZpbGVBZHZhbmNlT2JqZWN0TGlzdCk7XG4gICAgfSk7XG4gIH1cblxuICBwcm9jZXNzKCkge1xuICAgIGNvbnNvbGUubG9nKCdwcm9jZXNzIDo+PiAnLCB0aGlzKTtcbiAgICByZXR1cm4gdGhpcy5nZXRMaXN0KClcbiAgICAgIC50aGVuKGZpbGVBZHZhbmNlT2JqZWN0TGlzdCA9PiB7XG4gICAgICAgIGNvbnN0IGxvYWRlZCA9IGZpbGVBZHZhbmNlT2JqZWN0TGlzdC5maWx0ZXIoKGVsKSA9PiB7XG4gICAgICAgICAgaWYgKGVsLmZnaXNfZmlsZV9pZCAhPSBudWxsICYmIGVsLmZnaXNfZmlsZV9pZCAhPSAnJykge1xuICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChsb2FkZWQubGVuZ3RoID09IGZpbGVBZHZhbmNlT2JqZWN0TGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhg0JLRgdC1ICR7dGhpcy5kb2N1bWVudF9uYW1lfSDRg9C20LUg0LfQsNCz0YDRg9C20LXQvdGLINCy0L4g0KTQk9CY0KEuYCk7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbGlkRmlsZUxpc3QgPSBmaWxlQWR2YW5jZU9iamVjdExpc3QuZmlsdGVyKChlbCkgPT4gZWwuZmlsZV9uYW1lICYmICFlbC5mZ2lzX2ZpbGVfaWQpO1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzRmlsZXModmFsaWRGaWxlTGlzdCk7XG4gICAgICB9KVxuICB9XG5cbn1cblxuY2xhc3MgRG9jdW1lbnQge1xuICBjb25zdHJ1Y3RvcihpZCwgYWR2YW5jZSwgZmdpcywgc2V0dGluZ3MsIGFkdmFuY2VUeXBlLCBpc1NyZCwgZmdpc1R5cGUpIHtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy5hZHZhbmNlID0gYWR2YW5jZTtcbiAgICB0aGlzLmZnaXMgPSBmZ2lzO1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLmFzc2lnblJlZ051bWJlciA9IHNldHRpbmdzLmFzc2lnblJlZ051bWJlcjtcbiAgICB0aGlzLmlzUm9ib3RTaWduRXJyb3JzID0gc2V0dGluZ3MuaXNSb2JvdFNpZ25FcnJvcnM7XG4gICAgdGhpcy5pc1Rlc3QgPSBzZXR0aW5ncy5pc1Rlc3Q7XG4gICAgdGhpcy5hZHZhbmNlVHlwZSA9IGFkdmFuY2VUeXBlO1xuICAgIHRoaXMuaXNTcmQgPSBpc1NyZDtcbiAgICB0aGlzLmZnaXNUeXBlID0gZmdpc1R5cGU7XG5cbiAgICB0aGlzLmlkRG9jdW1lbnRLZXkgPSB0aGlzLl9nZXRJZERvY3VtZW50S2V5KHRoaXMuZmdpc1R5cGUpO1xuXG4gICAgLy9cbiAgICB0aGlzLmFkdmFuY2VPYmogPSB7fTtcbiAgICB0aGlzLmlkQXBwbGljYXRpb24gPSAnJztcbiAgICB0aGlzLmFnZW5jeU1vZGUgPSBmYWxzZTtcbiAgICAvL1xuICAgIHRoaXMuZmdpc0lkID0gJyc7XG4gICAgdGhpcy5hZnRlckluaXRPYmogPSB7fTtcbiAgICB0aGlzLmlkRGVjbGFyYXRpb24gPSAnJztcblxuICAgIHRoaXMuaWREb2N1bWVudCA9IDA7XG5cbiAgICB0aGlzLmFubmV4ZUlkcyA9ICcnO1xuICAgIHRoaXMuc3VibWlzc2lvbkRhdGUgPSAnJztcbiAgICB0aGlzLm51bWJlciA9ICcnO1xuICAgIHRoaXMuaWRTdGF0dXMgPSAnJztcbiAgICB0aGlzLmZpbGVMaXN0ID0gW107XG4gICAgY29uc29sZS5sb2coJ0RvY3VtZW50IDo+PiAnLCB0aGlzKTtcbiAgfVxuICBkb25lKGRhdGEgPSB7IGRvbmU6IHRydWUgfSkge1xuICAgIGNvbnNvbGUubG9nKCdEcy5wcm90b3R5cGUuZG9uZScsIGRhdGEpO1xuICAgIGlmICh0aGlzLmRvY3VtZW50Rmdpc0RhdGEpIHtcbiAgICAgIGRhdGEuZG9jdW1lbnRGZ2lzRGF0YSA9IHRoaXMuZG9jdW1lbnRGZ2lzRGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbiAgX2dldElkRG9jdW1lbnRLZXkoZmdpc1R5cGUpIHtcbiAgICBzd2l0Y2ggKGZnaXNUeXBlKSB7XG4gICAgICBjYXNlICdyZHMnOlxuICAgICAgY2FzZSAnc3JkJzpcbiAgICAgICAgcmV0dXJuICdpZERlY2xhcmF0aW9uJztcbiAgICAgIGNhc2UgJ3Jzcyc6XG4gICAgICAgIHJldHVybiAnaWRDZXJ0aWZpY2F0ZSc7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBlcnIoJ9Cd0LUg0L7Qv9GA0LXQtNC10LvQtdC9IF9nZXRJZERvY3VtZW50S2V5OiAnICsgZmdpc1R5cGUpO1xuICAgIH1cbiAgfVxuICBtYXJrQWR2YW5jZShzdGF0dXMsIG1lc3NhZ2UgPSAnJykge1xuICAgIC8vINCd0LUg0YPRgdGC0LDQvdC+0LLQu9C10L0gLSBOb3RTZXRcbiAgICAvLyDQk9C+0YLQvtCy0L4g0Log0LLRi9Cz0YDRg9C30LrQtSAtIFJlYWR5VG9VcGxvYWRcbiAgICAvLyDQktGL0LPRgNGD0LbQsNC10YLRgdGPIC0gVXBsb2FkaW5nXG4gICAgLy8g0J7RiNC40LHQutCwINCy0YvQs9GA0YPQt9C60LggLSBVcGxvYWRFcnJvclxuICAgIC8vINCS0YvQs9GA0YPQttC10L3QviAtIFVwbG9hZGVkXG4gICAgLy8g0J/QvtC00L/QuNGB0YvQstCw0LXRgtGB0Y8gLSBTaWduaW5nXG4gICAgLy8g0J7RiNC40LHQutCwINC/0L7QtNC/0LjRgdC4IC0gU2lnbkVycm9yXG4gICAgLy8g0J/QvtC00L/QuNGB0LDQvdC+IC0gU2lnbmVkXG4gICAgcmV0dXJuIHRoaXMuYWR2YW5jZS5nZXRDdXJyZW50VXNlcklkKCkudGhlbigodXNlcl9pZCkgPT4ge1xuICAgICAgbGV0IGJvZHkgPSBbXG4gICAgICAgIHsgbmFtZTogJ2lkJywgdmFsdWU6IHRoaXMuaWQgfSxcbiAgICAgICAgeyBuYW1lOiAndXNlcl9pZCcsIHZhbHVlOiB1c2VyX2lkIH0sXG4gICAgICAgIHsgbmFtZTogJ3N0YXR1cycsIHZhbHVlOiBzdGF0dXMgfSxcbiAgICAgICAgeyBuYW1lOiAnbWVzc2FnZScsIHZhbHVlOiBtZXNzYWdlIH0sXG4gICAgICBdO1xuICAgICAgcmV0dXJuIHRoaXMuYWR2YW5jZS5mZXRjaCh0aGlzLmFkdmFuY2UuZG9jdW1lbnQuc2V0X3N0YXR1cywge1xuICAgICAgICBib2R5OiBib2R5LFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgY2hlY2tMYXN0KHdhbnRfbnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuYWR2YW5jZS5mZXRjaCh0aGlzLmFkdmFuY2UuZG9jdW1lbnQubGFzdCkudGhlbigoZmFjdF9udW1iZXIpID0+IHtcbiAgICAgIGZhY3RfbnVtYmVyID0gZmFjdF9udW1iZXIubWF0Y2goL1swLTldezV9Lyk7XG4gICAgICBmYWN0X251bWJlciA9IGZhY3RfbnVtYmVyID09IG51bGwgPyAwIDogTnVtYmVyKGZhY3RfbnVtYmVyWzBdKTtcbiAgICAgIHdhbnRfbnVtYmVyID0gd2FudF9udW1iZXIubWF0Y2goL1swLTldezV9Lyk7XG4gICAgICB3YW50X251bWJlciA9IHdhbnRfbnVtYmVyID09IG51bGwgPyAwIDogTnVtYmVyKHdhbnRfbnVtYmVyWzBdKTtcbiAgICAgIGlmIChmYWN0X251bWJlciAmJiB3YW50X251bWJlcikge1xuICAgICAgICBpZiAod2FudF9udW1iZXIgLSBmYWN0X251bWJlciAhPSAxKSB7XG4gICAgICAgICAgdGhyb3cgYNCS0Ysg0L/Ri9GC0LDQtdGC0LXRgdGMINC30LDQs9GA0YPQt9C40YLRjCDQvdC+0LzQtdGAINC90LUg0LjQtNGD0YnQuNC5INC30LAg0L/QvtGB0LvQtdC00L3QuNC8INCy0YvQs9GA0YPQttC10L3QvdGL0LwuINCf0L7RgdC70LXQtNC90LjQuToke2ZhY3RfbnVtYmVyfSAvINCS0LDRiDogJHt3YW50X251bWJlcn1gO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBg0J3QtSDQvNC+0LPRgyDRgdGA0LDQstC90LjRgtGMINGA0LXQsy4g0L3QvtC80LXRgNCwINCk0JPQmNChINC4INCw0LTQstCw0L3RgdCwLiDQn9C+0YHQu9C10LTQvdC40Lk6JHtmYWN0X251bWJlcn0gLyDQktCw0Yg6ICR7d2FudF9udW1iZXJ9YDtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9KTtcbiAgfVxuICB3b3JrRmxvdyhyb290ID0gZmFsc2UpIHtcbiAgICByZXR1cm4gdGhpcy5hZHZhbmNlXG4gICAgICAuZmV0Y2godGhpcy5hZHZhbmNlLmRvY3VtZW50LmdldF9zdGF0ZSwgeyBwYXJhbXM6IHsgaWQ6IHRoaXMuaWQgfSB9KVxuICAgICAgLnRoZW4oKHN0YXRlKSA9PiB7XG4gICAgICAgIC8vINCd0LUg0YPRgdGC0LDQvdC+0LLQu9C10L0gLSBOb3RTZXRcbiAgICAgICAgLy8g0JPQvtGC0L7QstC+INC6INCy0YvQs9GA0YPQt9C60LUgLSBSZWFkeVRvVXBsb2FkXG4gICAgICAgIC8vINCS0YvQs9GA0YPQttCw0LXRgtGB0Y8gLSBVcGxvYWRpbmdcbiAgICAgICAgLy8g0J7RiNC40LHQutCwINCy0YvQs9GA0YPQt9C60LggLSBVcGxvYWRFcnJvclxuICAgICAgICAvLyDQktGL0LPRgNGD0LbQtdC90L4gLSBVcGxvYWRlZFxuICAgICAgICAvLyDQn9C+0LTQv9C40YHRi9Cy0LDQtdGC0YHRjyAtIFNpZ25pbmdcbiAgICAgICAgLy8g0J7RiNC40LHQutCwINC/0L7QtNC/0LjRgdC4IC0gU2lnbkVycm9yXG4gICAgICAgIC8vINCf0L7QtNC/0LjRgdCw0L3QviAtIFNpZ25lZFxuICAgICAgICBsZXQgYWN0aW9uO1xuICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgICAgY2FzZSAnTm90U2V0JzpcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdGF0ZW1lbnQgbm90IHJlYWR5IHRvIHVwbG9hZCcpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnUmVhZHlUb1VwbG9hZCc6XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU3RhdGVtZW50IHJlYWR5IHRvIHVwbG9hZCcpO1xuICAgICAgICAgICAgYWN0aW9uID0gdGhpcy5zYXZlKCkudGhlbigoKSA9PiB0aGlzLndvcmtGbG93KChyb290ID0gdHJ1ZSkpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ1VwbG9hZGluZyc6XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU3RhdGVtZW50IGluIFVwbG9hZGluZycpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnVXBsb2FkRXJyb3InOlxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1N0YXRlbWVudCB1cGxvYWQgVXBsb2FkRXJyb3InKTtcbiAgICAgICAgICAgIGlmICghcm9vdCkge1xuICAgICAgICAgICAgICBhY3Rpb24gPSB0aGlzLnNhdmUoKS50aGVuKCgpID0+IHRoaXMud29ya0Zsb3coKHJvb3QgPSB0cnVlKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnVXBsb2FkZWQnOlxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1N0YXRlbWVudCBVcGxvYWRlZCBkb25lJyk7XG4gICAgICAgICAgICBhY3Rpb24gPSB0aGlzLnNpZ24oKS50aGVuKCgpID0+IHRoaXMud29ya0Zsb3coKHJvb3QgPSBmYWxzZSkpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ1NpZ25pbmcnOlxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1N0YXRlbWVudCBpbiBTaWduaW5nJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdTaWduRXJyb3InOlxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1N0YXRlbWVudCBTaWduaW5nIFNpZ25FcnJvcicpO1xuICAgICAgICAgICAgaWYgKCFyb290KSB7XG4gICAgICAgICAgICAgIGFjdGlvbiA9IHRoaXMuc2F2ZSgpLnRoZW4oKCkgPT4gdGhpcy53b3JrRmxvdygocm9vdCA9IHRydWUpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdTaWduZWQnOlxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1N0YXRlbWVudCBTaWduZWQgZG9uZScpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRvbmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0aW9uO1xuICAgICAgfSk7XG4gIH1cbiAgY2hlY2tTaWduKGlkKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuZmdpcy5mZXRjaCh0aGlzLmZnaXMuZG9jdW1lbnQuZ2V0LCB7IHBhcmFtczogeyBpZDogaWQgfSB9KS50aGVuKChkKSA9PiB7XG4gICAgICAgIGlmIChkLmlkU3RhdHVzICYmIGQuaWRTdGF0dXMgPT0gMTMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5pbml0QWR2YW5jZShkLmlkQXBwbGljYXRpb24sIGQuc3VibWlzc2lvbkRhdGUsIGQuaWRTdGF0dXMsIGQubnVtYmVyKVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgICB0aHJvdyAn0JTQvtC60YPQvNC10L3RgiDRg9C20LUg0L/QvtC00L/QuNGB0LDQvSEgKNC/0L4g0YHRgtCw0YLRg9GB0YMg0KTQk9CY0KEpJztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBzaWduKCkge1xuICAgIHJldHVybiB0aGlzLm1hcmtBZHZhbmNlKCdTaWduaW5nJylcbiAgICAgIC50aGVuKCgpID0+XG4gICAgICAgIHRoaXMuYWR2YW5jZS5mZXRjaCh0aGlzLmFkdmFuY2UuZG9jdW1lbnQuc2hvdywge1xuICAgICAgICAgIHBhcmFtczogeyBpZDogdGhpcy5pZCB9LFxuICAgICAgICB9KSxcbiAgICAgIClcbiAgICAgIC50aGVuKChkKSA9PiB7XG4gICAgICAgIGlmICghZFt0aGlzLmlkRG9jdW1lbnRLZXldKSB7XG4gICAgICAgICAgdGhyb3cgJ9CU0L7QutGD0LzQtdC90YIg0L3QtSDQv9GA0LjQstGP0LfQsNC9INC6INCQ0LTQstCw0L3RgdGDLic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGQuaWRTdGF0dXMgJiYgZC5pZFN0YXR1cyA9PSAxMykge1xuICAgICAgICAgIHRocm93ICfQlNC+0LrRg9C80LXQvdGCINGD0LbQtSDQv9C+0LTQv9C40YHQsNC9ISAo0L/QviDRgdGC0LDRgtGD0YHRgyDQkNC00LLQsNC90YEpJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jaGVja1NpZ24oZFt0aGlzLmlkRG9jdW1lbnRLZXldKS50aGVuKCgpID0+IGRbdGhpcy5pZERvY3VtZW50S2V5XSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKGlkKSA9PiB7XG4gICAgICAgIHRoaXMuZG9jdW1lbnRGZ2lzRGF0YSA9IHtcbiAgICAgICAgICBpZERlY2xhcmF0aW9uOiBpZCxcbiAgICAgICAgICB1cmw6IGAke3RoaXMuZmdpcy5kb2N1bWVudF91cmx9JHtpZH1gLFxuICAgICAgICAgIG9wZW5fdXJsOiBgJHt0aGlzLmZnaXMucHViX2RvY3VtZW50X3VybH0ke2lkfWAsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmZnaXNUeXBlID09ICdyc3MnKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYWR2YW5jZVxuICAgICAgICAgICAgLmZldGNoKHRoaXMuYWR2YW5jZS5kb2N1bWVudC5ibGFua3MsIHsgcGFyYW1zOiB7IGlkOiB0aGlzLmlkIH0gfSlcbiAgICAgICAgICAgIC50aGVuKChibGFua3MpID0+IHtcbiAgICAgICAgICAgICAgLy8gYmxhbmtzLmFjY3JlZFBlcnNvblJlZ051bWJlciA9IFwiUkEuUlUuMTHQndCSMjdcIjtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmdpcy5zaWduRmlsZShbaWRdLCAnZGVjbGFyYXRpb25zJywgYmxhbmtzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLmZnaXMuc2lnbkZpbGUoW2lkXSwgJ2RlY2xhcmF0aW9ucycpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4gdGhpcy5tYXJrQWR2YW5jZSgnU2lnbmVkJykpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHJldHVybiB7IGRvbmU6IHRydWUgfTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnc29tZXRoaW5nIHdyb25nIGluIHN0YXRlbWVudCBzaWduJywgZXJyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFya0FkdmFuY2UoJ1NpZ25FcnJvcicsIGVycikudGhlbigoKSA9PiB7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9XG4gIGluaXRBZHZhbmNlKFxuICAgIGlkRGVjbGFyYXRpb24gPSB0aGlzLmlkRGVjbGFyYXRpb24sXG4gICAgc3VibWlzc2lvbkRhdGUgPSB0aGlzLnN1Ym1pc3Npb25EYXRlLFxuICAgIGlkU3RhdHVzID0gdGhpcy5pZFN0YXR1cyxcbiAgICBudW1iZXIgPSB0aGlzLm51bWJlciB8fCAnJyxcbiAgKSB7XG4gICAgcmV0dXJuIHRoaXMuYWR2YW5jZS5nZXRDdXJyZW50VXNlcklkKCkudGhlbigodXNlcl9pZCkgPT4ge1xuICAgICAgdGhpcy51c2VyX2lkID0gdXNlcl9pZDtcblxuICAgICAgbGV0IGRvY3VtZW50Rmdpc0RhdGEgPSB7XG4gICAgICAgIGlkRGVjbGFyYXRpb246IGlkRGVjbGFyYXRpb24sXG4gICAgICAgIHVybDogYCR7dGhpcy5mZ2lzLmRvY3VtZW50X3VybH0ke2lkRGVjbGFyYXRpb259YCxcbiAgICAgICAgc3VibWlzc2lvbkRhdGU6IHN1Ym1pc3Npb25EYXRlLFxuICAgICAgICBudW1iZXI6IG51bWJlcixcbiAgICAgICAgaWRTdGF0dXM6IGlkU3RhdHVzLFxuICAgICAgICB1c2VyX2lkOiB0aGlzLnVzZXJfaWQsXG4gICAgICB9O1xuICAgICAgaWYgKHRoaXMuZmdpc1R5cGUgPT0gJ3JzcycpIHtcbiAgICAgICAgZG9jdW1lbnRGZ2lzRGF0YS5hbm5leGVzID0gdGhpcy5hbm5leGVJZHM7XG4gICAgICB9XG4gICAgICBpZiAobnVtYmVyKSB7XG4gICAgICAgIGRvY3VtZW50Rmdpc0RhdGEub3Blbl91cmwgPSBgJHt0aGlzLmZnaXMucHViX2RvY3VtZW50X3VybH0ke2lkRGVjbGFyYXRpb259YDtcbiAgICAgIH1cbiAgICAgIHRoaXMuZG9jdW1lbnRGZ2lzRGF0YSA9IGRvY3VtZW50Rmdpc0RhdGE7XG4gICAgICBsZXQgYm9keSA9IE9iamVjdC5rZXlzKGRvY3VtZW50Rmdpc0RhdGEpLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgIHJldHVybiB7IG5hbWU6IGtleSwgdmFsdWU6IGRvY3VtZW50Rmdpc0RhdGFba2V5XSB9O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhpcy5hZHZhbmNlXG4gICAgICAgIC5mZXRjaCh0aGlzLmFkdmFuY2UuZG9jdW1lbnQuaW5pdCwge1xuICAgICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgICAgcGFyYW1zOiB7IGlkOiB0aGlzLmlkIH0sXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGNoZWNrU2lnblN0YXRlbWVudCgpIHtcbiAgICBjb25zb2xlLmxvZygnRG9jdW1lbnQgY2hlY2tTaWduU3RhdGVtZW50Jyk7XG4gICAgcmV0dXJuIHRoaXMuc2hvd0FkdmFuY2UoKVxuICAgICAgLnRoZW4oKGQpID0+IHtcbiAgICAgICAgaWYgKCFkLmlkQXBwbGljYXRpb24pIHtcbiAgICAgICAgICB0aHJvdyAn0JfQsNCy0LvQtdC90LjQtSDQvdC1INC30LDQs9GA0YPQttC10L3QviDQstC+0LLRgdC1ISDQlNCw0LvRjNGI0LUg0L/RgNC+0LTQvtC70LbQsNGC0Ywg0L3QtdC70YzQt9GPLic7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coJ0RvY3VtZW50IGNoZWNrU2lnblN0YXRlbWVudCBtaWRkbGUnLCBkLCB0aGlzLmZnaXMpO1xuICAgICAgICByZXR1cm4gdGhpcy5mZ2lzLmZldGNoKHRoaXMuZmdpcy5zdGF0ZW1lbnQuZ2V0LCB7XG4gICAgICAgICAgcGFyYW1zOiB7IGlkOiBkLmlkQXBwbGljYXRpb24gfSxcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gICAgICAgIGlmIChkYXRhLmlkU3RhdHVzICE9IDEzKSB7XG4gICAgICAgICAgdGhyb3cgJ9CX0LDQstC70LXQvdC40LUg0L3QtSDQv9C+0LTQv9C40YHQsNC90L4uJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9KTtcbiAgfVxuICBnZXREb2N1bWVudEZpbGVzQWR2YW5jZSgpIHtcbiAgICBjb25zb2xlLmxvZygnRG9jdW1lbnQgZ2V0RG9jdW1lbnRGaWxlc0FkdmFuY2UnKTtcbiAgICByZXR1cm4gdGhpcy5hZHZhbmNlLmZldGNoKHRoaXMuYWR2YW5jZS5kb2N1bWVudC5nZXRfZG9jdW1lbnRfZmlsZXMsIHtcbiAgICAgIHBhcmFtczogeyBpZDogdGhpcy5pZCB9LFxuICAgIH0pO1xuICB9XG5cblxuICBnZXRQcm90b2NvbHNBZHZhbmNlKCkge1xuICAgIGNvbnNvbGUubG9nKCdEb2N1bWVudCBnZXRQcm90b2NvbHNBZHZhbmNlJyk7XG4gICAgcmV0dXJuIHRoaXMuYWR2YW5jZS5mZXRjaCh0aGlzLmFkdmFuY2UuZG9jdW1lbnQuZ2V0X3Byb3RvY29scywge1xuICAgICAgcGFyYW1zOiB7IGlkOiB0aGlzLmlkIH0sXG4gICAgfSk7XG4gIH1cbiAgZ2V0RmlsZVByb3RvY29sQWR2YW5jZShmaWxlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5hZHZhbmNlLmZldGNoKHRoaXMuYWR2YW5jZS5kb2N1bWVudC5nZXRfZmlsZV9wcm90b2NvbCwge1xuICAgICAgcGFyYW1zOiB7IGlkOiB0aGlzLmlkLCBmaWxlSWQ6IGZpbGVJZCB9LFxuICAgIH0pO1xuICB9XG4gIGxvYWRGaWxlSXRlbUZnaXMoZmlsZSwgaXNfZG9jdW1lbnQgPSBmYWxzZSkge1xuICAgIGNvbnNvbGUubG9nKCdsb2FkRmlsZUl0ZW1GZ2lzJywgZmlsZSk7XG4gICAgbGV0IGZpbGVfYmxvYjtcbiAgICBpZiAoaXNfZG9jdW1lbnQpIHtcbiAgICAgIGZpbGVfYmxvYiA9IHRoaXMuYWR2YW5jZS5mZXRjaCh0aGlzLmFkdmFuY2UuZG9jdW1lbnQuZ2V0X2ZpbGVfZG9jdW1lbnQsIHtcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgZmlsZUlkOiBmaWxlLmZpbGVfaWQsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmlsZV9ibG9iID0gdGhpcy5hZHZhbmNlLmZldGNoKHRoaXMuYWR2YW5jZS5kb2N1bWVudC5nZXRfZmlsZV9wcm90b2NvbCwge1xuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICBmaWxlSWQ6IGZpbGUuZmlsZV9pZCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZmlsZV9ibG9iXG4gICAgICAudGhlbigoYm9keSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnYm9keScsIGJvZHkpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhib2R5KVxuICAgICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgdmFyIHAgPSBuZXcgRmlsZShbYm9keV0sIGZpbGUuZmlsZV9uYW1lKTtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgcCk7XG4gICAgICAgIC8vIHZhciBwID0gbmV3IEZpbGUoW2JvZHldLCBmaWxlLmZpbGVfbmFtZSlcbiAgICAgICAgLy8gdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKClcbiAgICAgICAgbGV0IG8gPSB0aGlzLmZnaXMuZG9jdW1lbnQubG9hZEZpbGU7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmZpbGVfdGltZV9vdXQpIHtcbiAgICAgICAgICBvLnRpbWVPdXQgPSB0aGlzLnNldHRpbmdzLmZpbGVfdGltZV9vdXQgKiAxMDAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZnaXMuZmV0Y2gobywgeyBib2R5OiBmb3JtRGF0YSB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoZCkgPT4ge1xuICAgICAgICBpZiAoaXNfZG9jdW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5wdXRGaWxlRG9jdW1lbnRBZHZhbmNlKGQuaWQsIGZpbGUuZmlsZV9pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucHV0RmlsZVByb3RvY29sQWR2YW5jZShkLmlkLCBmaWxlLmZpbGVfaWQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuICBwdXRGaWxlRG9jdW1lbnRBZHZhbmNlKGZnaXNfZmlsZV9pZCwgZmlsZUlkKSB7XG4gICAgbGV0IGZvcm1EYXRhID0gW1xuICAgICAge1xuICAgICAgICBuYW1lOiAnZmdpc19maWxlX2lkJyxcbiAgICAgICAgdmFsdWU6IGZnaXNfZmlsZV9pZCxcbiAgICAgIH0sXG4gICAgXTtcbiAgICByZXR1cm4gdGhpcy5hZHZhbmNlLmZldGNoKHRoaXMuYWR2YW5jZS5kb2N1bWVudC5wdXRfZmlsZV9kb2N1bWVudCwge1xuICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICBwYXJhbXM6IHsgaWQ6IHRoaXMuaWQsIGZpbGVJZDogZmlsZUlkIH0sXG4gICAgfSk7XG4gIH1cbiAgcHV0RmlsZVByb3RvY29sQWR2YW5jZShmZ2lzX2ZpbGVfaWQsIGZpbGVJZCkge1xuICAgIGxldCBmb3JtRGF0YSA9IFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ2ZnaXNfZmlsZV9pZCcsXG4gICAgICAgIHZhbHVlOiBmZ2lzX2ZpbGVfaWQsXG4gICAgICB9LFxuICAgIF07XG4gICAgcmV0dXJuIHRoaXMuYWR2YW5jZS5mZXRjaCh0aGlzLmFkdmFuY2UuZG9jdW1lbnQucHV0X2ZpbGVfcHJvdG9jb2wsIHtcbiAgICAgIGJvZHk6IGZvcm1EYXRhLFxuICAgICAgcGFyYW1zOiB7IGlkOiB0aGlzLmlkLCBmaWxlSWQ6IGZpbGVJZCB9LFxuICAgIH0pO1xuICB9XG4gIHByb21pc2VMb2FkRmlsZXMoaXNfZG9jdW1lbnQgPSBmYWxzZSkge1xuICAgIGlmICh0aGlzLmZpbGVMaXN0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICBjb25zb2xlLmxvZygnTG9hZCBmaWxlcyBpcyBlbmQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubG9hZEZpbGVJdGVtRmdpcyh0aGlzLmZpbGVMaXN0WzBdLCBpc19kb2N1bWVudCkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLmZpbGVMaXN0ID0gdGhpcy5maWxlTGlzdC5zcGxpY2UoMSk7XG4gICAgICByZXR1cm4gdGhpcy5wcm9taXNlTG9hZEZpbGVzKGlzX2RvY3VtZW50KTtcbiAgICB9KTtcbiAgfVxuICBwcm9taXNlTG9hZERvY3VtZW50RmlsZXMoKSB7XG4gICAgaWYgKHRoaXMuZmlsZUxpc3QubGVuZ3RoID09IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKCdMb2FkIGZpbGVzIGlzIGVuZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5sb2FkRmlsZUl0ZW1GZ2lzKHRoaXMuZmlsZUxpc3RbMF0pLnRoZW4oKCkgPT4ge1xuICAgICAgdGhpcy5maWxlTGlzdCA9IHRoaXMuZmlsZUxpc3Quc3BsaWNlKDEpO1xuICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZUxvYWRGaWxlcygpO1xuICAgIH0pO1xuICB9XG4gIGxvYWREb2N1bWVudEZpbGVGZ2lzKGZpbGVMaXN0KSB7XG4gICAgY29uc29sZS5sb2coZmlsZUxpc3QpO1xuICAgIGxldCBub19uYW1lID0gZmlsZUxpc3QuZmlsdGVyKChlbCkgPT4ge1xuICAgICAgcmV0dXJuIGVsLmZpbGVfbmFtZSA9PSBudWxsO1xuICAgIH0pO1xuICAgIGlmIChub19uYW1lLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCBuYW1lcyA9IG5vX25hbWUubWFwKChlbCkgPT4ge1xuICAgICAgICByZXR1cm4gZWwudGl0bGU7XG4gICAgICB9KTtcbiAgICAgIHRocm93IGDQmiDQt9Cw0L/QuNGB0LggJHtuYW1lc30g0L3QtSDQv9GA0LjQutGA0LXQv9C70LXQvSDRhNCw0LnQu2A7XG4gICAgfVxuICAgIGxldCBsb2FkZWQgPSBmaWxlTGlzdC5maWx0ZXIoKGVsKSA9PiB7XG4gICAgICByZXR1cm4gZWwuZmdpc19maWxlX2lkICE9IG51bGwgJiYgZWwuZmdpc19maWxlX2lkICE9ICcnO1xuICAgIH0pO1xuICAgIGlmIChsb2FkZWQubGVuZ3RoID09IGZpbGVMaXN0Lmxlbmd0aCkge1xuICAgICAgY29uc29sZS5sb2coJ9CS0YHQtSDRhNCw0LnQu9GLINGD0LbQtSDQt9Cw0LPRgNGD0LbQtdC90Ysg0LLQviDQpNCT0JjQoS4nKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgdGhpcy5maWxlTGlzdCA9IGZpbGVMaXN0O1xuICAgIHJldHVybiB0aGlzLnByb21pc2VMb2FkRmlsZXModHJ1ZSk7XG4gIH1cbiAgbG9hZEZpbGVGZ2lzKGZpbGVMaXN0KSB7XG4gICAgLy8gY29uc29sZS5sb2coZmlsZUxpc3QpXG4gICAgLy8gaWYgKGZpbGVMaXN0Lmxlbmd0aCA9PSAwKSB7IHRocm93IGDQoyDQtNC+0LrRg9C80LXQvdGC0LAg0L3QtdGCINC90Lgg0L7QtNC90L7Qs9C+INC/0YDQvtGC0L7QutC+0LvQsC4g0J3QtSDQvNC+0LbQtdC8INCy0YvQs9GA0YPQt9C40YLRjGAgfTtcbiAgICAvLyBsZXQgbm9fbmFtZSA9IGZpbGVMaXN0LmZpbHRlcihlbCA9PiB7XG4gICAgLy8gICAgIHJldHVybiBlbC5maWxlX25hbWUgPT0gbnVsbFxuICAgIC8vIH0pXG5cbiAgICAvLyBpZiAobm9fbmFtZS5sZW5ndGggPiAwKSB7XG4gICAgLy8gICAgIGxldCBuYW1lcyA9IG5vX25hbWUubWFwKGVsID0+IHtcbiAgICAvLyAgICAgICAgIHJldHVybiBlbC50aXRsZVxuICAgIC8vICAgICB9KVxuICAgIC8vICAgICB0aHJvdyBg0Jog0L/RgNC+0YLQvtC60LDQvCAke25hbWVzfSDQvdC1INC/0YDQuNC60YDQtdC/0LvQtdC9INGE0LDQudC7OiBgXG4gICAgLy8gfVxuXG4gICAgbGV0IGxvYWRlZCA9IGZpbGVMaXN0LmZpbHRlcigoZWwpID0+IHtcbiAgICAgIGlmIChlbC5mZ2lzX2ZpbGVfaWQgIT0gbnVsbCAmJiBlbC5mZ2lzX2ZpbGVfaWQgIT0gJycpIHtcbiAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChsb2FkZWQubGVuZ3RoID09IGZpbGVMaXN0Lmxlbmd0aCkge1xuICAgICAgY29uc29sZS5sb2coJ9CS0YHQtSDQv9GA0L7RgtC+0LrQvtC70Ysg0YPQttC1INC30LDQs9GA0YPQttC10L3RiyDQstC+INCk0JPQmNChLicpO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICB0aGlzLmZpbGVMaXN0ID0gZmlsZUxpc3QuZmlsdGVyKChlbCkgPT4gZWwuZmlsZV9uYW1lKTtcbiAgICByZXR1cm4gdGhpcy5wcm9taXNlTG9hZEZpbGVzKCk7XG4gIH1cblxuICBhZGRfcmV2b2NhdGlvbl9kYXRhKGRhdGEsIHR5cGUpIHtcbiAgICB2YXIgdmFscyA9IHt9O1xuICAgIC8vIDEgPSDQotC10YVcbiAgICAvLyAyID0g0JfQsNGP0LLQuNGC0LXQu9GMXG4gICAgaWYgKHR5cGUgPT0gMSkge1xuICAgICAgdmFscyA9IHtcbiAgICAgICAgaWRTdGF0dXM6IDE0LFxuICAgICAgICBiZWdpbkRhdGU6IG5ldyBEYXRlKCksXG4gICAgICAgIGNvbW1lbnQ6ICfQkiDRgdCy0Y/Qt9C4INGBINGC0LXRhdC90LjRh9C10YHQutC+0Lkg0L7RiNC40LHQutC+0LknLFxuICAgICAgICBpZEJhc2lzOiAxLFxuICAgICAgICBwdWJsaWNhdGVkOiBmYWxzZSxcbiAgICAgICAgZG9jRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgZG9jTmFtZTogdGhpcy5zZXR0aW5ncy5yZXZva2VfdGVoX2RvY3VtZW50LFxuICAgICAgICBkb2NOdW1iZXI6IHRoaXMuc2V0dGluZ3MucmV2b2tlX3RlaF9kb2N1bWVudF9udW1iZXIsXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSAyKSB7XG4gICAgICB2YWxzID0ge1xuICAgICAgICBpZFN0YXR1czogMTQsXG4gICAgICAgIGJlZ2luRGF0ZTogbmV3IERhdGUoKSxcbiAgICAgICAgY29tbWVudDogJ9Cf0L4g0YDQtdGI0LXQvdC40Y4g0LfQsNGP0LLQuNGC0LXQu9GPJyxcbiAgICAgICAgaWRCYXNpczogOCxcbiAgICAgICAgcHVibGljYXRlZDogZmFsc2UsXG4gICAgICAgIGRvY0RhdGU6IG5ldyBEYXRlKCksXG4gICAgICAgIGRvY05hbWU6IHRoaXMuc2V0dGluZ3MucmV2b2tlX2FwcGxpY2FudF9kb2N1bWVudCxcbiAgICAgICAgZG9jTnVtYmVyOiB0aGlzLnNldHRpbmdzLnJldm9rZV9hcHBsaWNhbnRfZG9jdW1lbnRfbnVtYmVyLFxuICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHNlYXJjaF9yZXN1bHQgPSBkYXRhLnN0YXR1c0NoYW5nZXMuZmlsdGVyKFxuICAgICAgKGl0ZW0pID0+IGl0ZW0uaWRTdGF0dXMgPT0gMTQgJiYgaXRlbS5wdWJsaWNhdGVkID09IGZhbHNlLFxuICAgICk7XG4gICAgaWYgKCFzZWFyY2hfcmVzdWx0Lmxlbmd0aCkge1xuICAgICAgZGF0YS5zdGF0dXNDaGFuZ2VzLnB1c2godmFscyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldm9rZSh0eXBlKSB7XG4gICAgcmV0dXJuIHRoaXMubWFya0FkdmFuY2UoJ1VwbG9hZGluZycpXG4gICAgICAudGhlbigoKSA9PiB0aGlzLnNob3dBZHZhbmNlKCkpXG4gICAgICAudGhlbigoZG9jdW1lbnRfZGF0YSkgPT5cbiAgICAgICAgdGhpcy5mZ2lzLmZldGNoKHRoaXMuZmdpcy5kb2N1bWVudC5nZXQsIHtcbiAgICAgICAgICBwYXJhbXM6IHsgaWQ6IGRvY3VtZW50X2RhdGFbdGhpcy5pZERvY3VtZW50S2V5XSB9LFxuICAgICAgICB9KSxcbiAgICAgIClcbiAgICAgIC50aGVuKChmZ2lzX2RhdGEpID0+IHtcbiAgICAgICAgdGhpcy5hZGRfcmV2b2NhdGlvbl9kYXRhKGZnaXNfZGF0YSwgdHlwZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZURvY3VtZW50SW5GZ2lzKGZnaXNfZGF0YSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4gdGhpcy5tYXJrQWR2YW5jZSgnVXBsb2FkZWQnKSlcbiAgICAgIC50aGVuKCgpID0+IHRoaXMuZG9uZSgpKVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coJ3NvbWV0aGluZyB3cm9uZyBpbiBkb2N1bWVudCBzYXZlJywgZXJyKTtcbiAgICAgICAgdGhpcy5tYXJrQWR2YW5jZSgnVXBsb2FkRXJyb3InLCBlcnIpO1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9KTtcbiAgfVxuICBzYXZlKCkge1xuICAgIGNvbnNvbGUubG9nKCdEcy5Eb2N1bWVudC5zYXZlJywgdGhpcy5pZCk7XG4gICAgdmFyIHJlZ051bWJlciA9IG51bGw7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMubWFya0FkdmFuY2UoJ1VwbG9hZGluZycpXG4gICAgICAgIC8vIC50aGVuKCgpID0+ICF0aGlzLmlzU3JkP3RoaXMuY2hlY2tTaWduU3RhdGVtZW50KCk6dHJ1ZSlcbiAgICAgICAgLy8gRk9SIFRFU1RcbiAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5nZXRQcm90b2NvbHNBZHZhbmNlKCkpXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB0aGlzLmxvYWRGaWxlRmdpcyhkYXRhKSlcbiAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5nZXREb2N1bWVudEZpbGVzQWR2YW5jZSgpKVxuICAgICAgICAudGhlbigoZGF0YSkgPT4gdGhpcy5sb2FkRG9jdW1lbnRGaWxlRmdpcyhkYXRhKSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmZnaXNUeXBlID09ICdyc3MnKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gbmV3IEdlbmVyYXRvckZpbGVzQWR2YW5jZSh0aGlzLCAncHJvZHVjdF9kb2MnKS5wcm9jZXNzKCkpXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IG5ldyBHZW5lcmF0b3JGaWxlc0FkdmFuY2UodGhpcywgJ290aGVyX2RvYycpLnByb2Nlc3MoKSlcbiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gbmV3IEdlbmVyYXRvckZpbGVzQWR2YW5jZSh0aGlzLCAnY29uY2x1c2lvbl9kb2MnKS5wcm9jZXNzKCkpXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IG5ldyBHZW5lcmF0b3JGaWxlc0FkdmFuY2UodGhpcywgJ3NhbXBsaW5nX2RvYycpLnByb2Nlc3MoKSlcbiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gbmV3IEdlbmVyYXRvckZpbGVzQWR2YW5jZSh0aGlzLCAncW1zX2RvYycpLnByb2Nlc3MoKSlcbiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gbmV3IEdlbmVyYXRvckZpbGVzQWR2YW5jZSh0aGlzLCAnYWN0X2RvYycpLnByb2Nlc3MoKSlcbiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gbmV3IEdlbmVyYXRvckZpbGVzQWR2YW5jZSh0aGlzLCAnY2VydF9kb2MnKS5wcm9jZXNzKCkpXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IG5ldyBHZW5lcmF0b3JGaWxlc0FkdmFuY2UodGhpcywgJ3RyYW5zcG9ydF9kb2MnKS5wcm9jZXNzKCkpXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IG5ldyBHZW5lcmF0b3JGaWxlc0FkdmFuY2UodGhpcywgJ2NlcnRfdHlwZV9kb2MnKS5wcm9jZXNzKCkpXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IG5ldyBHZW5lcmF0b3JGaWxlc0FkdmFuY2UodGhpcywgJ3Byb2plY3RfZG9jJykucHJvY2VzcygpKVxuICAgICAgICAgICAgICAudGhlbigoKSA9PiBuZXcgR2VuZXJhdG9yRmlsZXNBZHZhbmNlKHRoaXMsICd1bl9ydWxlc19kb2MnKS5wcm9jZXNzKCkpXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IG5ldyBHZW5lcmF0b3JGaWxlc0FkdmFuY2UodGhpcywgJ2NvbmNsX2V4cGVydF9kb2MnKS5wcm9jZXNzKCkpXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IG5ldyBHZW5lcmF0b3JGaWxlc0FkdmFuY2UodGhpcywgJ3Rlc3RfcHJvdG9jb2xfZG9jJykucHJvY2VzcygpKVxuICAgICAgICAgICAgICAudGhlbigoKSA9PiBuZXcgR2VuZXJhdG9yRmlsZXNBZHZhbmNlKHRoaXMsICdjb250cmFjdF9kb2MnKS5wcm9jZXNzKCkpXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IG5ldyBHZW5lcmF0b3JGaWxlc0FkdmFuY2UodGhpcywgJ2RlY2lzaW9uX2RvYycpLnByb2Nlc3MoKSlcbiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gbmV3IEdlbmVyYXRvckZpbGVzQWR2YW5jZSh0aGlzLCAnY2VydF9vdGhlcl9kb2MnKS5wcm9jZXNzKCkpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5zaG93QWR2YW5jZSgpKVxuICAgICAgICAudGhlbigoZGF0YSkgPT4gdGhpcy5zYXZlRG9jdW1lbnRUb0ZnaXMoZGF0YSkpXG4gICAgICAgIC50aGVuKCgpID0+IHRoaXMuaW5pdEFkdmFuY2UoKSlcbiAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5tYXJrQWR2YW5jZSgnVXBsb2FkZWQnKSlcbiAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5kb25lKCkpXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ3NvbWV0aGluZyB3cm9uZyBpbiBkb2N1bWVudCBzYXZlJywgZXJyKTtcbiAgICAgICAgICB0aGlzLm1hcmtBZHZhbmNlKCdVcGxvYWRFcnJvcicsIGVycik7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9KVxuICAgICk7XG4gIH1cbiAgc2hvd0FkdmFuY2UoKSB7XG4gICAgY29uc29sZS5sb2coJ3Nob3dBZHZhbmNlIERvY3VtZW50IFN0YXJ0JywgdGhpcy5pZCk7XG4gICAgcmV0dXJuIHRoaXMuYWR2YW5jZS5mZXRjaCh0aGlzLmFkdmFuY2UuZG9jdW1lbnQuc2hvdywge1xuICAgICAgcGFyYW1zOiB7IGlkOiB0aGlzLmlkIH0sXG4gICAgfSk7XG4gIH1cbiAgZ2V0RXhwZXJ0cyhpZCkge1xuICAgIHJldHVybiB0aGlzLmFkdmFuY2UuZmV0Y2godGhpcy5hZHZhbmNlLmRhdGEuZXhwZXJ0cykudGhlbigoZCkgPT4ge1xuICAgICAgbGV0IHJlcyA9IGQuZmluZCgoZWwpID0+IGVsLmlkID09IGlkKTtcbiAgICAgIGlmICghcmVzKSB7XG4gICAgICAgIHRocm93ICfQrdC60YHQv9C10YDRgiDQvdC1INC90LDQudC00LXQvSDQsiDRgdC/0YDQsNCy0L7Rh9C90LjQuic7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0pO1xuICB9XG4gIHNhdmVEb2N1bWVudEFzUmVnVG9GZ2lzKHJvb3REYXRhKSB7XG4gICAgY29uc29sZS5sb2cocm9vdERhdGEpO1xuICAgIGNvbnNvbGUubG9nKCdzYXZlRG9jdW1lbnRBc1JlZ1RvRmdpcycpO1xuICAgIHJvb3REYXRhLmFzc2lnblJlZ051bWJlciA9IHRydWU7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgbGV0IGFjdGlvbjtcbiAgICAgIGlmIChyb290RGF0YVt0aGlzLmlkRG9jdW1lbnRLZXldKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVcGRhdGUgcmVjb3JkIGluIGZnaXMnKTtcbiAgICAgICAgYWN0aW9uID0gdGhpcy5mZ2lzXG4gICAgICAgICAgLmZldGNoKHRoaXMuZmdpcy5kb2N1bWVudC5wb3N0LCB7XG4gICAgICAgICAgICBib2R5OiByb290RGF0YSxcbiAgICAgICAgICAgIHBhcmFtczogeyBpZDogcm9vdERhdGFbdGhpcy5pZERvY3VtZW50S2V5XSB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmdpc1xuICAgICAgICAgICAgICAuZmV0Y2godGhpcy5mZ2lzLmRvY3VtZW50LmdldCwge1xuICAgICAgICAgICAgICAgIHBhcmFtczogeyBpZDogcm9vdERhdGFbdGhpcy5pZERvY3VtZW50S2V5XSB9LFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAudGhlbigoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaWREZWNsYXJhdGlvbiA9IGRbdGhpcy5pZERvY3VtZW50S2V5XTtcbiAgICAgICAgICAgICAgICB0aGlzLnN1Ym1pc3Npb25EYXRlID0gZC5zdWJtaXNzaW9uRGF0ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlkU3RhdHVzID0gZC5pZFN0YXR1cztcbiAgICAgICAgICAgICAgICB0aGlzLm51bWJlciA9IGQubnVtYmVyO1xuICAgICAgICAgICAgICAgIHRoaXMuZmluZFJzc0FubmV4ZUlkcyhkKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWN0aW9uO1xuICAgIH0pO1xuICB9XG4gIGZpbmRSc3NBbm5leGVJZHMoZCkge1xuICAgIGNvbnNvbGUubG9nKCdmaW5kUnNzQW5uZXhlSWRzJyk7XG4gIH1cbiAgdXBkYXRlRG9jdW1lbnRJbkZnaXMoZGF0YSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgIGxldCBhY3Rpb24gPSB0aGlzLmZnaXMuZmV0Y2godGhpcy5mZ2lzLmRvY3VtZW50LnBvc3QsIHtcbiAgICAgICAgYm9keTogZGF0YSxcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgaWQ6IGRhdGFbdGhpcy5pZERvY3VtZW50S2V5XSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICB9KTtcbiAgfVxuICBtaWRkbGVVcGRhdGVyRmdpcyhkYXRhKSB7XG4gICAgLy8g0JzQtdGC0L7QtCDQv9GA0LjQstC10LTQtdC90LjRjyDQvtCx0YrQtdC60YLQsCDQv9C+0LvRg9GH0LXQvdC90L7Qs9C+INC40Lcg0LDQtNCy0LDQvdGB0LAsINC6INC90YPQttC90L7QvNGDINCy0LjQtNGDXG4gICAgY29uc29sZS5sb2coJ3N0YXJ0IG1pZGRsZVVwZGF0ZXJGZ2lzIDo+PiAnLCBkYXRhKTtcbiAgICBsZXQgbG9jYWxEYXRhID0gT2JqZWN0LmFzc2lnbih7fSwgZGF0YSk7XG5cbiAgICBsb2NhbERhdGEudGVzdGluZ0xhYnMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgdmFyIHJlcyA9IFtdO1xuICAgICAgZWxlbWVudC5jdXN0b21JbmZvLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICAgIGVsLmN1c3RvbURlY2xOdW1iZXIgPSBlbC5jdXN0b21EZWNsTnVtYmVyLnJlcGxhY2UoJy4nLCAnLCcpO1xuICAgICAgICBlbC5jdXN0b21EZWNsTnVtYmVyID0gZWwuY3VzdG9tRGVjbE51bWJlci5yZXBsYWNlKCc7JywgJywnKTtcbiAgICAgICAgdmFyIG8gPSBlbC5jdXN0b21EZWNsTnVtYmVyLnJlcGxhY2UoJyAnLCAnJykuc3BsaXQoJywnKTtcbiAgICAgICAgby5mb3JFYWNoKChvcCkgPT4ge1xuICAgICAgICAgIHJlcy5wdXNoKHtcbiAgICAgICAgICAgIGFtb3VudDogZWwuYW1vdW50LFxuICAgICAgICAgICAgY29udHJhY3ROdW1iZXI6IGVsLmNvbnRyYWN0TnVtYmVyLFxuICAgICAgICAgICAgY29udHJhY3REYXRlOiBlbC5jb250cmFjdERhdGUsXG4gICAgICAgICAgICBjdXN0b21EZWNsTnVtYmVyOiBvcCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVsZW1lbnQuY3VzdG9tSW5mbyA9IHJlcztcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuZmdpcy5wdWJfZG9jdW1lbnRfdHlwZSA9PSAncmRzJykge1xuICAgICAgbG9jYWxEYXRhLnRlc3RpbmdMYWJzLmZvckVhY2goKGxhYikgPT4ge1xuICAgICAgICBsYWIucHJvdG9jb2xzLmZvckVhY2goKHByb3QpID0+IHtcbiAgICAgICAgICB2YXIgZXhpc3QgPSBsb2NhbERhdGEuc2NhbkNvcHkuZmluZCgoZWwpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBlbC5uYW1lID09IHByb3QubnVtYmVyO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICghZXhpc3QpIHtcbiAgICAgICAgICAgIGxvY2FsRGF0YS5zY2FuQ29weS5wdXNoKHtcbiAgICAgICAgICAgICAgbmFtZTogcHJvdC5udW1iZXIsXG4gICAgICAgICAgICAgIGlkRmlsZTogcHJvdC5pZEZpbGUsXG4gICAgICAgICAgICAgIGlkVHlwZTogNCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsb2NhbERhdGEubWFudWZhY3R1cmVyLmFkZHJlc3Nlcy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBlbGVtZW50LmZvcmVpZ25EaXN0cmljdCA9IG51bGw7XG4gICAgfSk7XG5cbiAgICBsb2NhbERhdGEubWFudWZhY3R1cmVyRmlsaWFscy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBlbGVtZW50LmFkZHJlc3Nlcy5mb3JFYWNoKChhZGRyKSA9PiB7XG4gICAgICAgIGFkZHIuZm9yZWlnbkRpc3RyaWN0ID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIGZ1bmN0aW9uIHVwZGF0ZUZpcnN0MlNlY29uZChiYXNlLCBzZWNvbmQpIHtcbiAgICAvLyAgIHJldHVybiBPYmplY3QuYXNzaWduKFxuICAgIC8vICAgICBiYXNlLFxuICAgIC8vICAgICB7IFwiYXBwbGljYW50XCI6IHNlY29uZC5hcHBsaWNhbnR9LFxuICAgIC8vICAgICB7IFwiZG9jdW1lbnRzXCI6IHNlY29uZC5kb2N1bWVudHN9LFxuICAgIC8vICAgICB7IFwiY2VydGlmaWNhdGlvbkF1dGhvcml0eVwiOiBzZWNvbmQuY2VydGlmaWNhdGlvbkF1dGhvcml0eX0sXG4gICAgLy8gICAgIHsgXCJlbXBsb3llZVwiOiBzZWNvbmQuZW1wbG95ZWV9LFxuICAgIC8vICAgICB7IFwiZXhwZXJ0c1wiOiBzZWNvbmQuZXhwZXJ0c30sXG4gICAgLy8gICAgIHsgXCJpZFRlY2huaWNhbFJlZ2xhbWVudHNcIjogc2Vjb25kLmlkVGVjaG5pY2FsUmVnbGFtZW50c30sXG4gICAgLy8gICAgIHsgXCJtYW51ZmFjdHVyZXJcIjogc2Vjb25kLm1hbnVmYWN0dXJlcn0sXG4gICAgLy8gICAgIHsgXCJtYW51ZmFjdHVyZXJGaWxpYWxzXCI6IHNlY29uZC5tYW51ZmFjdHVyZXJGaWxpYWxzfSxcbiAgICAvLyAgICAgeyBcInByb2R1Y3RcIjogc2Vjb25kLnByb2R1Y3R9LFxuICAgIC8vICAgICB7IFwicHJvZHVjdEdyb3Vwc1wiOiBzZWNvbmQucHJvZHVjdEdyb3Vwc30sXG4gICAgLy8gICAgIHsgXCJzY2FuQ29weVwiOiBzZWNvbmQuc2NhbkNvcHl9LFxuICAgIC8vICAgICB7IFwidGVzdGluZ0xhYnNcIjogc2Vjb25kLnRlc3RpbmdMYWJzfSxcbiAgICAvLyAgIClcbiAgICAvLyB9XG4gICAgLy8gcmV0dXJuIHRoaXMudGVzdEV0YWxvbigpO1xuICAgIC8vIHJldHVybiB1cGRhdGVGaXJzdDJTZWNvbmQodGhpcy50ZXN0RXRhbG9uKCksIGxvY2FsRGF0YSk7XG4gICAgLy8gdmFyIHJlcyA9IHVwZGF0ZUZpcnN0MlNlY29uZChsb2NhbERhdGEsIHRoaXMudGVzdEV0YWxvbigpKVxuICAgIC8vIHJlcy5jZXJ0UmVnRGF0ZSA9IFwiMjAyMi0wNC0xMFQxNDo0ODowOC4yMzlaXCI7XG4gICAgLy8gcmVzLmZpcnN0TmFtZSA9IG51bGw7XG4gICAgLy8gcmVzLmZ1bmN0aW9ucyA9IG51bGw7XG4gICAgLy8gcmVzLmlkRW1wbG95ZWUgPSBudWxsO1xuICAgIC8vIHJlcy5wYXRyb255bWljID0gbnVsbDtcbiAgICAvLyByZXMuc25pbHMgPSBudWxsO1xuICAgIC8vIHJlcy5zdXJuYW1lID0gbnVsbDtcbiAgICAvLyByZXMubWFudWZJc0FwcGxpY2FudCA9IGZhbHNlO1xuICAgIC8vIHJlcy5pZENlcnRTY2hlbWUgPSAzO1xuICAgIC8vIHJldHVybiByZXNcbiAgICByZXR1cm4gbG9jYWxEYXRhO1xuICB9XG4gIC8vXG4gIHVwZGF0ZVNlbGZEb2N1bWVudFZhbHVlcyhmZ2lzUmVzdWx0KSB7XG4gICAgdGhpcy5pZERlY2xhcmF0aW9uID0gZmdpc1Jlc3VsdFt0aGlzLmlkRG9jdW1lbnRLZXldIHx8IHRoaXMuaWREZWNsYXJhdGlvbjtcbiAgICB0aGlzLnN1Ym1pc3Npb25EYXRlID0gZmdpc1Jlc3VsdC5zdWJtaXNzaW9uRGF0ZSB8fCB0aGlzLnN1Ym1pc3Npb25EYXRlO1xuICAgIHRoaXMuaWRTdGF0dXMgPSBmZ2lzUmVzdWx0LmlkU3RhdHVzIHx8IHRoaXMuaWRTdGF0dXM7XG4gICAgdGhpcy5udW1iZXIgPSBmZ2lzUmVzdWx0Lm51bWJlciB8fCB0aGlzLm51bWJlcjtcblxuICAgIGlmICh0aGlzLmZnaXNUeXBlID09ICdyc3MnKSB7XG4gICAgICBsZXQgcmVzID0gJyc7XG4gICAgICBmZ2lzUmVzdWx0LmFubmV4ZXMuZm9yRWFjaCgoYW5uZXgpID0+IHtcbiAgICAgICAgcmVzICs9IGAke2FubmV4LmlkVHlwZX0tJHthbm5leC5pZEFubmV4fTtgO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmFubmV4ZUlkcyA9IHJlcztcbiAgICAgIGNvbnNvbGUubG9nKCdmaW5kUnNzQW5uZXhlSWRzLCcsIHJlcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZnaXNSZXN1bHQ7XG4gIH1cbiAgc2F2ZURvY3VtZW50VG9GZ2lzKHJvb3REYXRhKSB7XG4gICAgdmFyIHJvb3REYXRhID0gdGhpcy5taWRkbGVVcGRhdGVyRmdpcyhyb290RGF0YSk7XG4gICAgY29uc29sZS5sb2coJ0RvY3VtZW50IHNhdmVEb2N1bWVudFRvRmdpcycsIHJvb3REYXRhKTtcblxuICAgIHRoaXMuYWdlbmN5TW9kZSA9IHJvb3REYXRhLmFnZW5jeU1vZGU7XG4gICAgZGVsZXRlIHJvb3REYXRhLmFnZW5jeU1vZGU7XG4gICAgaWYgKHRoaXMuYWdlbmN5TW9kZSAmJiB0aGlzLmFzc2lnblJlZ051bWJlcikge1xuICAgICAgcm9vdERhdGEuYXNzaWduUmVnTnVtYmVyID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgYWN0aW9uID0gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKHJvb3REYXRhW3RoaXMuaWREb2N1bWVudEtleV0pIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnVXBkYXRlIHJlY29yZCBpbiBmZ2lzJyk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZmdpc1xuICAgICAgICAgICAgLmZldGNoKHRoaXMuZmdpcy5kb2N1bWVudC5wb3N0LCB7XG4gICAgICAgICAgICAgIGJvZHk6IHJvb3REYXRhLFxuICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6IHJvb3REYXRhW3RoaXMuaWREb2N1bWVudEtleV0gfSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiByb290RGF0YVt0aGlzLmlkRG9jdW1lbnRLZXldKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5mZ2lzXG4gICAgICAgICAgICAuZmV0Y2godGhpcy5mZ2lzLmRvY3VtZW50LmluaXQsIHsgYm9keTogcm9vdERhdGEgfSlcbiAgICAgICAgICAgIC50aGVuKChyZXNwKSA9PiByZXNwLmlkKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC50aGVuKChpZERvY3VtZW50KSA9PiB7XG4gICAgICAgIHRoaXMuaWREZWNsYXJhdGlvbiA9IGlkRG9jdW1lbnQ7XG4gICAgICAgIGlmICghdGhpcy5hZ2VuY3lNb2RlICYmICFyb290RGF0YVt0aGlzLmlkRG9jdW1lbnRLZXldKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaW5pdEFkdmFuY2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaWREb2N1bWVudDtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5hZ2VuY3lNb2RlKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZmdpc1xuICAgICAgICAgICAgLmZldGNoKHRoaXMuZmdpcy5kb2N1bWVudC5nZXQsIHsgcGFyYW1zOiB7IGlkOiB0aGlzLmlkRGVjbGFyYXRpb24gfSB9KVxuICAgICAgICAgICAgLnRoZW4oKGZnaXNSZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgcm9vdERhdGEuaWREZWNsYXJhdGlvbiA9IGZnaXNSZXN1bHRbdGhpcy5pZERvY3VtZW50S2V5XTtcbiAgICAgICAgICAgICAgcm9vdERhdGEuaWRDZXJ0aWZpY2F0ZSA9IGZnaXNSZXN1bHRbdGhpcy5pZERvY3VtZW50S2V5XTtcbiAgICAgICAgICAgICAgcm9vdERhdGEuc3VibWlzc2lvbkRhdGUgPSBmZ2lzUmVzdWx0LnN1Ym1pc3Npb25EYXRlO1xuICAgICAgICAgICAgICByb290RGF0YS5pZFN0YXR1cyA9IGZnaXNSZXN1bHQuaWRTdGF0dXM7XG4gICAgICAgICAgICAgIHJvb3REYXRhLm51bWJlciA9IGZnaXNSZXN1bHQubnVtYmVyO1xuICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNlbGZEb2N1bWVudFZhbHVlcyhmZ2lzUmVzdWx0KTtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuYXNzaWduUmVnTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2F2ZURvY3VtZW50QXNSZWdUb0ZnaXMocm9vdERhdGEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAvLyAudGhlbigoKSA9PiB7XG4gICAgLy8gICBjb25zb2xlLmxvZygndGhpcy5hc3NpZ25SZWdOdW1iZXInLCB0aGlzLmFzc2lnblJlZ051bWJlcik7XG4gICAgLy8gICBpZiAodGhpcy5hc3NpZ25SZWdOdW1iZXIpIHtcbiAgICAvLyAgICAgaWYgKCFpc05vdEZpcnN0U2F2ZSkge1xuICAgIC8vICAgICAgIGNvbnNvbGUubG9nKCdJTklUIGlzTm90Rmlyc3RTYXZlJyk7XG4gICAgLy8gICAgICAgcmV0dXJuIHRoaXMuaW5pdEFkdmFuY2UoKTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfVxuICAgIC8vIH0pXG4gICAgLy8gLnRoZW4oKCkgPT4ge1xuICAgIC8vICAgY29uc29sZS5sb2coJ3RoaXMuYXNzaWduUmVnTnVtYmVyIDInLCB0aGlzLmFzc2lnblJlZ051bWJlcik7XG4gICAgLy8gICBpZiAodGhpcy5hc3NpZ25SZWdOdW1iZXIpIHtcbiAgICAvLyAgICAgY29uc29sZS5sb2coJ1RyeSBnZXJpc3RyYXRlIGRvY3VtZW50LiBiZWZvciBsZXRzIGluaXQgdGhpcycsIHJvb3REYXRhKTtcbiAgICAvLyAgICAgcm9vdERhdGEuYXNzaWduUmVnTnVtYmVyID0gdHJ1ZTtcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuc2F2ZURvY3VtZW50QXNSZWdUb0ZnaXMocm9vdERhdGEpO1xuICAgIC8vICAgfVxuICAgIC8vIH0pO1xuXG4gICAgcmV0dXJuIGFjdGlvbjtcbiAgfVxuICB0ZXN0RXRhbG9uKCkge1xuICAgIHZhciBib2R5ID0ge1xuICAgICAgXCJhbm5leGVzXCI6IFtdLFxuICAgICAgXCJhcHBsaWNhbnRcIjoge1xuICAgICAgICBcImFkZGxSZWdJbmZvXCI6IFwiXCIsXG4gICAgICAgIFwiYWRkcmVzc2VzXCI6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcImZsYXRcIjogbnVsbCxcbiAgICAgICAgICAgIFwiZm9yZWlnbkNpdHlcIjogbnVsbCxcbiAgICAgICAgICAgIFwiZm9yZWlnbkRpc3RyaWN0XCI6IG51bGwsXG4gICAgICAgICAgICBcImZvcmVpZ25Ib3VzZVwiOiBudWxsLFxuICAgICAgICAgICAgXCJmb3JlaWduTG9jYWxpdHlcIjogbnVsbCxcbiAgICAgICAgICAgIFwiZm9yZWlnblN0cmVldFwiOiBudWxsLFxuICAgICAgICAgICAgXCJmdWxsQWRkcmVzc1wiOiBcIjEyNzA1NSwg0KDQntCh0KHQmNCvLCDQk9Ce0KDQntCUINCc0J7QodCa0JLQkCwg0KPQm9CY0KbQkCDQndCe0JLQntCh0JvQntCR0J7QlNCh0JrQkNCvLCDQlNCe0JwgMzYvMSwg0KHQotCgIDEsINCf0J7QnCBJINCa0J7QnNCdIDIxXCIsXG4gICAgICAgICAgICBcImdsblwiOiBudWxsLFxuICAgICAgICAgICAgXCJnbG9uYXNzXCI6IG51bGwsXG4gICAgICAgICAgICBcImlkQWRkcmVzc1wiOiBudWxsLFxuICAgICAgICAgICAgXCJpZEFkZHJUeXBlXCI6IDEsXG4gICAgICAgICAgICBcImlkQ2l0eVwiOiBudWxsLFxuICAgICAgICAgICAgXCJpZENvZGVPa3NtXCI6IFwiNjQzXCIsXG4gICAgICAgICAgICBcImlkRGlzdHJpY3RcIjogbnVsbCxcbiAgICAgICAgICAgIFwiaWRIb3VzZVwiOiBudWxsLFxuICAgICAgICAgICAgXCJpZExvY2FsaXR5XCI6IG51bGwsXG4gICAgICAgICAgICBcImlkU3RyZWV0XCI6IG51bGwsXG4gICAgICAgICAgICBcImlkU3ViamVjdFwiOiBudWxsLFxuICAgICAgICAgICAgXCJva3NtU2hvcnRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwib3RoZXJHbG5cIjogbnVsbCxcbiAgICAgICAgICAgIFwicG9zdENvZGVcIjogbnVsbCxcbiAgICAgICAgICAgIFwidW5pcXVlQWRkcmVzc1wiOiBudWxsXG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBcImNvbnRhY3RzXCI6IFtdLFxuICAgICAgICBcImZpcnN0TmFtZVwiOiBcItCQ0J3QkNCh0KLQkNCh0JjQr1wiLFxuICAgICAgICBcImZ1bGxOYW1lXCI6IFwi0J7QkdCp0JXQodCi0JLQniDQoSDQntCT0KDQkNCd0JjQp9CV0J3QndCe0Jkg0J7QotCS0JXQotCh0KLQktCV0J3QndCe0KHQotCs0K4gXFxcItCQ0KDQotCt0JrQoVxcXCJcIixcbiAgICAgICAgXCJoZWFkUG9zaXRpb25cIjogXCLQk9CV0J3QldCg0JDQm9Cs0J3Qq9CZINCU0JjQoNCV0JrQotCe0KBcIixcbiAgICAgICAgXCJpZEFwcGxpY2FudFR5cGVcIjogMSxcbiAgICAgICAgXCJpZEVncnVsXCI6IG51bGwsXG4gICAgICAgIFwiaWRMZWdhbEZvcm1cIjogOSxcbiAgICAgICAgXCJpZExlZ2FsU3ViamVjdFwiOiBudWxsLFxuICAgICAgICBcImlkTGVnYWxTdWJqZWN0VHlwZVwiOiAxLFxuICAgICAgICBcImlkUGVyc29uXCI6IG51bGwsXG4gICAgICAgIFwiaW5uXCI6IFwiNzcwNzM4ODI3OFwiLFxuICAgICAgICBcImlzRWVjUmVnaXN0ZXJcIjogdHJ1ZSxcbiAgICAgICAgXCJrcHBcIjogXCI3NzA3MDEwMDFcIixcbiAgICAgICAgXCJtYW51ZklzQXBwbGljYW50XCI6IGZhbHNlLFxuICAgICAgICBcIm9ncm5cIjogXCIxMTc3NzQ2Njg5NzU3XCIsXG4gICAgICAgIFwib2dybkFzc2lnbkRhdGVcIjogXCIyMDE3LTA3LTEyVDAwOjAwOjAwLjAwMFpcIixcbiAgICAgICAgXCJwYXNzcG9ydElzc3VlRGF0ZVwiOiBudWxsLFxuICAgICAgICBcInBhc3Nwb3J0SXNzdWVkQnlcIjogbnVsbCxcbiAgICAgICAgXCJwYXNzcG9ydE51bVwiOiBudWxsLFxuICAgICAgICBcInBhdHJvbnltaWNcIjogXCLQkNCd0JTQoNCV0JXQktCd0JBcIixcbiAgICAgICAgXCJyZWdEYXRlXCI6IFwiMjAxNy0wNy0xMlQwMDowMDowMC4wMDBaXCIsXG4gICAgICAgIFwicmVnT3JnYW5OYW1lXCI6IFwi0JzQtdC20YDQsNC50L7QvdC90LDRjyDQuNC90YHQv9C10LrRhtC40Y8g0KTQtdC00LXRgNCw0LvRjNC90L7QuSDQvdCw0LvQvtCz0L7QstC+0Lkg0YHQu9GD0LbQsdGLIOKEliA0NiDQv9C+INCzLiDQnNC+0YHQutCy0LVcIixcbiAgICAgICAgXCJzaG9ydE5hbWVcIjogXCLQntCe0J4gXFxcItCQ0KDQotCt0JrQoVxcXCJcIixcbiAgICAgICAgXCJzbmlsc1wiOiBcIlwiLFxuICAgICAgICBcInN1cm5hbWVcIjogXCLQktCQ0KHQmNCb0KzQmtCe0JLQkFwiLFxuICAgICAgICBcInRyYW5zbmF0aW9uYWxcIjogbnVsbFxuICAgICAgfSxcbiAgICAgIFwiYXBwbGljYW50RmlsaWFsc1wiOiBbXSxcbiAgICAgIFwiYXBwbGljYXRpb25EYXRlXCI6IFwiMjAyMi0wNC0wOFQwMDowMDowMC4wMDBaXCIsXG4gICAgICBcImFwcGxpY2F0aW9uTnVtYmVyXCI6IFwiMjYxMDE4LzEvQy4uXCIsXG4gICAgICBcImFwcGxpY2F0aW9uU2VuZERhdGVcIjogXCIyMDIyLTA0LTAzVDAwOjAwOjAwLjAwMFpcIixcbiAgICAgIFwiYXBwbGljYXRpb25TdGF0dXNcIjogbnVsbCxcbiAgICAgIFwiYXNzaWduUmVnTnVtYmVyXCI6IGZhbHNlLFxuICAgICAgXCJhd2FpdEZvckFwcHJvdmVcIjogdHJ1ZSxcbiAgICAgIFwiYXdhaXRPcGVyYXRvckNoZWNrXCI6IG51bGwsXG4gICAgICBcImJhdGNoSW5zcGVjdGlvblwiOiBudWxsLFxuICAgICAgXCJibGFua051bWJlclwiOiBudWxsLFxuICAgICAgXCJjZXJ0RW5kRGF0ZVwiOiBudWxsLFxuICAgICAgXCJjZXJ0aWZpY2F0aW9uQXV0aG9yaXR5XCI6IHtcbiAgICAgICAgXCJhY2NyZWRPcmdOYW1lXCI6IFwi0JzQtdC20YDQsNC50L7QvdC90LDRjyDQuNC90YHQv9C10LrRhtC40Y8g0KTQtdC00LXRgNCw0LvRjNC90L7QuSDQvdCw0LvQvtCz0L7QstC+0Lkg0YHQu9GD0LbQsdGLIOKEliAxMiDQv9C+INCi0LLQtdGA0YHQutC+0Lkg0L7QsdC70LDRgdGC0LhcIixcbiAgICAgICAgXCJhZGRyZXNzZXNcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwiZmxhdFwiOiBudWxsLFxuICAgICAgICAgICAgXCJmdWxsQWRkcmVzc1wiOiBcIjE3MDEwMCwg0KDQntCh0KHQmNCvLCDQntCR0JsuINCi0JLQldCg0KHQmtCQ0K8sINCTLiDQotCy0LXRgNGMLCDQo9CbLiDQktCe0JvQrNCd0J7Qk9CeINCd0J7QktCT0J7QoNCe0JTQkCwg0JQuIDIxLCDQn9Ce0JzQldCpLiA4LTlcIixcbiAgICAgICAgICAgIFwiZ2xuXCI6IG51bGwsXG4gICAgICAgICAgICBcImlkQWRkcmVzc1wiOiBudWxsLFxuICAgICAgICAgICAgXCJpZEFkZHJUeXBlXCI6IDEsXG4gICAgICAgICAgICBcImlkQ2l0eVwiOiBudWxsLFxuICAgICAgICAgICAgXCJpZENvZGVPa3NtXCI6IG51bGwsXG4gICAgICAgICAgICBcImlkRGlzdHJpY3RcIjogbnVsbCxcbiAgICAgICAgICAgIFwiaWRIb3VzZVwiOiBudWxsLFxuICAgICAgICAgICAgXCJpZExvY2FsaXR5XCI6IG51bGwsXG4gICAgICAgICAgICBcImlkU3RyZWV0XCI6IG51bGwsXG4gICAgICAgICAgICBcImlkU3ViamVjdFwiOiBudWxsLFxuICAgICAgICAgICAgXCJva3NtU2hvcnRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwicG9zdENvZGVcIjogbnVsbFxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJmbGF0XCI6IG51bGwsXG4gICAgICAgICAgICBcImZ1bGxBZGRyZXNzXCI6IFwiMTcwMTAwLCDQoNCe0KHQodCY0K8sINCi0LLQtdGA0YHQutCw0Y8g0L7QsdC7LCDQsyDQotCy0LXRgNGMLCDRg9C7INCS0L7Qu9GM0L3QvtCz0L4g0J3QvtCy0LPQvtGA0L7QtNCwLCDQtNC+0LwgMjEsINCf0L7QvNC10YnQtdC90LjQtSA4LTlcIixcbiAgICAgICAgICAgIFwiZ2xuXCI6IG51bGwsXG4gICAgICAgICAgICBcImlkQWRkcmVzc1wiOiBudWxsLFxuICAgICAgICAgICAgXCJpZEFkZHJUeXBlXCI6IDMsXG4gICAgICAgICAgICBcImlkQ2l0eVwiOiBcImM1MmVhOTQyLTU1NWUtNDVjNi05NzUxLTU4ODk3NzE3YjAyZlwiLFxuICAgICAgICAgICAgXCJpZENvZGVPa3NtXCI6IFwiNjQzXCIsXG4gICAgICAgICAgICBcImlkRGlzdHJpY3RcIjogbnVsbCxcbiAgICAgICAgICAgIFwiaWRIb3VzZVwiOiBcImQyZDdiNzJmLWFhYWMtNDUyOS1hNzhiLWY2NTA3MjNhZGQ0OFwiLFxuICAgICAgICAgICAgXCJpZExvY2FsaXR5XCI6IG51bGwsXG4gICAgICAgICAgICBcImlkU3RyZWV0XCI6IFwiYmFlOGY1NjItZTU4ZC00ZTJkLWFhNzYtMjM2ZDZmN2YxMmEwXCIsXG4gICAgICAgICAgICBcImlkU3ViamVjdFwiOiBcIjYxNzIzMzI3LTFjMjAtNDJmZS04ZGZhLTQwMjYzOGQ5YjM5NlwiLFxuICAgICAgICAgICAgXCJva3NtU2hvcnRcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwicG9zdENvZGVcIjogXCIxNzAxMDBcIlxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJhdHRlc3RhdEVuZERhdGVcIjogbnVsbCxcbiAgICAgICAgXCJhdHRlc3RhdFJlZ0RhdGVcIjogXCIyMDE2LTEwLTI2VDAwOjAwOjAwLjAwMFpcIixcbiAgICAgICAgXCJhdHRlc3RhdFJlZ051bWJlclwiOiBcIlJBLlJVLjEx0JDQljA2XCIsXG4gICAgICAgIFwiY29udGFjdHNcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwiaWRDb250YWN0XCI6IG51bGwsXG4gICAgICAgICAgICBcImlkQ29udGFjdFR5cGVcIjogMSxcbiAgICAgICAgICAgIFwidmFsdWVcIjogXCIrNzQ4MjI0MTU1MjJcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJpZENvbnRhY3RcIjogbnVsbCxcbiAgICAgICAgICAgIFwiaWRDb250YWN0VHlwZVwiOiA0LFxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcImFsbEBncmVlbmxpbmUtb3MucnVcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJpZENvbnRhY3RcIjogbnVsbCxcbiAgICAgICAgICAgIFwiaWRDb250YWN0VHlwZVwiOiA1LFxuICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcImh0dHA6Ly9ncmVlbmxpbmUtb3MucnUvXCJcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIFwiZmlyc3ROYW1lXCI6IFwi0JDQvdC00YDQtdC5XCIsXG4gICAgICAgIFwiZnVsbE5hbWVcIjogXCLQntGA0LPQsNC9INC/0L4g0YHQtdGA0YLQuNGE0LjQutCw0YbQuNC4INCe0LHRidC10YHRgtCy0LAg0YEg0L7Qs9GA0LDQvdC40YfQtdC90L3QvtC5INC+0YLQstC10YLRgdGC0LLQtdC90L3QvtGB0YLRjNGOIFxcXCLQk9GA0LjQvdCb0LDQudC9XFxcIlwiLFxuICAgICAgICBcImhlYWRDb250YWN0c1wiOiBbXSxcbiAgICAgICAgXCJoZWFkUG9zaXRpb25cIjogXCLQoNGD0LrQvtCy0L7QtNC40YLQtdC70Ywg0J7QoVwiLFxuICAgICAgICBcImlkQ2VydGlmaWNhdGlvbkF1dGhvcml0eVwiOiBudWxsLFxuICAgICAgICBcImlkUGVzcm9uXCI6IDYxMjg0MixcbiAgICAgICAgXCJpZFJhbFwiOiA0MDEsXG4gICAgICAgIFwib2dyblwiOiBcIjExNTY5NTIwMjQ3NDVcIixcbiAgICAgICAgXCJwYXRyb255bWljXCI6IFwi0JDQu9C10LrRgdC10LXQstC40YdcIixcbiAgICAgICAgXCJwcmV2QXR0ZXN0YXRSZWdOdW1iZXJcIjogbnVsbCxcbiAgICAgICAgXCJwcmV2SWRSYWxcIjogbnVsbCxcbiAgICAgICAgXCJzdXJuYW1lXCI6IFwi0KHQvtGA0L7QutC40L1cIlxuICAgICAgfSxcbiAgICAgIFwiY2VydElzc3VlRGVjaXNpb25EYXRlXCI6IG51bGwsXG4gICAgICBcImNlcnRSZWdEYXRlXCI6IFwiMjAyMi0wNC0xMFQxNDo0ODowOC4yMzlaXCIsXG4gICAgICBcImNoYW5nZXNcIjogbnVsbCxcbiAgICAgIFwiZGVhZGxpbmVWaW9sYXRpb25cIjogZmFsc2UsXG4gICAgICBcImRvY3VtZW50c1wiOiB7XG4gICAgICAgIFwiYXBwbGljYW50T3RoZXJEb2N1bWVudHNcIjogW10sXG4gICAgICAgIFwiYXBwbGljYXRpb25DZXJ0aWZpY2F0aW9uRGVjaXNpb25cIjoge1xuICAgICAgICAgIFwiZGF0ZVwiOiBudWxsLFxuICAgICAgICAgIFwiaWRcIjogbnVsbCxcbiAgICAgICAgICBcIm51bWJlclwiOiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIFwiY29tbW9uRG9jdW1lbnRzXCI6IHtcbiAgICAgICAgICBcIjhcIjogW11cbiAgICAgICAgfSxcbiAgICAgICAgXCJjb25mb3JtaXR5QXNzZXNzbWVudERvY3VtZW50c1wiOiBbXSxcbiAgICAgICAgXCJleHBlcnRDb25jbHVzaW9uXCI6IHtcbiAgICAgICAgICBcImFjY3JlZGl0ZWRQZXJzb25OYW1lXCI6IG51bGwsXG4gICAgICAgICAgXCJhbm5leFwiOiBudWxsLFxuICAgICAgICAgIFwiYXR0ZXN0YXRlQmVnaW5EYXRlXCI6IG51bGwsXG4gICAgICAgICAgXCJhdHRlc3RhdGVFbmREYXRlXCI6IG51bGwsXG4gICAgICAgICAgXCJhdHRlc3RhdGVSZWdOdW1iZXJcIjogbnVsbCxcbiAgICAgICAgICBcImRhdGVcIjogbnVsbCxcbiAgICAgICAgICBcImlkRmlsZVwiOiBudWxsLFxuICAgICAgICAgIFwibmFtZVwiOiBudWxsLFxuICAgICAgICAgIFwibnVtYmVyXCI6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgXCJmb3JlaWduTWFudWZhY3R1cmVyQ29udHJhY3RcIjoge1xuICAgICAgICAgIFwiYXBwbGljYW50UmVzcG9uc2liaWxpdHlcIjogbnVsbCxcbiAgICAgICAgICBcImRhdGVcIjogbnVsbCxcbiAgICAgICAgICBcImVuZERhdGVcIjogbnVsbCxcbiAgICAgICAgICBcImlkXCI6IG51bGwsXG4gICAgICAgICAgXCJtYW51ZmFjdHVyZXJSZXNwb25zaWJpbGl0eVwiOiBudWxsLFxuICAgICAgICAgIFwibnVtYmVyXCI6IG51bGwsXG4gICAgICAgICAgXCJzdWJqZWN0XCI6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgXCJtYW51ZmFjdHVyaW5nQ29uZGl0aW9uQW5hbHlzaXNBY3RcIjoge1xuICAgICAgICAgIFwiYWRkcmVzc2VzXCI6IFtdLFxuICAgICAgICAgIFwiYW5hbHlzaXNCZWdpbkRhdGVcIjogbnVsbCxcbiAgICAgICAgICBcImFuYWx5c2lzRW5kRGF0ZVwiOiBudWxsLFxuICAgICAgICAgIFwiYW5hbHlzaXNUYWtlbkRhdGVcIjogbnVsbCxcbiAgICAgICAgICBcImFubmV4XCI6IG51bGwsXG4gICAgICAgICAgXCJjZXJ0RXhwZXJ0c1wiOiBbXSxcbiAgICAgICAgICBcImRhdGVcIjogbnVsbCxcbiAgICAgICAgICBcImlkXCI6IG51bGwsXG4gICAgICAgICAgXCJpZEZpbGVcIjogbnVsbCxcbiAgICAgICAgICBcIm51bWJlclwiOiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIFwicHJvZHVjdENlcnRpZmljYXRpb25Db250cmFjdFwiOiB7XG4gICAgICAgICAgXCJkYXRlXCI6IG51bGwsXG4gICAgICAgICAgXCJpZFwiOiBudWxsLFxuICAgICAgICAgIFwiaWRGaWxlXCI6IG51bGwsXG4gICAgICAgICAgXCJudW1iZXJcIjogbnVsbFxuICAgICAgICB9LFxuICAgICAgICBcInByb2R1Y3REZXNpZ25SZXNlYXJjaENvbmNsdXNpb25cIjoge1xuICAgICAgICAgIFwiYW5uZXhcIjogbnVsbCxcbiAgICAgICAgICBcImF0dGVzdGF0RW5kRGF0ZVwiOiBudWxsLFxuICAgICAgICAgIFwiaWRcIjogbnVsbCxcbiAgICAgICAgICBcImlzc3VlRGF0ZVwiOiBudWxsLFxuICAgICAgICAgIFwibnVtYmVyXCI6IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgXCJwcm9kdWN0VHlwZUNlcnRpZmljYXRlc1wiOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJhbm5leFwiOiBudWxsLFxuICAgICAgICAgICAgXCJhdHRlc3RhdEVuZERhdGVcIjogbnVsbCxcbiAgICAgICAgICAgIFwiaWRcIjogbnVsbCxcbiAgICAgICAgICAgIFwiaWRQdENlcnRpZmljYXRlXCI6IG51bGwsXG4gICAgICAgICAgICBcImlkVGVjaG5pY2FsUmVnbGFtZW50XCI6IDgsXG4gICAgICAgICAgICBcImlzc3VlRGF0ZVwiOiBudWxsLFxuICAgICAgICAgICAgXCJudW1iZXJcIjogbnVsbCxcbiAgICAgICAgICAgIFwic2FtcGxlUHJvZHVjdFwiOiB7XG4gICAgICAgICAgICAgIFwiYXJ0aWNsZVwiOiBudWxsLFxuICAgICAgICAgICAgICBcImZ1bGxOYW1lXCI6IG51bGwsXG4gICAgICAgICAgICAgIFwibWFya1wiOiBudWxsLFxuICAgICAgICAgICAgICBcIm1vZGVsXCI6IG51bGwsXG4gICAgICAgICAgICAgIFwic29ydFwiOiBudWxsLFxuICAgICAgICAgICAgICBcInR5cGVcIjogbnVsbFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJwcm9kdWN0VHlwZVJlc2VhcmNoQ29uY2x1c2lvblwiOiB7XG4gICAgICAgICAgXCJhbm5leFwiOiBudWxsLFxuICAgICAgICAgIFwiYXR0ZXN0YXRFbmREYXRlXCI6IG51bGwsXG4gICAgICAgICAgXCJpZFwiOiBudWxsLFxuICAgICAgICAgIFwiaXNzdWVEYXRlXCI6IG51bGwsXG4gICAgICAgICAgXCJudW1iZXJcIjogbnVsbCxcbiAgICAgICAgICBcInNhbXBsZVByb2R1Y3RcIjoge1xuICAgICAgICAgICAgXCJhcnRpY2xlXCI6IG51bGwsXG4gICAgICAgICAgICBcImZ1bGxOYW1lXCI6IG51bGwsXG4gICAgICAgICAgICBcIm1hcmtcIjogbnVsbCxcbiAgICAgICAgICAgIFwibW9kZWxcIjogbnVsbCxcbiAgICAgICAgICAgIFwic29ydFwiOiBudWxsLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IG51bGxcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicHJvdG9jb2xUZXN0aW5nVGVjaG5pY2FsU2VydmljZVwiOiB7XG4gICAgICAgICAgXCJhbm5leFwiOiBudWxsLFxuICAgICAgICAgIFwiZGF0ZVwiOiBudWxsLFxuICAgICAgICAgIFwiaWRGaWxlXCI6IG51bGwsXG4gICAgICAgICAgXCJuYW1lXCI6IG51bGwsXG4gICAgICAgICAgXCJudW1iZXJcIjogbnVsbCxcbiAgICAgICAgICBcInRlY2hTZXJ2aWNlTmFtZVwiOiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIFwicW1zQ2VydGlmaWNhdGVzXCI6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBcImFjY3JlZEVlY1wiOiB0cnVlLFxuICAgICAgICAgICAgXCJhY2NyZWRpdGVkUGVyc29uTmFtZVwiOiBudWxsLFxuICAgICAgICAgICAgXCJhbm5leFwiOiBudWxsLFxuICAgICAgICAgICAgXCJhdHRlc3RhdEVuZERhdGVcIjogbnVsbCxcbiAgICAgICAgICAgIFwiYXR0ZXN0YXRSZWdEYXRlXCI6IG51bGwsXG4gICAgICAgICAgICBcImF0dGVzdGF0UmVnTnVtYmVyXCI6IG51bGwsXG4gICAgICAgICAgICBcImVuZERhdGVcIjogbnVsbCxcbiAgICAgICAgICAgIFwiaWRcIjogbnVsbCxcbiAgICAgICAgICAgIFwiaWRBY2NyZWRQbGFjZVwiOiBcIjY0M1wiLFxuICAgICAgICAgICAgXCJpZFRlY2huaWNhbFJlZ2xhbWVudFwiOiA4LFxuICAgICAgICAgICAgXCJpZFR5cGVcIjogbnVsbCxcbiAgICAgICAgICAgIFwiaWRUeXBlQWN0aXZpdHlcIjogbnVsbCxcbiAgICAgICAgICAgIFwiaXNzdWVEYXRlXCI6IG51bGwsXG4gICAgICAgICAgICBcIm51bWJlclwiOiBudWxsLFxuICAgICAgICAgICAgXCJxbXNDZXJ0aWZpY2F0aW9uRG9jdW1lbnRzXCI6IFtdLFxuICAgICAgICAgICAgXCJyZWdOdW1iZXJTZWxlY3RcIjogbnVsbFxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJyYXdNYXRlcmlhbENlcnRpZmljYXRlc1wiOiBbXSxcbiAgICAgICAgXCJyZXBvcnRzT25UeXBlQXBwcm92YWxVbmRlclVOUmVndWxhdGlvblwiOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJhbm5leFwiOiBudWxsLFxuICAgICAgICAgICAgXCJjb3VudHJ5XCI6IFwiNjQzXCIsXG4gICAgICAgICAgICBcImRhdGVcIjogbnVsbCxcbiAgICAgICAgICAgIFwiaWRGaWxlXCI6IG51bGwsXG4gICAgICAgICAgICBcImlkVGVjaG5pY2FsUmVnbGFtZW50XCI6IDgsXG4gICAgICAgICAgICBcIm5hbWVcIjogbnVsbCxcbiAgICAgICAgICAgIFwibnVtYmVyXCI6IG51bGwsXG4gICAgICAgICAgICBcIm9yZ05hbWVcIjogbnVsbFxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJzYW1wbGluZ0FjdFwiOiB7XG4gICAgICAgICAgXCJkYXRlXCI6IG51bGwsXG4gICAgICAgICAgXCJpZFwiOiBudWxsLFxuICAgICAgICAgIFwiaWRGaWxlXCI6IG51bGwsXG4gICAgICAgICAgXCJudW1iZXJcIjogbnVsbFxuICAgICAgICB9LFxuICAgICAgICBcInZlaGljbGVDaGFzc2lzVHlwZUFwcHJvdmFsc1wiOiBbXVxuICAgICAgfSxcbiAgICAgIFwiZHJhZnRDcmVhdGlvbkRhdGVcIjogbnVsbCxcbiAgICAgIFwiZWRpdEFwcFwiOiBmYWxzZSxcbiAgICAgIFwiZW1wbG95ZWVcIjogbnVsbCxcbiAgICAgIFwiZXhwZXJ0c1wiOiBbXSxcbiAgICAgIFwiZXhwaXJlZEluc3BlY3Rpb25Db250cm9sXCI6IGZhbHNlLFxuICAgICAgXCJmaXJzdE5hbWVcIjogbnVsbCxcbiAgICAgIFwiZnVuY3Rpb25zXCI6IG51bGwsXG4gICAgICBcImlkQXBwbGljYXRpb25cIjogMzA3MzEyOCxcbiAgICAgIFwiaWRBcHBsaWNhdGlvblN0YXR1c1wiOiBudWxsLFxuICAgICAgXCJpZEJsYW5rXCI6IG51bGwsXG4gICAgICBcImlkQ2VydGlmaWNhdGVcIjogbnVsbCxcbiAgICAgIFwiaWRDZXJ0U2NoZW1lXCI6IDMsXG4gICAgICBcImlkQ2VydFR5cGVcIjogMSxcbiAgICAgIFwiaWRFbXBsb3llZVwiOiBudWxsLFxuICAgICAgXCJpZE9iamVjdENlcnRUeXBlXCI6IDIsXG4gICAgICBcImlkUHJvZHVjdFNpbmdsZUxpc3RzXCI6IFtdLFxuICAgICAgXCJpZFNpZ25lclwiOiBudWxsLFxuICAgICAgXCJpZFN0YXR1c1wiOiAyMCxcbiAgICAgIFwiaWRUZWNobmljYWxSZWdsYW1lbnRzXCI6IFtcbiAgICAgICAgOFxuICAgICAgXSxcbiAgICAgIFwiaW5zcGVjdGlvbkNvbnRyb2xQbGFuRGF0ZVwiOiBudWxsLFxuICAgICAgXCJpbnNwZWN0aW9uQ29udHJvbHNcIjogW10sXG4gICAgICBcIm1hbnVmYWN0dXJlclwiOiB7XG4gICAgICAgIFwiYWRkbFJlZ0luZm9cIjogXCJcIixcbiAgICAgICAgXCJhZGRyZXNzZXNcIjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwiZmxhdFwiOiBudWxsLFxuICAgICAgICAgICAgXCJmb3JlaWduQ2l0eVwiOiBudWxsLFxuICAgICAgICAgICAgXCJmb3JlaWduRGlzdHJpY3RcIjogXCJLdXBmZXJzY2htaWRzdHJhc3NlIDg0IEQgNzk3NjEgV2FsZHNodXQtVGllbmdlblwiLFxuICAgICAgICAgICAgXCJmb3JlaWduSG91c2VcIjogbnVsbCxcbiAgICAgICAgICAgIFwiZm9yZWlnbkxvY2FsaXR5XCI6IG51bGwsXG4gICAgICAgICAgICBcImZvcmVpZ25TdHJlZXRcIjogbnVsbCxcbiAgICAgICAgICAgIFwiZnVsbEFkZHJlc3NcIjogXCLQk9CV0KDQnNCQ0J3QmNCvLCBLdXBmZXJzY2htaWRzdHJhc3NlIDg0IEQgNzk3NjEgV2FsZHNodXQtVGllbmdlblwiLFxuICAgICAgICAgICAgXCJnbG5cIjogbnVsbCxcbiAgICAgICAgICAgIFwiZ2xvbmFzc1wiOiBudWxsLFxuICAgICAgICAgICAgXCJpZEFkZHJlc3NcIjogbnVsbCxcbiAgICAgICAgICAgIFwiaWRBZGRyVHlwZVwiOiAxLFxuICAgICAgICAgICAgXCJpZENpdHlcIjogbnVsbCxcbiAgICAgICAgICAgIFwiaWRDb2RlT2tzbVwiOiBcIjI3NlwiLFxuICAgICAgICAgICAgXCJpZERpc3RyaWN0XCI6IG51bGwsXG4gICAgICAgICAgICBcImlkSG91c2VcIjogbnVsbCxcbiAgICAgICAgICAgIFwiaWRMb2NhbGl0eVwiOiBudWxsLFxuICAgICAgICAgICAgXCJpZFN0cmVldFwiOiBudWxsLFxuICAgICAgICAgICAgXCJpZFN1YmplY3RcIjogbnVsbCxcbiAgICAgICAgICAgIFwib2tzbVNob3J0XCI6IHRydWUsXG4gICAgICAgICAgICBcIm90aGVyR2xuXCI6IG51bGwsXG4gICAgICAgICAgICBcInBvc3RDb2RlXCI6IG51bGwsXG4gICAgICAgICAgICBcInVuaXF1ZUFkZHJlc3NcIjogbnVsbFxuICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgXCJjb250YWN0c1wiOiBbXSxcbiAgICAgICAgXCJmaXJzdE5hbWVcIjogXCJcIixcbiAgICAgICAgXCJmdWxsTmFtZVwiOiBcIsKrUmFnbWFuIFRleHRpbGhhbmRlbCBHbWJIwrtcIixcbiAgICAgICAgXCJoZWFkUG9zaXRpb25cIjogXCJcIixcbiAgICAgICAgXCJpZEFwcGxpY2FudFR5cGVcIjogbnVsbCxcbiAgICAgICAgXCJpZEVncnVsXCI6IG51bGwsXG4gICAgICAgIFwiaWRMZWdhbEZvcm1cIjogbnVsbCxcbiAgICAgICAgXCJpZExlZ2FsU3ViamVjdFwiOiBudWxsLFxuICAgICAgICBcImlkTGVnYWxTdWJqZWN0VHlwZVwiOiAzLFxuICAgICAgICBcImlkUGVyc29uXCI6IG51bGwsXG4gICAgICAgIFwiaW5uXCI6IFwiXCIsXG4gICAgICAgIFwiaXNFZWNSZWdpc3RlclwiOiB0cnVlLFxuICAgICAgICBcImtwcFwiOiBcIlwiLFxuICAgICAgICBcIm9ncm5cIjogXCJcIixcbiAgICAgICAgXCJvZ3JuQXNzaWduRGF0ZVwiOiBudWxsLFxuICAgICAgICBcInBhc3Nwb3J0SXNzdWVEYXRlXCI6IG51bGwsXG4gICAgICAgIFwicGFzc3BvcnRJc3N1ZWRCeVwiOiBudWxsLFxuICAgICAgICBcInBhc3Nwb3J0TnVtXCI6IG51bGwsXG4gICAgICAgIFwicGF0cm9ueW1pY1wiOiBcIlwiLFxuICAgICAgICBcInJlZ0RhdGVcIjogbnVsbCxcbiAgICAgICAgXCJyZWdPcmdhbk5hbWVcIjogXCJcIixcbiAgICAgICAgXCJzaG9ydE5hbWVcIjogXCJcIixcbiAgICAgICAgXCJzbmlsc1wiOiBcIlwiLFxuICAgICAgICBcInN1cm5hbWVcIjogXCJcIixcbiAgICAgICAgXCJ0cmFuc25hdGlvbmFsXCI6IFtdXG4gICAgICB9LFxuICAgICAgXCJtYW51ZmFjdHVyZXJGaWxpYWxzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwiYWRkcmVzc2VzXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJmbGF0XCI6IG51bGwsXG4gICAgICAgICAgICAgIFwiZm9yZWlnbkNpdHlcIjogbnVsbCxcbiAgICAgICAgICAgICAgXCJmb3JlaWduRGlzdHJpY3RcIjogXCJLdXBmZXJzY2htaWRzdHJhc3NlIDg0IEQgNzk3NjEgV2FsZHNodXQtVGllbmdlblwiLFxuICAgICAgICAgICAgICBcImZvcmVpZ25Ib3VzZVwiOiBudWxsLFxuICAgICAgICAgICAgICBcImZvcmVpZ25Mb2NhbGl0eVwiOiBudWxsLFxuICAgICAgICAgICAgICBcImZvcmVpZ25TdHJlZXRcIjogbnVsbCxcbiAgICAgICAgICAgICAgXCJmdWxsQWRkcmVzc1wiOiBcItCT0JXQoNCc0JDQndCY0K8sIEt1cGZlcnNjaG1pZHN0cmFzc2UgODQgRCA3OTc2MSBXYWxkc2h1dC1UaWVuZ2VuXCIsXG4gICAgICAgICAgICAgIFwiZ2xuXCI6IG51bGwsXG4gICAgICAgICAgICAgIFwiZ2xvbmFzc1wiOiBudWxsLFxuICAgICAgICAgICAgICBcImlkQWRkcmVzc1wiOiBudWxsLFxuICAgICAgICAgICAgICBcImlkQWRkclR5cGVcIjogMyxcbiAgICAgICAgICAgICAgXCJpZENpdHlcIjogbnVsbCxcbiAgICAgICAgICAgICAgXCJpZENvZGVPa3NtXCI6IFwiMjc2XCIsXG4gICAgICAgICAgICAgIFwiaWREaXN0cmljdFwiOiBudWxsLFxuICAgICAgICAgICAgICBcImlkSG91c2VcIjogbnVsbCxcbiAgICAgICAgICAgICAgXCJpZExvY2FsaXR5XCI6IG51bGwsXG4gICAgICAgICAgICAgIFwiaWRTdHJlZXRcIjogbnVsbCxcbiAgICAgICAgICAgICAgXCJpZFN1YmplY3RcIjogbnVsbCxcbiAgICAgICAgICAgICAgXCJva3NtU2hvcnRcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgXCJvdGhlckdsblwiOiBudWxsLFxuICAgICAgICAgICAgICBcInBvc3RDb2RlXCI6IG51bGwsXG4gICAgICAgICAgICAgIFwidW5pcXVlQWRkcmVzc1wiOiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBcImFubmV4XCI6IGZhbHNlLFxuICAgICAgICAgIFwiY29udGFjdHNcIjogW10sXG4gICAgICAgICAgXCJmdWxsTmFtZVwiOiBudWxsLFxuICAgICAgICAgIFwiaWRGaWxpYWxcIjogbnVsbCxcbiAgICAgICAgICBcImlkTGVnYWxGb3JtXCI6IG51bGwsXG4gICAgICAgICAgXCJrcHBcIjogbnVsbCxcbiAgICAgICAgICBcInNob3J0TmFtZVwiOiBudWxsXG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcIm1hbnVmSXNBcHBsaWNhbnRcIjogZmFsc2UsXG4gICAgICBcIm5vU2FuY3Rpb25cIjogdHJ1ZSxcbiAgICAgIFwibnVtYmVyXCI6IG51bGwsXG4gICAgICBcInBhdHJvbnltaWNcIjogbnVsbCxcbiAgICAgIFwicHJvZHVjdFwiOiBudWxsLFxuICAgICAgXCJwcm9kdWN0R3JvdXBzXCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwiaWRHcm91cFwiOiAxODI2LFxuICAgICAgICAgIFwiaWRQcm9kdWN0R3JvdXBcIjogbnVsbCxcbiAgICAgICAgICBcImlkVGVjaFJlZ1wiOiA4XG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBcInB1Ymxpc2hEYXRlXCI6IG51bGwsXG4gICAgICBcInNjYW5Db3B5XCI6IFtcbiAgICAgICAge1xuICAgICAgICAgIFwiaWRGaWxlXCI6IFwiNDI2NTFkNjctYWM3My00NTU1LTgzMzgtMDAyY2I5NzliNmVjXCIsXG4gICAgICAgICAgXCJpZFR5cGVcIjogMSxcbiAgICAgICAgICBcIm5hbWVcIjogXCLQl9Cw0LLQu9C10L3QuNC1XCJcbiAgICAgICAgfVxuICAgICAgXSxcbiAgICAgIFwic25pbHNcIjogbnVsbCxcbiAgICAgIFwic3RhdHVzQ2hhbmdlc1wiOiBbXSxcbiAgICAgIFwic3VybmFtZVwiOiBudWxsLFxuICAgICAgXCJ0ZW1wTnVtYmVyXCI6IG51bGwsXG4gICAgICBcInRlc3RpbmdMYWJzXCI6IFtdXG4gICAgfVxuICAgIHJldHVybiBib2R5O1xuXG4gIH1cbn1cblxuY29uc29sZS5sb2coJ0RvY3VtZW50IGRzIGNsYXNzIGluaXQhJyk7XG5cbmV4cG9ydCB7XG4gIERvY3VtZW50XG59XG4iLCJpbXBvcnQge0FkdmFuY2V9IGZyb20gJy4vZHNfYWR2YW5jZSdcbmltcG9ydCB7Rmdpc30gZnJvbSAnLi9kc19mZ2lzJ1xuaW1wb3J0IHtTdGF0ZW1lbnR9IGZyb20gJy4vZHNfc3RhdGVtZW50J1xuaW1wb3J0IHtEb2N1bWVudH0gZnJvbSAnLi9kb2N1bWVudCdcblxuY2xhc3MgRHMge1xuICBjb25zdHJ1Y3Rvcih7IGlkLCB0b2tlbiwgbG9jYXRpb25PcmlnaW4sIG1vZGUsIHNldHRpbmdzLCBhZHZhbmNlVHlwZSwgaXNTcmR9KSB7XG5cbiAgIHRyeSB7XG4gICAgICB0aGlzLm5hbWUgPSBcItCc0LXQvdC10LTQttC10YAg0LTQtdC60LvQsNGA0LDRhtC40LlcIjtcbiAgICB0aGlzLmFkdmFuY2VUeXBlID0gYWR2YW5jZVR5cGU7XG4gICAgdGhpcy5pc1NyZCA9IGlzU3JkO1xuXG4gICAgdGhpcy5mZ2lzVHlwZSA9IHRoaXMuX2dldF9mZ2lzX3R5cGUodGhpcy5hZHZhbmNlVHlwZSwgdGhpcy5pc1NyZCk7XG4gICBcbiAgICBjb25zb2xlLmxvZygndGhpcy5hZHZhbmNlVHlwZSA6Pj4gJywgdGhpcy5hZHZhbmNlVHlwZSk7XG4gICAgY29uc29sZS5sb2coJ3RoaXMuaXNTcmQgOj4+ICcsIHRoaXMuaXNTcmQpO1xuICAgIGNvbnNvbGUubG9nKCd0aGlzLmZnaXNUeXBlIDo+PiAnLCB0aGlzLmZnaXNUeXBlKTtcblxuICAgIHRoaXMuYWR2YW5jZSA9IG5ldyBBZHZhbmNlKHNldHRpbmdzLCBsb2NhdGlvbk9yaWdpbiwgYWR2YW5jZVR5cGUpO1xuICAgIGNvbnNvbGUubG9nKCd0aGlzLmFkdmFuY2UgOj4+ICcsIHRoaXMuYWR2YW5jZSk7XG4gICAgXG4gICAgdGhpcy5mZ2lzID0gbmV3IEZnaXMoe1xuICAgICAgIHRva2VuOiB0b2tlbixcbiAgICAgICBhZHZhbmNlOiB0aGlzLmFkdmFuY2UsXG4gICAgICAgbW9kZTogbW9kZSxcbiAgICAgICBzZXR0aW5nczogc2V0dGluZ3MsXG4gICAgICAgZmdpc1R5cGU6IHRoaXMuZmdpc1R5cGUsXG4gICAgICB9KTtcblxuICAgY29uc29sZS5sb2coJ3RoaXMuZmdpcyA6Pj4gJywgdGhpcy5mZ2lzKTtcbiAgIHRoaXMuc3RhdGVtZW50ID0gbmV3IFN0YXRlbWVudChpZCwgdGhpcy5hZHZhbmNlLCB0aGlzLmZnaXMsIHNldHRpbmdzKTtcbiAgIGNvbnNvbGUubG9nKCd0aGlzLnN0YXRlbWVudCA6Pj4gJywgdGhpcy5zdGF0ZW1lbnQpO1xuXG4gICB0aGlzLmRvY3VtZW50ID0gbmV3IERvY3VtZW50KFxuICAgICAgaWQsXG4gICAgICB0aGlzLmFkdmFuY2UsXG4gICAgICB0aGlzLmZnaXMsXG4gICAgICBzZXR0aW5ncyxcbiAgICAgIHRoaXMuYWR2YW5jZVR5cGUsXG4gICAgICB0aGlzLmlzU3JkLFxuICAgICAgdGhpcy5mZ2lzVHlwZSxcbiAgICAgICk7XG5cbiAgIGNvbnNvbGUubG9nKCd0aGlzLmRvY3VtZW50IDo+PiAnLCB0aGlzLmRvY3VtZW50KTtcbiAgIGNvbnNvbGUubG9nKCdEcyA6Pj4gJywgdGhpcyk7XG4gICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coJ2Vycm9yIDo+PiAnLCBlcnJvcik7XG4gICB9XG5cbiAgICBcbiAgIFxuICB9XG4gIF9nZXRfZmdpc190eXBlKHR5cGUsIGlzU3JkKSB7XG4gICAgIGlmIChpc1NyZCl7XG4gICAgICAgICByZXR1cm4gXCJzcmRcIlxuICAgICB9ZWxzZSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJEVFJFQVwiOlxuICAgICAgICAgIGNhc2UgXCJER1NUUlwiOlxuICAgICAgICAgIGNhc2UgXCJEUFJUUlwiOlxuICAgICAgICAgICAgcmV0dXJuIFwicmRzXCI7XG4gICAgICAgICAgY2FzZSBcIlNUUkVBXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJyc3NcIjtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcItCe0YjQuNCx0LrQsCDQvtC/0YDQtdC00LXQu9C10L3QuNGPIGZnaXNUeXBlLCBcIiwgdHlwZSlcbiAgICAgICAgICAgIHRocm93IFwi0J7RiNC40LHQutCwINC+0L/RgNC10LTQtdC70LXQvdC40Y8gZmdpc1R5cGU6IFwiICsgdHlwZTtcbiAgICAgICAgfVxuICAgICB9XG4gIH1cbiAgZG9BY3Rpb24oYWN0aW9uTmFtZSA9IFwiXCIpIHtcbiAgICBjb25zb2xlLmxvZyhgJHt0aGlzLm5hbWV9IC0gJHthY3Rpb25OYW1lfWApO1xuICAgIGxldCBhY3Rpb247XG4gICAgc3dpdGNoIChhY3Rpb25OYW1lKSB7XG4gICAgICBjYXNlIFwidXBkYXRlU3RhdGVtZW50XCI6XG4gICAgICAgIGFjdGlvbiA9IHRoaXMuc3RhdGVtZW50LnVwZGF0ZVN0YXRlbWVudCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyZXZva2VEc1wiOlxuICAgICAgICBhY3Rpb24gPSB0aGlzLmRvY3VtZW50LnJldm9rZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzaWduU3RhdGVtZW50XCI6XG4gICAgICAgIGFjdGlvbiA9IHRoaXMuc3RhdGVtZW50LnNpZ24oKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic2lnbkRlY2xhcmF0aW9uXCI6XG4gICAgICAgIGFjdGlvbiA9IHRoaXMuZG9jdW1lbnQuc2lnbigpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzYXZlQ29tbW9uRHNcIjpcbiAgICAgICAgYWN0aW9uID0gdGhpcy5zdGF0ZW1lbnQuc2F2ZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzYXZlRGVjbGFyYXRpb25Ec1wiOlxuICAgICAgICBhY3Rpb24gPSB0aGlzLmRvY3VtZW50LnNhdmUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmV2b2tlVGVoXCI6XG4gICAgICAgIC8vIDEgPSDQotC10YVcbiAgICAgICAgYWN0aW9uID0gdGhpcy5kb2N1bWVudC5yZXZva2UoMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJldm9rZUFwcGxpY2FudFwiOlxuICAgICAgICAvLyAyID0g0JfQsNGP0LLQuNGC0LXQu9GMXG4gICAgICAgIGFjdGlvbiA9IHRoaXMuZG9jdW1lbnQucmV2b2tlKDIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzdGF0ZW1lbnRHZXRMaXN0XCI6XG4gICAgICAgIGFjdGlvbiA9IHRoaXMuc3RhdGVtZW50LmdldExpc3QoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic3RhcnRSZXBsaWNhdGlvblwiOlxuICAgICAgICBhY3Rpb24gPSB0aGlzLnN0YXRlbWVudFxuICAgICAgICAgIC53b3JrRmxvdygpXG4gICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5kb2N1bWVudC53b3JrRmxvdygpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhY3Rpb24gPSBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7dGhpcy5uYW1lfTog0JTQu9GPINGE0YPQvdC60YbQuNC4ICR7YWN0aW9uTmFtZX0g0L3QtdGCINC+0L/QuNGB0LDQvdC40Y8uYClcbiAgICAgICAgICB0aHJvdyBgJHt0aGlzLm5hbWV9OiDQlNC70Y8g0YTRg9C90LrRhtC40LggJHthY3Rpb25OYW1lfSDQvdC10YIg0L7Qv9C40YHQsNC90LjRjy5gO1xuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBhY3Rpb247XG4gIH1cbn1cblxuZXhwb3J0IHtcbiAgRHNcbn1cbiIsImltcG9ydCB7VG9rZW59ICBmcm9tIFwiLi90b2tlblwiXG5pbXBvcnQge0RzfSAgZnJvbSBcIi4vZHMvZHNfbWFpblwiXG4vLyBpbXBvcnQge1BhcnNlcn0gZnJvbSBcIi4vcGFyc2VyXCJcblxuXG4vLyB2YXIgYnJvd3NlciA9IHJlcXVpcmUoXCJ3ZWJleHRlbnNpb24tcG9seWZpbGxcIik7XG5cbmNvbnNvbGUubG9nKCd5YSB0dXQnKVxuXG52YXIgdG9rZW4gPSBuZXcgVG9rZW4oKTtcbnRva2VuLnN0YXJ0KCk7XG52YXIgc2V0dGluZ3MgPSB7fTtcbnZhciBhd2FpdE1lc3NhZ2UgPSBbXTtcbnZhciBzdGF0ZU1lc3NhZ2UgPSBbXTtcbnZhciBwb3J0RnJvbUNTO1xudmFyIHJlcGxpY2F0aW9uX3BhZ2U7XG52YXIgbHVja3lfYm90O1xudmFyIGx1Y2t5X2JvdF9jb25uZWN0b3JzID0gW107XG5cbmZ1bmN0aW9uIHRlc3QoKSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCJJbiB0ZXN0XCIpO1xuICAgIHZhciBvcmlnaW5TZXR0aW5ncztcbiAgICBpZiAoc2V0dGluZ3Mub3JpZ2luU2V0dGluZ3MpIHtcbiAgICAgIG9yaWdpblNldHRpbmdzID0gc2V0dGluZ3Mub3JpZ2luU2V0dGluZ3MuZmlsdGVyKFxuICAgICAgICAoZWwpID0+IGVsLm9yaWdpbiA9PSBcImh0dHBzOi8vYWxmYS1jZXJ0Mi5hZHYtZG9jcy5ydVwiXG4gICAgICApO1xuICAgICAgaWYgKCFvcmlnaW5TZXR0aW5ncy5sZW5ndGggfHwgIU9iamVjdC5rZXlzKG9yaWdpblNldHRpbmdzWzBdKS5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgXCLQp9GC0L4g0YLQviDQvdC1INGC0LDQuiDRgSDQvdCw0YHRgtGA0L7QudC60LDQvNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyFcIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgXCLQp9GC0L4g0YLQviDQvdC1INGC0LDQuiDRgSDQvdCw0YHRgtGA0L7QudC60LDQvNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyFcIjtcbiAgICB9XG4gICAgY29uc29sZS5sb2coXCJvcmlnaW5TZXR0aW5nc1wiKTtcbiAgICBvcmlnaW5TZXR0aW5ncyA9IG9yaWdpblNldHRpbmdzWzBdO1xuICAgIGlmICghb3JpZ2luU2V0dGluZ3MuYWdlbmN5X2NvZGUgfHwgIW9yaWdpblNldHRpbmdzLmFnZW5jeV9rZXl3b3JkKSB7XG4gICAgICB0aHJvdyBcItCS0LLQtdC00LjRgtC1INCw0L/QuCDQutC70Y7Rh9C4INC00LvRjyDQvtGA0LPQsNC90LAuXCI7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwiYmVmb3JlIHNvbWV0aGluZ1wiKTtcbiAgICB2YXIgc29tZXRoaW5nID0gbmV3IGNvbnRyb2xsZXIoe1xuICAgICAgdG9rZW46IHRva2VuLFxuICAgICAgbG9jYXRpb25PcmlnaW46IFwiaHR0cHM6Ly9hbGZhLWNlcnQyLmFkdi1kb2NzLnJ1XCIsXG4gICAgICBtb2RlOiBcImFwcGxpY2F0aW9uc1wiLFxuICAgICAgc2V0dGluZ3M6IG9yaWdpblNldHRpbmdzLFxuICAgIH0pO1xuICAgIHNvbWV0aGluZy50ZXN0KDIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXBsaWNhdGlvbl9wYWdlX2Nvbm5lY3RlcihwKSB7XG4gIGNvbnNvbGUubG9nKFwiQmFja2dyb3VuZFwiLCBwKTtcbiAgcmVwbGljYXRpb25fcGFnZSA9IHA7XG4gIHJlcGxpY2F0aW9uX3BhZ2Uub25NZXNzYWdlLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChtKSB7XG4gICAgY29uc29sZS5sb2coXCJCYWNrZ3JvdW5kIG1cIiwgbSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBsdWNreV9ib3RfY29ubmVjdGVyKHApIHtcbiAgY29uc29sZS5sb2cobHVja3lfYm90KTtcbiAgY29uc29sZS5sb2coYEJhY2tncm91bmQgJHtwLm5hbWV9IGNvbm5lY3RlZGApO1xuICBsZXQgcmVzID0gbHVja3lfYm90X2Nvbm5lY3RvcnMuZmluZCgoZWwpID0+IHtcbiAgICByZXR1cm4gZWwgPT0gcDtcbiAgfSk7XG4gIGNvbnNvbGUubG9nKGx1Y2t5X2JvdF9jb25uZWN0b3JzLCByZXMpO1xuICBpZiAoIXJlcykge1xuICAgIGx1Y2t5X2JvdF9jb25uZWN0b3JzLnB1c2gocCk7XG4gIH1cbiAgcCA9IHA7XG4gIHAub25NZXNzYWdlLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChtKSB7XG4gICAgY29uc29sZS5sb2cobHVja3lfYm90X2Nvbm5lY3RvcnMsIHRoaXMpO1xuICAgIGNvbnNvbGUubG9nKGAke3RoaXMubmFtZX0gd3JpdGVgLCBtKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNvbm5lY3RlZChwKSB7XG4gIGNvbnNvbGUubG9nKFwiQ09OTkVDVEVEIElTIFJVTlwiLCBwKTtcbiAgaWYgKHAubmFtZSA9PSBcInJlcGxpY2F0aW9uLXBhZ2VcIikge1xuICAgIHJldHVybiByZXBsaWNhdGlvbl9wYWdlX2Nvbm5lY3RlcihwKTtcbiAgfVxuICBpZiAocC5uYW1lLmluY2x1ZGVzKFwibHVja3lfYm90XCIpKSB7XG4gICAgcmV0dXJuIGx1Y2t5X2JvdF9jb25uZWN0ZXIocCk7XG4gIH1cbiAgcG9ydEZyb21DUyA9IHA7XG4gIHBvcnRGcm9tQ1Mub25NZXNzYWdlLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChtKSB7XG4gICAgaWYgKG0udHlwZSA9PSBcInN0YXRlTWVzc2FnZVwiKSB7XG4gICAgICBzdGF0ZU1lc3NhZ2UucHVzaChtKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG9iID0gYXdhaXRNZXNzYWdlLmZpbmQoXG4gICAgICAoZWwpID0+IGVsLnVybCA9PSBtLnVybCAmJiBlbC5jb21tYW5kID09IG0uY29tbWFuZFxuICAgICk7XG4gICAgY29uc29sZS5sb2coXG4gICAgICBcIkluIGJhY2tncm91bmQgc2NyaXB0LCByZWNlaXZlZCBtZXNzYWdlIGZyb20gY29udGVudCBzY3JpcHRcIixcbiAgICAgIG0sXG4gICAgICBhd2FpdE1lc3NhZ2UsXG4gICAgICBvYlxuICAgICk7XG4gICAgaWYgKG9iKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIldlIGF3YWl0IHUgbWFhYW4hXCIgKyBtLnVybCk7XG4gICAgICBhd2FpdE1lc3NhZ2UgPSBhd2FpdE1lc3NhZ2UuZmlsdGVyKChpdGVtKSA9PiBpdGVtICE9IG9iKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiR2V0IHRoaXMhXCIsIG9iLnJlc3BvbmNlKTtcbiAgICAgIHRoaXMucG9ydEZyb21DUy5wb3N0TWVzc2FnZShvYi5yZXNwb25jZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiV2UgZG9udCBhd2FpdCBtZXNzYWdlIGZyb20gdGhpcyB1cmw6XCIgKyBtLnVybCk7XG4gICAgfVxuICB9KTtcbn1cblxuYnJvd3Nlci5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihoYW5kbGVNZXNzYWdlKTtcbmJyb3dzZXIucnVudGltZS5vbkNvbm5lY3QuYWRkTGlzdGVuZXIoY29ubmVjdGVkKTtcblxuZnVuY3Rpb24gaGFuZGxlTWVzc2FnZShyZXF1ZXN0LCBzZW5kZXIsIHNlbmRSZXNwb25zZSkge1xuXG4gIGNvbnNvbGUubG9nKCdZQSBIQU5ETEUgTUVTU0FHRScpXG5cbiAgLy8gcmV0dXJuIHRydWU7XG5cbiAgLy8gY29uc29sZS5sb2cocmVxdWVzdCxcIiA9PT0gXCIsIHNlbmRlcilcbiAgaWYgKHJlcXVlc3QucGFnZU5hbWUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHJlcXVlc3QuYWN0aW9uID09IFwiZ2V0X2V4cGVydHNcIikge1xuICAgIHZhciBvID0gbmV3IG9yZ2FuX2V4cGVydF9vbGQodG9rZW4sIHJlcXVlc3Qub3JnSWQpO1xuICAgIG8uc3RhcnQoKS50aGVuKChkYXRhKSA9PiB7XG4gICAgICByZXR1cm4gc2VuZFJlc3BvbnNlKHsgZGF0YTogSlNPTi5zdHJpbmdpZnkoZGF0YSkgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIGFjdGlvbjtcbiAgdmFyIG9yaWdpblNldHRpbmdzID0ge307XG5cbiAgaWYgKHJlcXVlc3QuZG9jdW1lbnRfdG9rZW4pIHtcbiAgICBvcmlnaW5TZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIHJlcXVlc3Quc2V0dGluZ3MpXG4gICAgLy8gc2V0dGluZ3MgPiDQvdCw0YHRgtGA0L7QudC60Lgg0LTQu9GPINCt0KbQn1xuICAgIG9yaWdpblNldHRpbmdzLmRvY3VtZW50X3Rva2VuID0gcmVxdWVzdC5kb2N1bWVudF90b2tlbjtcbiAgICBvcmlnaW5TZXR0aW5ncy5hc3NpZ25SZWdOdW1iZXIgPSB0cnVlO1xuICAgIFxuICB9IGVsc2Uge1xuICAgIGlmIChzZXR0aW5ncy5vcmlnaW5TZXR0aW5ncykge1xuICAgICAgb3JpZ2luU2V0dGluZ3MgPSBzZXR0aW5ncy5vcmlnaW5TZXR0aW5ncy5maWx0ZXIoXG4gICAgICAgIChlbCkgPT4gZWwub3JpZ2luID09IHJlcXVlc3QubG9jYXRpb25PcmlnaW5cbiAgICAgICk7XG4gICAgICBpZiAoIW9yaWdpblNldHRpbmdzLmxlbmd0aCB8fCAhT2JqZWN0LmtleXMob3JpZ2luU2V0dGluZ3NbMF0pLmxlbmd0aCkge1xuICAgICAgICBzZW5kUmVzcG9uc2Uoe1xuICAgICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICAgIGVycjogXCLQp9GC0L4g0YLQviDQvdC1INGC0LDQuiDRgSDQvdCw0YHRgtGA0L7QudC60LDQvNC4INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyFcIixcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZW5kUmVzcG9uc2Uoe1xuICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgZXJyOiBcItCn0YLQviDRgtC+INC90LUg0YLQsNC6INGBINC90LDRgdGC0YDQvtC50LrQsNC80Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPIVwiLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgb3JpZ2luU2V0dGluZ3MgPSBvcmlnaW5TZXR0aW5nc1swXTtcbiAgICBpZiAoIW9yaWdpblNldHRpbmdzLmFnZW5jeV9jb2RlIHx8ICFvcmlnaW5TZXR0aW5ncy5hZ2VuY3lfa2V5d29yZCkge1xuICAgICAgc2VuZFJlc3BvbnNlKHsgZG9uZTogZmFsc2UsIGVycjogXCLQktCy0LXQtNC40YLQtSDQsNC/0Lgg0LrQu9GO0YfQuCDQtNC70Y8g0L7RgNCz0LDQvdCwLlwiIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghcmVxdWVzdC5tb2R1bGUpIHtcbiAgICAgIHNlbmRSZXNwb25zZSh7IGRvbmU6IGZhbHNlLCBlcnI6IFwi0J3QtSDRg9C60LDQt9Cw0L0g0LzQvtC00YPQu9GMLlwiIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIHJldHVybiB0cnVlXG4gIH0gXG4gIFxuXG4gIGNvbnNvbGUubG9nKCdyZXF1ZXN0IDo+PiAnLCByZXF1ZXN0KTtcbiAgc3dpdGNoIChyZXF1ZXN0Lm1vZHVsZSkge1xuICAgIGNhc2UgXCJkc1wiOlxuICAgICAgdmFyIGRzT3B0aW9ucyA9IHtcbiAgICAgICAgaWQ6IHJlcXVlc3QuaWQsXG4gICAgICAgIHRva2VuOiB0b2tlbixcbiAgICAgICAgbG9jYXRpb25PcmlnaW46IHJlcXVlc3QubG9jYXRpb25PcmlnaW4sXG4gICAgICAgIG1vZGU6IHJlcXVlc3QubW9kZSxcbiAgICAgICAgc2V0dGluZ3M6IG9yaWdpblNldHRpbmdzLFxuICAgICAgICBhZHZhbmNlVHlwZTogcmVxdWVzdC5hZHZhbmNlVHlwZSB8fCByZXF1ZXN0LnR5cGUsIC8vIFRPRE86INC/0YDQvtCy0LXRgNC40YLRjCDQtdGB0LvQuCDQs9C00LUg0YLQviDQtdGJ0LUg0L/QtdGA0LXQtNCw0YfQsCByZXF1ZXN0LnR5cGVcbiAgICAgICAgaXNTcmQ6IHJlcXVlc3QuaXNTcmQgPT0gdW5kZWZpbmVkP2ZhbHNlOnJlcXVlc3QuaXNTcmQsXG4gICAgICB9XG4gICAgICB2YXIgZHMgPSBuZXcgRHMoZHNPcHRpb25zKTtcbiAgICAgIGFjdGlvbiA9IGRzLmRvQWN0aW9uKHJlcXVlc3QuYWN0aW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJwYXJzZXJcIjpcbiAgICAgIGNvbnNvbGUubG9nKFwiV2Ugc3RvcHBlZCBwYXJzZXIgc3RhcnRlclwiKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBhY3Rpb24gPSBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhyb3cgYNCd0LUg0L3QsNC50LTQtdC9INC80L7QtNGD0LvRjDogJHtyZXF1ZXN0Lm1vZHVsZX0sINC30LDQv9GA0L7RgSAke3JlcXVlc3QuYWN0aW9ufWA7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuICB9XG4gIGFjdGlvblxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHZhciBkYXRhID0gT2JqZWN0LmFzc2lnbihyZXMsIHsgZG9uZTogcmVzLmRvbmUgfSk7XG4gICAgICBjb25zb2xlLmxvZyhcInNlbmRSZXNwb25zZVwiLCBkYXRhKTtcbiAgICAgIHJldHVybiBzZW5kUmVzcG9uc2UoZGF0YSk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJjYXRjaCBzZW5kUmVzcG9uc2VcIiwgeyBkb25lOiBmYWxzZSwgZXJyOiBlcnIgfSk7XG4gICAgICByZXR1cm4gc2VuZFJlc3BvbnNlKHsgZG9uZTogZmFsc2UsIGVyciB9KTtcbiAgICB9KTtcblxuXG4gICAgY29uc29sZS5sb2coJy0tLS0tLS0tIEtPTkVDICcpXG4gIHJldHVybiB0cnVlO1xufVxuXG5icm93c2VyLnN0b3JhZ2UubG9jYWwuZ2V0KCkudGhlbigoc3RvcmVkU2V0dGluZ3MpID0+IHtcbiAgY29uc29sZS5sb2coXCJTdG9yYWdlIGdldCBpbiBiYWNrZ3JvdW5kIVwiLCBzdG9yZWRTZXR0aW5ncyk7XG4gIHNldHRpbmdzID0gc3RvcmVkU2V0dGluZ3M7XG59KTtcblxuYnJvd3Nlci5zdG9yYWdlLm9uQ2hhbmdlZC5hZGRMaXN0ZW5lcigobmV3U2V0dGluZ3MpID0+IHtcbiAgZm9yIChjb25zdCBrZXkgaW4gbmV3U2V0dGluZ3MpIHtcbiAgICBpZiAobmV3U2V0dGluZ3MuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgc2V0dGluZ3Nba2V5XSA9IG5ld1NldHRpbmdzW2tleV0ubmV3VmFsdWU7XG4gICAgfVxuICB9XG59KTtcbiJdLCJuYW1lcyI6WyJnbG9iYWwiLCJmYWN0b3J5IiwibW9kdWxlIiwidGhpcyIsIl9iIiwiX2EiLCJDSFJPTUVfU0VORF9NRVNTQUdFX0NBTExCQUNLX05PX1JFU1BPTlNFX01FU1NBR0UiLCJ3cmFwQVBJcyIsImV4dGVuc2lvbkFQSXMiLCJhcGlNZXRhZGF0YSIsIkRlZmF1bHRXZWFrTWFwIiwiY3JlYXRlSXRlbSIsIml0ZW1zIiwia2V5IiwiaXNUaGVuYWJsZSIsInZhbHVlIiwibWFrZUNhbGxiYWNrIiwicHJvbWlzZSIsIm1ldGFkYXRhIiwiY2FsbGJhY2tBcmdzIiwicGx1cmFsaXplQXJndW1lbnRzIiwibnVtQXJncyIsIndyYXBBc3luY0Z1bmN0aW9uIiwibmFtZSIsInRhcmdldCIsImFyZ3MiLCJyZXNvbHZlIiwicmVqZWN0IiwiY2JFcnJvciIsIndyYXBNZXRob2QiLCJtZXRob2QiLCJ3cmFwcGVyIiwidGFyZ2V0TWV0aG9kIiwidGhpc09iaiIsImhhc093blByb3BlcnR5Iiwid3JhcE9iamVjdCIsIndyYXBwZXJzIiwiY2FjaGUiLCJoYW5kbGVycyIsInByb3h5VGFyZ2V0IiwicHJvcCIsInJlY2VpdmVyIiwiZGVzYyIsIndyYXBFdmVudCIsIndyYXBwZXJNYXAiLCJsaXN0ZW5lciIsIm9uUmVxdWVzdEZpbmlzaGVkV3JhcHBlcnMiLCJyZXEiLCJ3cmFwcGVkUmVxIiwib25NZXNzYWdlV3JhcHBlcnMiLCJtZXNzYWdlIiwic2VuZGVyIiwic2VuZFJlc3BvbnNlIiwiZGlkQ2FsbFNlbmRSZXNwb25zZSIsIndyYXBwZWRTZW5kUmVzcG9uc2UiLCJzZW5kUmVzcG9uc2VQcm9taXNlIiwicmVzcG9uc2UiLCJyZXN1bHQiLCJlcnIiLCJpc1Jlc3VsdFRoZW5hYmxlIiwic2VuZFByb21pc2VkUmVzdWx0IiwibXNnIiwiZXJyb3IiLCJ3cmFwcGVkU2VuZE1lc3NhZ2VDYWxsYmFjayIsInJlcGx5Iiwid3JhcHBlZFNlbmRNZXNzYWdlIiwiYXBpTmFtZXNwYWNlT2JqIiwid3JhcHBlZENiIiwic3RhdGljV3JhcHBlcnMiLCJzZXR0aW5nTWV0YWRhdGEiLCJUb2tlbiIsInVpbnRBcnJheSIsImVuY29kZWRTdHJpbmciLCJkZWNvZGVkU3RyaW5nIiwicmVxdWVzdERldGFpbHMiLCJpdGVtIiwidG9rZW4iLCJyZXNwIiwiYnJvd3Nlci5zdG9yYWdlIiwib3JnSWQiLCJ1cmwiLCJicm93c2VyLndlYlJlcXVlc3QiLCJFbmRwb2ludCIsImFkdmFuY2UiLCJwYXJhbXMiLCJyZXR1cm5UeXBlIiwiZGVzY3JpcHRpb24iLCJBZHZhbmNlIiwic2V0dGluZ3MiLCJkb21haW4iLCJhZHZhbmNlX3R5cGUiLCJlbmRwb2ludCIsImRvY3VtZW50X25hbWUiLCJkIiwidGltZU91dCIsImNvbnRyb2xsZXIiLCJwMSIsInAyIiwicmVzIiwibyIsIm9wdCIsInJlcGVhdCIsImlzcmVwZWF0Iiwib2JqVXJsIiwiZWxlbWVudCIsImJvZHkiLCJvYmoiLCJtYXhSZXBlYXQiLCJzZWxmIiwiY2hlY2tNb2RlIiwibW9kZSIsIlNpZ24iLCJpZHMiLCJmZ2lzIiwiYmxhbmtzIiwiX3BhcnNlUmVzIiwicmVzcERhdGEiLCJfZmluZF9hbm5leEJsYW5rSWQiLCJibGFua3NXaXRoSWRzIiwibnVtYmVyU3RyIiwiYmxhbmsiLCJhbm5leEJsYW5rIiwiYWN0aW9uIiwiYW5uZXhCbGFua051bWJlcnMiLCJhbm5leGVzIiwiZmlsZUlkcyIsImVsIiwibWFzdGVyVGFiIiwiX3VwZGF0ZXN0YXRlIiwiX2NvbGxlY3RzaWduYXR1cmVzIiwiX3NpZ25hdHVyZXNpbmZvIiwiYnJvd3Nlci50YWJzIiwidGFiIiwiY291bnQiLCJmIiwibSIsImVyck1zZyIsIkZnaXMiLCJmZ2lzVHlwZSIsImZ1bGxfdXJsX3BhdHRlcm4iLCJpbnN0cnVjdGlvbiIsInJlc3BvbmNlIiwiY2FsbGJhY2siLCJkYXRhIiwic2lnbiIsInV1aWQiLCJTdGF0ZW1lbnQiLCJpZCIsInJvb3QiLCJpc19yZXR1cm5fU2lnbmluZyIsInN0YXRlIiwic3RhdHVzIiwidXNlcl9pZCIsImlkQXBwbGljYXRpb24iLCJhcHBsaWNhdGlvblN1Ym1pc3Npb25EYXRlIiwiaWRTdGF0dXMiLCJsb2NhbERhdGEiLCJhZGRyIiwicm9vdERhdGEiLCJHZW5lcmF0b3JGaWxlc0FkdmFuY2UiLCJkb2N1bWVudCIsImZpbGVBZHZhbmNlSWQiLCJmaWxlQWR2YW5jZU9iamVjdCIsImZpbGVGZ2lzUmVzcG9uY2UiLCJmb3JtRGF0YSIsImZpbGVBZHZhbmNlQmxvYiIsIm9wdGlvbnMiLCJmaWxlQWR2YW5jZU9iamVjdExpc3QiLCJ2YWxpZEZpbGVMaXN0IiwiRG9jdW1lbnQiLCJhZHZhbmNlVHlwZSIsImlzU3JkIiwid2FudF9udW1iZXIiLCJmYWN0X251bWJlciIsImlkRGVjbGFyYXRpb24iLCJzdWJtaXNzaW9uRGF0ZSIsIm51bWJlciIsImRvY3VtZW50Rmdpc0RhdGEiLCJmaWxlSWQiLCJmaWxlIiwiaXNfZG9jdW1lbnQiLCJmaWxlX2Jsb2IiLCJwIiwiZmdpc19maWxlX2lkIiwiZmlsZUxpc3QiLCJub19uYW1lIiwidHlwZSIsInZhbHMiLCJzZWFyY2hfcmVzdWx0IiwiZG9jdW1lbnRfZGF0YSIsImZnaXNfZGF0YSIsIm9wIiwibGFiIiwicHJvdCIsImV4aXN0IiwiZmdpc1Jlc3VsdCIsImFubmV4IiwiaWREb2N1bWVudCIsIkRzIiwibG9jYXRpb25PcmlnaW4iLCJhY3Rpb25OYW1lIiwiYXdhaXRNZXNzYWdlIiwicG9ydEZyb21DUyIsInJlcGxpY2F0aW9uX3BhZ2UiLCJsdWNreV9ib3QiLCJsdWNreV9ib3RfY29ubmVjdG9ycyIsInJlcGxpY2F0aW9uX3BhZ2VfY29ubmVjdGVyIiwibHVja3lfYm90X2Nvbm5lY3RlciIsImNvbm5lY3RlZCIsIm9iIiwiYnJvd3Nlci5ydW50aW1lIiwiaGFuZGxlTWVzc2FnZSIsInJlcXVlc3QiLCJvcmlnaW5TZXR0aW5ncyIsImRzT3B0aW9ucyIsImRzIiwic3RvcmVkU2V0dGluZ3MiLCJuZXdTZXR0aW5ncyJdLCJtYXBwaW5ncyI6InlLQUFDLFNBQVVBLEVBQVFDLEVBQVMsQ0FJeEJBLEVBQVFDLENBQU0sQ0FRbEIsR0FBRyxPQUFPLFdBQWUsSUFBYyxXQUFhLE9BQU8sS0FBUyxJQUFjLEtBQU9DLEVBQU0sU0FBVUQsRUFBUSxTQVkvRyxHQUFJLEdBQUNFLEdBQUFDLEVBQUEsV0FBVyxTQUFYLFlBQUFBLEVBQW1CLFVBQW5CLE1BQUFELEVBQTRCLElBQy9CLE1BQU0sSUFBSSxNQUFNLDJEQUEyRCxFQUc3RSxHQUFJLE9BQU8sV0FBVyxRQUFZLEtBQWUsT0FBTyxlQUFlLFdBQVcsT0FBTyxJQUFNLE9BQU8sVUFBVyxDQUMvRyxNQUFNRSxFQUFtRCwwREFNbkRDLEVBQVdDLEdBQWlCLENBSWhDLE1BQU1DLEVBQWMsQ0FDbEIsT0FBVSxDQUNSLE1BQVMsQ0FDUCxRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsU0FBWSxDQUNWLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxJQUFPLENBQ0wsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELE9BQVUsQ0FDUixRQUFXLEVBQ1gsUUFBVyxDQUNaLENBQ0YsRUFDRCxVQUFhLENBQ1gsT0FBVSxDQUNSLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxJQUFPLENBQ0wsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELFlBQWUsQ0FDYixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsVUFBYSxDQUNYLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxXQUFjLENBQ1osUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELFFBQVcsQ0FDVCxRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsS0FBUSxDQUNOLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxPQUFVLENBQ1IsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELFdBQWMsQ0FDWixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsT0FBVSxDQUNSLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxPQUFVLENBQ1IsUUFBVyxFQUNYLFFBQVcsQ0FDWixDQUNGLEVBQ0QsY0FBaUIsQ0FDZixRQUFXLENBQ1QsUUFBVyxFQUNYLFFBQVcsRUFDWCxxQkFBd0IsRUFDekIsRUFDRCxPQUFVLENBQ1IsUUFBVyxFQUNYLFFBQVcsRUFDWCxxQkFBd0IsRUFDekIsRUFDRCx3QkFBMkIsQ0FDekIsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELGFBQWdCLENBQ2QsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELFNBQVksQ0FDVixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsU0FBWSxDQUNWLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxVQUFhLENBQ1gsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELHdCQUEyQixDQUN6QixRQUFXLEVBQ1gsUUFBVyxFQUNYLHFCQUF3QixFQUN6QixFQUNELGFBQWdCLENBQ2QsUUFBVyxFQUNYLFFBQVcsRUFDWCxxQkFBd0IsRUFDekIsRUFDRCxRQUFXLENBQ1QsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELFNBQVksQ0FDVixRQUFXLEVBQ1gsUUFBVyxFQUNYLHFCQUF3QixFQUN6QixFQUNELFNBQVksQ0FDVixRQUFXLEVBQ1gsUUFBVyxFQUNYLHFCQUF3QixFQUN6QixDQUNGLEVBQ0QsYUFBZ0IsQ0FDZCxPQUFVLENBQ1IsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELFlBQWUsQ0FDYixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsY0FBaUIsQ0FDZixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsZ0JBQW1CLENBQ2pCLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxlQUFrQixDQUNoQixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsY0FBaUIsQ0FDZixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsbUJBQXNCLENBQ3BCLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxnQkFBbUIsQ0FDakIsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELGlCQUFvQixDQUNsQixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsU0FBWSxDQUNWLFFBQVcsRUFDWCxRQUFXLENBQ1osQ0FDRixFQUNELFNBQVksQ0FDVixPQUFVLENBQ1IsUUFBVyxFQUNYLFFBQVcsQ0FDWixDQUNGLEVBQ0QsYUFBZ0IsQ0FDZCxPQUFVLENBQ1IsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELFVBQWEsQ0FDWCxRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsT0FBVSxDQUNSLFFBQVcsRUFDWCxRQUFXLENBQ1osQ0FDRixFQUNELFFBQVcsQ0FDVCxJQUFPLENBQ0wsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELE9BQVUsQ0FDUixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsbUJBQXNCLENBQ3BCLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxPQUFVLENBQ1IsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELElBQU8sQ0FDTCxRQUFXLEVBQ1gsUUFBVyxDQUNaLENBQ0YsRUFDRCxTQUFZLENBQ1YsZ0JBQW1CLENBQ2pCLEtBQVEsQ0FDTixRQUFXLEVBQ1gsUUFBVyxFQUNYLGtCQUFxQixFQUN0QixDQUNGLEVBQ0QsT0FBVSxDQUNSLE9BQVUsQ0FDUixRQUFXLEVBQ1gsUUFBVyxFQUNYLGtCQUFxQixFQUN0QixFQUNELFNBQVksQ0FDVixrQkFBcUIsQ0FDbkIsUUFBVyxFQUNYLFFBQVcsQ0FDWixDQUNGLENBQ0YsQ0FDRixFQUNELFVBQWEsQ0FDWCxPQUFVLENBQ1IsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELFNBQVksQ0FDVixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsTUFBUyxDQUNQLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxZQUFlLENBQ2IsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELEtBQVEsQ0FDTixRQUFXLEVBQ1gsUUFBVyxFQUNYLHFCQUF3QixFQUN6QixFQUNELE1BQVMsQ0FDUCxRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsV0FBYyxDQUNaLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxPQUFVLENBQ1IsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELE9BQVUsQ0FDUixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsS0FBUSxDQUNOLFFBQVcsRUFDWCxRQUFXLEVBQ1gscUJBQXdCLEVBQ3pCLENBQ0YsRUFDRCxVQUFhLENBQ1gsMEJBQTZCLENBQzNCLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCx5QkFBNEIsQ0FDMUIsUUFBVyxFQUNYLFFBQVcsQ0FDWixDQUNGLEVBQ0QsUUFBVyxDQUNULE9BQVUsQ0FDUixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsVUFBYSxDQUNYLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxZQUFlLENBQ2IsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELFVBQWEsQ0FDWCxRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsVUFBYSxDQUNYLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxPQUFVLENBQ1IsUUFBVyxFQUNYLFFBQVcsQ0FDWixDQUNGLEVBQ0QsS0FBUSxDQUNOLGVBQWtCLENBQ2hCLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxtQkFBc0IsQ0FDcEIsUUFBVyxFQUNYLFFBQVcsQ0FDWixDQUNGLEVBQ0QsU0FBWSxDQUNWLGtCQUFxQixDQUNuQixRQUFXLEVBQ1gsUUFBVyxDQUNaLENBQ0YsRUFDRCxLQUFRLENBQ04sV0FBYyxDQUNaLFFBQVcsRUFDWCxRQUFXLENBQ1osQ0FDRixFQUNELFdBQWMsQ0FDWixJQUFPLENBQ0wsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELE9BQVUsQ0FDUixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsUUFBVyxDQUNULFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxXQUFjLENBQ1osUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELGNBQWlCLENBQ2YsUUFBVyxFQUNYLFFBQVcsQ0FDWixDQUNGLEVBQ0QsY0FBaUIsQ0FDZixNQUFTLENBQ1AsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELE9BQVUsQ0FDUixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsT0FBVSxDQUNSLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxtQkFBc0IsQ0FDcEIsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELE9BQVUsQ0FDUixRQUFXLEVBQ1gsUUFBVyxDQUNaLENBQ0YsRUFDRCxXQUFjLENBQ1osU0FBWSxDQUNWLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxTQUFZLENBQ1YsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELEtBQVEsQ0FDTixRQUFXLEVBQ1gsUUFBVyxFQUNYLHFCQUF3QixFQUN6QixFQUNELFFBQVcsQ0FDVCxRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsU0FBWSxDQUNWLFFBQVcsRUFDWCxRQUFXLEVBQ1gscUJBQXdCLEVBQ3pCLEVBQ0QsU0FBWSxDQUNWLFFBQVcsRUFDWCxRQUFXLEVBQ1gscUJBQXdCLEVBQ3pCLEVBQ0QsS0FBUSxDQUNOLFFBQVcsRUFDWCxRQUFXLEVBQ1gscUJBQXdCLEVBQ3pCLENBQ0YsRUFDRCxZQUFlLENBQ2IsU0FBWSxDQUNWLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxPQUFVLENBQ1IsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELE9BQVUsQ0FDUixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsUUFBVyxDQUNULFFBQVcsRUFDWCxRQUFXLENBQ1osQ0FDRixFQUNELFFBQVcsQ0FDVCxrQkFBcUIsQ0FDbkIsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELGdCQUFtQixDQUNqQixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsZ0JBQW1CLENBQ2pCLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxtQkFBc0IsQ0FDcEIsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELFlBQWUsQ0FDYixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0Qsa0JBQXFCLENBQ25CLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxnQkFBbUIsQ0FDakIsUUFBVyxFQUNYLFFBQVcsQ0FDWixDQUNGLEVBQ0QsU0FBWSxDQUNWLFdBQWMsQ0FDWixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0Qsa0JBQXFCLENBQ25CLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxRQUFXLENBQ1QsUUFBVyxFQUNYLFFBQVcsQ0FDWixDQUNGLEVBQ0QsUUFBVyxDQUNULE1BQVMsQ0FDUCxNQUFTLENBQ1AsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELElBQU8sQ0FDTCxRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsY0FBaUIsQ0FDZixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsT0FBVSxDQUNSLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxJQUFPLENBQ0wsUUFBVyxFQUNYLFFBQVcsQ0FDWixDQUNGLEVBQ0QsUUFBVyxDQUNULElBQU8sQ0FDTCxRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsY0FBaUIsQ0FDZixRQUFXLEVBQ1gsUUFBVyxDQUNaLENBQ0YsRUFDRCxLQUFRLENBQ04sTUFBUyxDQUNQLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxJQUFPLENBQ0wsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELGNBQWlCLENBQ2YsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELE9BQVUsQ0FDUixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsSUFBTyxDQUNMLFFBQVcsRUFDWCxRQUFXLENBQ1osQ0FDRixDQUNGLEVBQ0QsS0FBUSxDQUNOLGtCQUFxQixDQUNuQixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsT0FBVSxDQUNSLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxlQUFrQixDQUNoQixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsUUFBVyxDQUNULFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxVQUFhLENBQ1gsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELGNBQWlCLENBQ2YsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELElBQU8sQ0FDTCxRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsV0FBYyxDQUNaLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxRQUFXLENBQ1QsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELGdCQUFtQixDQUNqQixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsT0FBVSxDQUNSLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxVQUFhLENBQ1gsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELFVBQWEsQ0FDWCxRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsVUFBYSxDQUNYLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxLQUFRLENBQ04sUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELE1BQVMsQ0FDUCxRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsT0FBVSxDQUNSLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxPQUFVLENBQ1IsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELFVBQWEsQ0FDWCxRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsWUFBZSxDQUNiLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxRQUFXLENBQ1QsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELGdCQUFtQixDQUNqQixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsT0FBVSxDQUNSLFFBQVcsRUFDWCxRQUFXLENBQ1osQ0FDRixFQUNELFNBQVksQ0FDVixJQUFPLENBQ0wsUUFBVyxFQUNYLFFBQVcsQ0FDWixDQUNGLEVBQ0QsY0FBaUIsQ0FDZixhQUFnQixDQUNkLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxTQUFZLENBQ1YsUUFBVyxFQUNYLFFBQVcsQ0FDWixDQUNGLEVBQ0QsV0FBYyxDQUNaLHVCQUEwQixDQUN4QixRQUFXLEVBQ1gsUUFBVyxDQUNaLENBQ0YsRUFDRCxRQUFXLENBQ1QsT0FBVSxDQUNSLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxJQUFPLENBQ0wsUUFBVyxFQUNYLFFBQVcsQ0FDWixFQUNELE9BQVUsQ0FDUixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsV0FBYyxDQUNaLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxlQUFrQixDQUNoQixRQUFXLEVBQ1gsUUFBVyxDQUNaLEVBQ0QsT0FBVSxDQUNSLFFBQVcsRUFDWCxRQUFXLENBQ1osRUFDRCxPQUFVLENBQ1IsUUFBVyxFQUNYLFFBQVcsQ0FDWixDQUNGLENBQ1QsRUFFTSxHQUFJLE9BQU8sS0FBS0EsQ0FBVyxFQUFFLFNBQVcsRUFDdEMsTUFBTSxJQUFJLE1BQU0sNkRBQTZELEVBYy9FLE1BQU1DLFVBQXVCLE9BQVEsQ0FDbkMsWUFBWUMsRUFBWUMsRUFBUSxPQUFXLENBQ3pDLE1BQU1BLENBQUssRUFDWCxLQUFLLFdBQWFELENBQ25CLENBRUQsSUFBSUUsRUFBSyxDQUNQLE9BQUssS0FBSyxJQUFJQSxDQUFHLEdBQ2YsS0FBSyxJQUFJQSxFQUFLLEtBQUssV0FBV0EsQ0FBRyxDQUFDLEVBRzdCLE1BQU0sSUFBSUEsQ0FBRyxDQUNyQixDQUVGLENBVUQsTUFBTUMsRUFBYUMsR0FDVkEsR0FBUyxPQUFPQSxHQUFVLFVBQVksT0FBT0EsRUFBTSxNQUFTLFdBbUMvREMsRUFBZSxDQUFDQyxFQUFTQyxJQUN0QixJQUFJQyxJQUFpQixDQUN0QlgsRUFBYyxRQUFRLFVBQ3hCUyxFQUFRLE9BQU8sSUFBSSxNQUFNVCxFQUFjLFFBQVEsVUFBVSxPQUFPLENBQUMsRUFDeERVLEVBQVMsbUJBQXFCQyxFQUFhLFFBQVUsR0FBS0QsRUFBUyxvQkFBc0IsR0FDbEdELEVBQVEsUUFBUUUsRUFBYSxDQUFDLENBQUMsRUFFL0JGLEVBQVEsUUFBUUUsQ0FBWSxDQUV4QyxFQUdZQyxFQUFxQkMsR0FBV0EsR0FBVyxFQUFJLFdBQWEsWUE2QjVEQyxFQUFvQixDQUFDQyxFQUFNTCxJQUN4QixTQUE4Qk0sS0FBV0MsRUFBTSxDQUNwRCxHQUFJQSxFQUFLLE9BQVNQLEVBQVMsUUFDekIsTUFBTSxJQUFJLE1BQU0scUJBQXFCQSxFQUFTLE9BQU8sSUFBSUUsRUFBbUJGLEVBQVMsT0FBTyxDQUFDLFFBQVFLLENBQUksV0FBV0UsRUFBSyxNQUFNLEVBQUUsRUFHbkksR0FBSUEsRUFBSyxPQUFTUCxFQUFTLFFBQ3pCLE1BQU0sSUFBSSxNQUFNLG9CQUFvQkEsRUFBUyxPQUFPLElBQUlFLEVBQW1CRixFQUFTLE9BQU8sQ0FBQyxRQUFRSyxDQUFJLFdBQVdFLEVBQUssTUFBTSxFQUFFLEVBR2xJLE9BQU8sSUFBSSxRQUFRLENBQUNDLEVBQVNDLElBQVcsQ0FDdEMsR0FBSVQsRUFBUyxxQkFJWCxHQUFJLENBQ0ZNLEVBQU9ELENBQUksRUFBRSxHQUFHRSxFQUFNVCxFQUFhLENBQ2pDLFFBQUFVLEVBQ0EsT0FBQUMsQ0FDbEIsRUFBbUJULENBQVEsQ0FBQyxDQUNiLE9BQVFVLEVBQVMsQ0FDaEIsUUFBUSxLQUFLLEdBQUdMLENBQUksMkdBQWlISyxDQUFPLEVBQzVJSixFQUFPRCxDQUFJLEVBQUUsR0FBR0UsQ0FBSSxFQUdwQlAsRUFBUyxxQkFBdUIsR0FDaENBLEVBQVMsV0FBYSxHQUN0QlEsR0FDRCxNQUNRUixFQUFTLFlBQ2xCTSxFQUFPRCxDQUFJLEVBQUUsR0FBR0UsQ0FBSSxFQUNwQkMsS0FFQUYsRUFBT0QsQ0FBSSxFQUFFLEdBQUdFLEVBQU1ULEVBQWEsQ0FDakMsUUFBQVUsRUFDQSxPQUFBQyxDQUNoQixFQUFpQlQsQ0FBUSxDQUFDLENBRTFCLENBQVcsQ0FDWCxFQXVCWVcsRUFBYSxDQUFDTCxFQUFRTSxFQUFRQyxJQUMzQixJQUFJLE1BQU1ELEVBQVEsQ0FDdkIsTUFBTUUsRUFBY0MsRUFBU1IsRUFBTSxDQUNqQyxPQUFPTSxFQUFRLEtBQUtFLEVBQVNULEVBQVEsR0FBR0MsQ0FBSSxDQUM3QyxDQUVYLENBQVMsRUFHSCxJQUFJUyxFQUFpQixTQUFTLEtBQUssS0FBSyxPQUFPLFVBQVUsY0FBYyxFQXlCdkUsTUFBTUMsRUFBYSxDQUFDWCxFQUFRWSxFQUFXLENBQUUsRUFBRWxCLEVBQVcsS0FBTyxDQUMzRCxJQUFJbUIsRUFBUSxPQUFPLE9BQU8sSUFBSSxFQUMxQkMsRUFBVyxDQUNiLElBQUlDLEVBQWFDLEVBQU0sQ0FDckIsT0FBT0EsS0FBUWhCLEdBQVVnQixLQUFRSCxDQUNsQyxFQUVELElBQUlFLEVBQWFDLEVBQU1DLEVBQVUsQ0FDL0IsR0FBSUQsS0FBUUgsRUFDVixPQUFPQSxFQUFNRyxDQUFJLEVBR25CLEdBQUksRUFBRUEsS0FBUWhCLEdBQ1osT0FHRixJQUFJVCxFQUFRUyxFQUFPZ0IsQ0FBSSxFQUV2QixHQUFJLE9BQU96QixHQUFVLFdBR25CLEdBQUksT0FBT3FCLEVBQVNJLENBQUksR0FBTSxXQUU1QnpCLEVBQVFjLEVBQVdMLEVBQVFBLEVBQU9nQixDQUFJLEVBQUdKLEVBQVNJLENBQUksQ0FBQyxVQUM5Q04sRUFBZWhCLEVBQVVzQixDQUFJLEVBQUcsQ0FHekMsSUFBSVQsRUFBVVQsRUFBa0JrQixFQUFNdEIsRUFBU3NCLENBQUksQ0FBQyxFQUNwRHpCLEVBQVFjLEVBQVdMLEVBQVFBLEVBQU9nQixDQUFJLEVBQUdULENBQU8sQ0FDaEUsTUFHZ0JoQixFQUFRQSxFQUFNLEtBQUtTLENBQU0sVUFFbEIsT0FBT1QsR0FBVSxVQUFZQSxJQUFVLE9BQVNtQixFQUFlRSxFQUFVSSxDQUFJLEdBQUtOLEVBQWVoQixFQUFVc0IsQ0FBSSxHQUl4SHpCLEVBQVFvQixFQUFXcEIsRUFBT3FCLEVBQVNJLENBQUksRUFBR3RCLEVBQVNzQixDQUFJLENBQUMsVUFDL0NOLEVBQWVoQixFQUFVLEdBQUcsRUFFckNILEVBQVFvQixFQUFXcEIsRUFBT3FCLEVBQVNJLENBQUksRUFBR3RCLEVBQVMsR0FBRyxDQUFDLE1BSXZELGVBQU8sZUFBZW1CLEVBQU9HLEVBQU0sQ0FDakMsYUFBYyxHQUNkLFdBQVksR0FFWixLQUFNLENBQ0osT0FBT2hCLEVBQU9nQixDQUFJLENBQ25CLEVBRUQsSUFBSXpCLEVBQU8sQ0FDVFMsRUFBT2dCLENBQUksRUFBSXpCLENBQ2hCLENBRWpCLENBQWUsRUFDTUEsRUFHVCxPQUFBc0IsRUFBTUcsQ0FBSSxFQUFJekIsRUFDUEEsQ0FDUixFQUVELElBQUl3QixFQUFhQyxFQUFNekIsRUFBTzBCLEVBQVUsQ0FDdEMsT0FBSUQsS0FBUUgsRUFDVkEsRUFBTUcsQ0FBSSxFQUFJekIsRUFFZFMsRUFBT2dCLENBQUksRUFBSXpCLEVBR1YsRUFDUixFQUVELGVBQWV3QixFQUFhQyxFQUFNRSxFQUFNLENBQ3RDLE9BQU8sUUFBUSxlQUFlTCxFQUFPRyxFQUFNRSxDQUFJLENBQ2hELEVBRUQsZUFBZUgsRUFBYUMsRUFBTSxDQUNoQyxPQUFPLFFBQVEsZUFBZUgsRUFBT0csQ0FBSSxDQUMxQyxDQUVYLEVBV1lELEVBQWMsT0FBTyxPQUFPZixDQUFNLEVBQ3RDLE9BQU8sSUFBSSxNQUFNZSxFQUFhRCxDQUFRLENBQzlDLEVBbUJZSyxFQUFZQyxJQUFlLENBQy9CLFlBQVlwQixFQUFRcUIsS0FBYXBCLEVBQU0sQ0FDckNELEVBQU8sWUFBWW9CLEVBQVcsSUFBSUMsQ0FBUSxFQUFHLEdBQUdwQixDQUFJLENBQ3JELEVBRUQsWUFBWUQsRUFBUXFCLEVBQVUsQ0FDNUIsT0FBT3JCLEVBQU8sWUFBWW9CLEVBQVcsSUFBSUMsQ0FBUSxDQUFDLENBQ25ELEVBRUQsZUFBZXJCLEVBQVFxQixFQUFVLENBQy9CckIsRUFBTyxlQUFlb0IsRUFBVyxJQUFJQyxDQUFRLENBQUMsQ0FDL0MsQ0FFVCxHQUVZQyxHQUE0QixJQUFJcEMsRUFBZW1DLEdBQy9DLE9BQU9BLEdBQWEsV0FDZkEsRUFZRixTQUEyQkUsRUFBSyxDQUNyQyxNQUFNQyxFQUFhYixFQUFXWSxFQUFLLENBQUUsRUFFbkMsQ0FDQSxXQUFZLENBQ1YsUUFBUyxFQUNULFFBQVMsQ0FDVixDQUNiLENBQVcsRUFDREYsRUFBU0csQ0FBVSxDQUM3QixDQUNPLEVBQ0tDLEVBQW9CLElBQUl2QyxFQUFlbUMsR0FDdkMsT0FBT0EsR0FBYSxXQUNmQSxFQXFCRixTQUFtQkssRUFBU0MsRUFBUUMsRUFBYyxDQUN2RCxJQUFJQyxFQUFzQixHQUN0QkMsRUFDQUMsRUFBc0IsSUFBSSxRQUFRN0IsR0FBVyxDQUMvQzRCLEVBQXNCLFNBQVVFLEVBQVUsQ0FDeENILEVBQXNCLEdBQ3RCM0IsRUFBUThCLENBQVEsQ0FDOUIsQ0FDQSxDQUFXLEVBQ0dDLEVBRUosR0FBSSxDQUNGQSxFQUFTWixFQUFTSyxFQUFTQyxFQUFRRyxDQUFtQixDQUN2RCxPQUFRSSxFQUFLLENBQ1pELEVBQVMsUUFBUSxPQUFPQyxDQUFHLENBQzVCLENBRUQsTUFBTUMsRUFBbUJGLElBQVcsSUFBUTNDLEVBQVcyQyxDQUFNLEVBSTdELEdBQUlBLElBQVcsSUFBUSxDQUFDRSxHQUFvQixDQUFDTixFQUMzQyxNQUFPLEdBT1QsTUFBTU8sRUFBcUIzQyxHQUFXLENBQ3BDQSxFQUFRLEtBQUs0QyxHQUFPLENBRWxCVCxFQUFhUyxDQUFHLENBQ2pCLEVBQUVDLEdBQVMsQ0FHVixJQUFJWixFQUVBWSxJQUFVQSxhQUFpQixPQUFTLE9BQU9BLEVBQU0sU0FBWSxVQUMvRFosRUFBVVksRUFBTSxRQUVoQlosRUFBVSwrQkFHWkUsRUFBYSxDQUNYLGtDQUFtQyxHQUNuQyxRQUFBRixDQUNoQixDQUFlLENBQ2YsQ0FBYSxFQUFFLE1BQU1RLEdBQU8sQ0FFZCxRQUFRLE1BQU0sMENBQTJDQSxDQUFHLENBQzFFLENBQWEsQ0FDYixFQUtVLE9BQ0VFLEVBREVELEVBQ2lCRixFQUVBRixDQUZNLEVBTXBCLEVBQ2pCLENBQ08sRUFFS1EsR0FBNkIsQ0FBQyxDQUNsQyxPQUFBcEMsRUFDQSxRQUFBRCxDQUNELEVBQUVzQyxJQUFVLENBQ1B4RCxFQUFjLFFBQVEsVUFJcEJBLEVBQWMsUUFBUSxVQUFVLFVBQVlGLEVBQzlDb0IsSUFFQUMsRUFBTyxJQUFJLE1BQU1uQixFQUFjLFFBQVEsVUFBVSxPQUFPLENBQUMsRUFFbER3RCxHQUFTQSxFQUFNLGtDQUd4QnJDLEVBQU8sSUFBSSxNQUFNcUMsRUFBTSxPQUFPLENBQUMsRUFFL0J0QyxFQUFRc0MsQ0FBSyxDQUV2QixFQUVZQyxFQUFxQixDQUFDMUMsRUFBTUwsRUFBVWdELEtBQW9CekMsSUFBUyxDQUN2RSxHQUFJQSxFQUFLLE9BQVNQLEVBQVMsUUFDekIsTUFBTSxJQUFJLE1BQU0scUJBQXFCQSxFQUFTLE9BQU8sSUFBSUUsRUFBbUJGLEVBQVMsT0FBTyxDQUFDLFFBQVFLLENBQUksV0FBV0UsRUFBSyxNQUFNLEVBQUUsRUFHbkksR0FBSUEsRUFBSyxPQUFTUCxFQUFTLFFBQ3pCLE1BQU0sSUFBSSxNQUFNLG9CQUFvQkEsRUFBUyxPQUFPLElBQUlFLEVBQW1CRixFQUFTLE9BQU8sQ0FBQyxRQUFRSyxDQUFJLFdBQVdFLEVBQUssTUFBTSxFQUFFLEVBR2xJLE9BQU8sSUFBSSxRQUFRLENBQUNDLEVBQVNDLElBQVcsQ0FDdEMsTUFBTXdDLEVBQVlKLEdBQTJCLEtBQUssS0FBTSxDQUN0RCxRQUFBckMsRUFDQSxPQUFBQyxDQUNaLENBQVcsRUFDREYsRUFBSyxLQUFLMEMsQ0FBUyxFQUNuQkQsRUFBZ0IsWUFBWSxHQUFHekMsQ0FBSSxDQUM3QyxDQUFTLENBQ1QsRUFFWTJDLEdBQWlCLENBQ3JCLFNBQVUsQ0FDUixRQUFTLENBQ1Asa0JBQW1CekIsRUFBVUcsRUFBeUIsQ0FDdkQsQ0FDRixFQUNELFFBQVMsQ0FDUCxVQUFXSCxFQUFVTSxDQUFpQixFQUN0QyxrQkFBbUJOLEVBQVVNLENBQWlCLEVBQzlDLFlBQWFnQixFQUFtQixLQUFLLEtBQU0sY0FBZSxDQUN4RCxRQUFTLEVBQ1QsUUFBUyxDQUNyQixDQUFXLENBQ0YsRUFDRCxLQUFNLENBQ0osWUFBYUEsRUFBbUIsS0FBSyxLQUFNLGNBQWUsQ0FDeEQsUUFBUyxFQUNULFFBQVMsQ0FDckIsQ0FBVyxDQUNGLENBQ1QsRUFDWUksRUFBa0IsQ0FDdEIsTUFBTyxDQUNMLFFBQVMsRUFDVCxRQUFTLENBQ1YsRUFDRCxJQUFLLENBQ0gsUUFBUyxFQUNULFFBQVMsQ0FDVixFQUNELElBQUssQ0FDSCxRQUFTLEVBQ1QsUUFBUyxDQUNWLENBQ1QsRUFDTSxPQUFBNUQsRUFBWSxRQUFVLENBQ3BCLFFBQVMsQ0FDUCxJQUFLNEQsQ0FDTixFQUNELFNBQVUsQ0FDUixJQUFLQSxDQUNOLEVBQ0QsU0FBVSxDQUNSLElBQUtBLENBQ04sQ0FDVCxFQUNhbEMsRUFBVzNCLEVBQWU0RCxHQUFnQjNELENBQVcsQ0FDbEUsRUFJSVAsRUFBTyxRQUFVSyxFQUFTLE1BQU0sQ0FDcEMsTUFDSUwsRUFBTyxRQUFVLFdBQVcsT0FFaEMsQ0FBQyx1QkNqdkNELE1BQU1vRSxDQUFNLENBQ1YsYUFBYyxDQUNaLEtBQUssU0FBVyxHQUNoQixLQUFLLFFBQVUsR0FDZixLQUFLLE1BQVEsR0FDYixLQUFLLHVCQUF5QixHQUM5QixLQUFLLFlBQWMsR0FDbkIsUUFBUSxJQUFJLFlBQVksQ0FDMUIsQ0FFQSxhQUFhQyxFQUFXLENBQ2xCLElBQUFDLEVBQWdCLE9BQU8sYUFBYSxNQUFNLEtBQU1ELENBQVMsRUFDM0RFLEVBQWdCLG1CQUFtQixPQUFPRCxDQUFhLENBQUMsRUFDbkQsT0FBQUMsQ0FDVCxDQUVBLFdBQVdDLEVBQWdCLENBU3JCQSxFQUFlLFFBQVUsUUFFdkJBLEVBQWUsZ0JBQ0ZBLEVBQUEsZUFBZSxRQUFTQyxHQUFTLENBQzFDLEdBQUFBLEVBQUssTUFBUSxnQkFBaUIsQ0FDaEMsSUFBSUMsRUFBUUQsRUFBSyxNQUFNLFFBQVEsYUFBYyxFQUFFLEVBQy9DLEtBQUssU0FBU0MsQ0FBSyxDQUNyQixDQUNJRCxFQUFLLE1BQVEsU0FDVixLQUFBLFNBQVNBLEVBQUssS0FBSyxDQUMxQixDQUNELENBRVAsQ0FFQSxlQUFlRCxFQUFnQixDQUM3QixPQUFRQSxFQUFlLE9BQVEsQ0FDN0IsSUFBSyxPQUNDLEdBQUFBLEVBQWUsSUFBSSxTQUFVLGlDQUFpQyxHQUFLQSxFQUFlLFlBQVksSUFBSSxPQUFPLENBQ3pHLElBQUlHLEVBQU8sS0FBSyxNQUNkLEtBQUssYUFBYSxJQUFJLFdBQVdILEVBQWUsWUFBWSxJQUFJLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQSxFQUV0RSxLQUFLLHdCQUNBSSxFQUFBLFFBQVEsTUFBTSxJQUFJLENBQ3hCLHVCQUF3QixLQUFLLFVBQVVELEVBQUssc0JBQXNCLENBQUEsQ0FDbkUsQ0FFUCxDQUNBLEtBQ0osQ0FFRixDQUVBLFNBQVNFLEVBQU8sQ0FDVixLQUFLLE9BQVNBLElBQ2hCLEtBQUssTUFBUUEsRUFDYkQsRUFBQUEsUUFBZ0IsTUFBTSxJQUFJLENBQUUsTUFBQUMsQ0FBYyxDQUFBLEVBRTlDLENBRUEsU0FBU0gsRUFBTyxDQUNOLFFBQUEsSUFBSSxhQUFjQSxFQUFPLENBQUMsS0FBSyxTQUFTLEtBQU1ELEdBQVNBLEdBQVFDLENBQUssQ0FBQyxFQUN4RUEsSUFDQSxLQUFLLFNBQVMsS0FBTUQsR0FBU0EsR0FBUUMsQ0FBSyxJQUN4QyxLQUFBLFNBQVMsS0FBS0EsQ0FBSyxFQUV4QkUsVUFBZ0IsTUFBTSxJQUFJLENBQUUsVUFBV0YsQ0FBTyxDQUFBLEdBRWxELENBQ0EsVUFBVyxDQUNULE9BQU8sS0FBSyxLQUNkLENBQ0EsVUFBVyxDQUNGLE9BQUEsS0FBSyxTQUFTLE9BQVMsS0FBSyxTQUFTLEtBQUssU0FBUyxPQUFTLENBQUMsRUFBSSxFQUMxRSxDQUNBLE9BQVEsQ0FDTixHQUFJLE1BQUssUUFDVCxNQUFLLFFBQVUsR0FDWCxJQUFBSSxFQUFNLENBQUMscUJBQXNCLHNCQUFzQixFQUN2REMsYUFBbUIsb0JBQW9CLFlBQ3JDLEtBQUssV0FBVyxLQUFLLElBQUksRUFDekIsQ0FBRSxLQUFNRCxDQUFJLEVBQ1osQ0FBQyxnQkFBZ0IsQ0FBQSxFQUduQkMsYUFBbUIsZ0JBQWdCLFlBQ2pDLEtBQUssZUFBZSxLQUFLLElBQUksRUFDN0IsQ0FBRSxLQUFNRCxDQUFJLEVBQ1osQ0FBQyxhQUFhLENBQUEsRUFJaEIsS0FBSyxTQUFTRixFQUFRLFFBQVEsTUFBTSxJQUFLLFdBQVcsQ0FBQyxFQUV2RCxDQUNBLFlBQWEsQ0FDWCxHQUFJLEtBQUssTUFBTSxTQUFTLEdBQUssR0FDckIsS0FBQSx5REFFVixDQUVGLENDM0dBLE1BQU1JLENBQVMsQ0FDYixZQUFZQyxFQUFTckQsRUFBUWtELEVBQUtJLEVBQVFDLEVBQVlDLEVBQWEsQ0FDakUsS0FBSyxRQUFVSCxFQUNmLEtBQUssT0FBU3JELEVBQ2QsS0FBSyxJQUFNa0QsRUFDWCxLQUFLLE9BQVNJLEVBQ2QsS0FBSyxXQUFhQyxFQUNsQixLQUFLLFlBQWNDLENBQ3JCLENBQ0EsU0FBUzdELEVBQU0sQ0FDYixPQUFPLEtBQUssUUFBUSxNQUFNLEtBQU0sR0FBR0EsQ0FBSSxDQUN6QyxDQUNGLENBQ0EsTUFBTThELENBQVEsQ0FDWixZQUFZQyxFQUFVQyxFQUFRQyxFQUFjLENBQ3RDLEdBQUEsQ0FDRixLQUFLLFlBQWNGLEVBQVMsWUFDNUIsS0FBSyxlQUFpQkEsRUFBUyxlQUMxQixLQUFBLGVBQWlCQSxFQUFTLGdCQUFrQixLQUM1QyxLQUFBLFdBQWEsS0FBSyxlQUFpQixFQUFJLEVBQzVDLEtBQUssT0FBU0MsRUFFZCxLQUFLLFNBQVcsQ0FBQyxDQUFFLE9BQUEzRCxFQUFRLElBQUFrRCxFQUFLLE9BQUFJLEVBQVEsV0FBQUMsRUFBWSxZQUFBQyxDQUFBLElBQWtCLElBQUlKLEVBQVMsS0FBTXBELEVBQVFrRCxFQUFLSSxFQUFRQyxFQUFZQyxDQUFXLEVBQ3JJLEtBQUssYUFBZUksRUFFcEIsS0FBSyxZQUFjLEVBQ25CLEtBQUssY0FBZ0IsRUFDckIsS0FBSyxVQUFZLEVBQ2pCLEtBQUssV0FBYSxHQUNsQixLQUFLLEtBQU8sQ0FDVixXQUFZLENBQUUsT0FBUSxNQUFPLElBQUssU0FBUyxLQUFLLFVBQVUsbUJBQW9CLEVBQzlFLFFBQVMsQ0FBRSxPQUFRLE1BQU8sSUFBSyxTQUFTLEtBQUssVUFBVSxzQkFBdUIsRUFDOUUsaUJBQWtCLENBQUUsT0FBUSxNQUFPLElBQUssNEJBQTZCLE9BQVEsRUFBSyxDQUFBLEVBR3BGLEtBQUssVUFBWSxDQUNmLE1BQU8sQ0FDTCxPQUFRLE1BQ1IsSUFBSyxTQUFTLEtBQUssVUFBVSxTQUFTLEtBQUssWUFBWSxrQkFDekQsRUFDQSxLQUFNLENBQ0osT0FBUSxNQUNSLElBQUssU0FBUyxLQUFLLFVBQVUsU0FBUyxLQUFLLFlBQVksdUJBQ3ZELE9BQVEsQ0FBQyxJQUFJLENBQ2YsRUFDQSxLQUFNLENBQ0osT0FBUSxNQUNSLElBQUssU0FBUyxLQUFLLFVBQVUsU0FBUyxLQUFLLFlBQVksdUJBQ3ZELE9BQVEsQ0FBQyxJQUFJLEVBQ2IsWUFBYSxTQUNmLEVBQ0EsUUFBUyxDQUNQLE9BQVEsTUFDUixJQUFLLFNBQVMsS0FBSyxVQUFVLFNBQVMsS0FBSyxZQUFZLHNCQUN2RCxPQUFRLENBQUMsSUFBSSxDQUNmLEVBQ0EsUUFBUyxDQUNQLE9BQVEsTUFDUixJQUFLLFNBQVMsS0FBSyxVQUFVLFNBQVMsS0FBSyxZQUFZLG9CQUN6RCxFQUNBLFVBQVcsQ0FDVCxPQUFRLE1BQ1IsSUFBSyxTQUFTLEtBQUssVUFBVSxTQUFTLEtBQUssWUFBWSx5QkFDdkQsT0FBUSxDQUFDLElBQUksQ0FDZixFQUNBLFdBQVksQ0FDVixPQUFRLE1BQ1IsSUFBSyxTQUFTLEtBQUssVUFBVSxTQUFTLEtBQUssWUFBWSx3QkFDdkQsWUFBYTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEscURBWWYsQ0FBQSxFQUVGLEtBQUssU0FBVyxDQUNkLEtBQU0sQ0FDSixPQUFRLE1BQ1IsSUFBSyxTQUFTLEtBQUssVUFBVSxTQUFTLEtBQUssWUFBWSxzQkFDdkQsT0FBUSxDQUFDLElBQUksQ0FDZixFQUNBLGlCQUFrQixDQUNoQixPQUFRLE1BQ1IsSUFBSyxTQUFTLEtBQUssVUFBVSxTQUFTLEtBQUssWUFBWSwwQkFDdkQsT0FBUSxDQUFDLElBQUksQ0FDZixFQUNBLGNBQWUsQ0FDYixPQUFRLE1BQ1IsSUFBSyxTQUFTLEtBQUssVUFBVSxTQUFTLEtBQUssWUFBWSwyQkFDdkQsT0FBUSxDQUFDLElBQUksQ0FDZixFQUNBLGtCQUFtQixDQUNqQixPQUFRLE1BQ1IsSUFBSyxTQUFTLEtBQUssVUFBVSxTQUFTLEtBQUssWUFBWSwwQ0FDdkQsT0FBUSxDQUFDLEtBQU0sUUFBUSxFQUN2QixXQUFZLE1BQ2QsRUFDQSxrQkFBbUIsQ0FDakIsT0FBUSxNQUNSLElBQUssU0FBUyxLQUFLLFVBQVUsU0FBUyxLQUFLLFlBQVksaURBQ3ZELE9BQVEsQ0FBQyxLQUFNLFFBQVEsRUFDdkIsWUFDRSxnSEFDSixFQUNBLG1CQUFvQixDQUNsQixPQUFRLE1BQ1IsSUFBSyxTQUFTLEtBQUssVUFBVSxTQUFTLEtBQUssWUFBWSxpQ0FDdkQsT0FBUSxDQUFDLElBQUksQ0FDZixFQUNBLGtCQUFtQixDQUNqQixPQUFRLE1BQ1IsSUFBSyxTQUFTLEtBQUssVUFBVSxTQUFTLEtBQUssWUFBWSx5Q0FDdkQsT0FBUSxDQUFDLEtBQU0sUUFBUSxFQUN2QixXQUFZLE1BQ2QsRUFDQSxrQkFBbUIsQ0FDakIsT0FBUSxNQUNSLElBQUssU0FBUyxLQUFLLFVBQVUsU0FBUyxLQUFLLFlBQVksZ0RBQ3ZELE9BQVEsQ0FBQyxLQUFNLFFBQVEsRUFDdkIsWUFDRSxnSEFDSixFQUNBLEtBQU0sQ0FDSixPQUFRLE1BQ1IsSUFBSyxTQUFTLEtBQUssVUFBVSxTQUFTLEtBQUssWUFBWSxzQkFDdkQsT0FBUSxDQUFDLElBQUksQ0FDZixFQUNBLFVBQVcsQ0FDVCxPQUFRLE1BQ1IsSUFBSyxTQUFTLEtBQUssVUFBVSxTQUFTLEtBQUssWUFBWSx3QkFDdkQsT0FBUSxDQUFDLElBQUksQ0FDZixFQUNBLFdBQVksQ0FDVixPQUFRLE1BQ1IsSUFBSyxTQUFTLEtBQUssVUFBVSxTQUFTLEtBQUssWUFBWSx1QkFDdkQsWUFBYTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsdURBWWYsRUFDQSxLQUFNLENBQ0osT0FBUSxNQUNSLElBQUssU0FBUyxLQUFLLFVBQVUsU0FBUyxLQUFLLFlBQVksZ0JBQ3pELEVBQ0EsT0FBUSxDQUNOLE9BQVEsTUFDUixJQUFLLFNBQVMsS0FBSyxVQUFVLG1DQUM3QixPQUFRLENBQUMsSUFBSSxDQUNmLENBQUEsRUFHRixDQUNFLGNBQ0EsWUFDQSxpQkFDQSxlQUNBLFVBQ0EsVUFDQSxXQUNBLGdCQUNBLGdCQUNBLGNBQ0EsZUFDQSxtQkFDQSxvQkFDQSxlQUNBLGVBQ0EsZ0JBQUEsRUFDQSxRQUFvQkMsR0FBQSxDQUNwQixLQUFLLFNBQVNBLENBQVEsRUFBSSxLQUFLLHlCQUF5QkEsQ0FBUSxDQUFBLENBQ2pFLEVBRU8sUUFBQSxJQUFJLGVBQWdCLElBQUksUUFDekI3QixFQUFPLENBQ04sUUFBQSxJQUFJLG1CQUFvQkEsQ0FBSyxDQUN2QyxDQUNGLENBQ0EseUJBQXlCOEIsRUFBZSxDQUMvQixNQUFBLENBQ0wsU0FBVSxLQUFLLFNBQVMsQ0FDdEIsT0FBUSxNQUNSLElBQUssU0FBUyxLQUFLLFVBQVUsU0FBUyxLQUFLLFlBQVksa0JBQWtCQSxDQUFhLFNBQ3RGLE9BQVEsQ0FBQyxJQUFJLENBQUEsQ0FDZCxFQUNELFNBQVUsS0FBSyxTQUFTLENBQ3RCLE9BQVEsTUFDUixJQUFLLFNBQVMsS0FBSyxVQUFVLFNBQVMsS0FBSyxZQUFZLGtCQUFrQkEsQ0FBYSxpQkFDdEYsT0FBUSxDQUFDLEtBQU0sUUFBUSxFQUN2QixXQUFZLE1BQUEsQ0FDYixFQUNELGNBQWUsS0FBSyxTQUFTLENBQzNCLE9BQVEsTUFDUixJQUFLLFNBQVMsS0FBSyxVQUFVLFNBQVMsS0FBSyxZQUFZLGtCQUFrQkEsQ0FBYSx3QkFDdEYsT0FBUSxDQUFDLEtBQU0sUUFBUSxFQUN2QixZQUFhLGdIQUFBLENBQ2QsQ0FBQSxDQUVMLENBQ0EsTUFBTSxrQkFBbUIsQ0FFbkIsR0FESSxRQUFBLElBQUksZ0JBQWlCLEtBQUssYUFBYSxFQUMxQyxLQUFLLGNBT1IsT0FBTyxLQUFLLGNBUFcsQ0FDdkIsSUFBSUMsRUFBSSxNQUFNLEtBQUssTUFBTSxLQUFLLEtBQUssZ0JBQWdCLEVBQ25ELE9BQUlBLElBQ0YsS0FBSyxjQUFnQkEsR0FFaEJBLENBQUEsQ0FJWCxDQUNBLGFBQWFoQyxFQUFLLENBRVQsTUFBQUEsR0FEUTtBQUFBLEVBRWYsUUFBUSxJQUFJQSxDQUFHLEVBQ1RBLENBQ1IsQ0FDQSxNQUFNLG1CQUFtQm1CLEVBQUtJLEVBQVFVLEVBQVUsSUFBTyxDQUM3QyxRQUFBLElBQUkscUNBQXNDQSxDQUFPLEVBQ3JELElBQUFDLEVBQWEsSUFBSSxnQkFDUkEsRUFBVyxPQUN4QixJQUFJQyxFQUFLLElBQUksUUFBUSxTQUFVdEUsRUFBU0MsRUFBUSxDQUM5QyxXQUFXLElBQU0sQ0FDZm9FLEVBQVcsTUFBTSxFQUNqQnBFLEVBQU8saUJBQWlCLEdBQ3ZCbUUsQ0FBTyxDQUFBLENBQ1gsRUFDR0csRUFBSyxJQUFJLFFBQVEsU0FBVXZFLEVBQVNDLEVBQVEsQ0FDOUMsTUFBTXFELEVBQUtJLENBQU0sRUFDZCxLQUFNYyxHQUFReEUsRUFBUXdFLENBQUcsQ0FBQyxFQUMxQixNQUFPeEMsR0FBUS9CLEVBQU8rQixDQUFHLENBQUMsQ0FBQSxDQUM5QixFQUNELE9BQU8sUUFBUSxLQUFLLENBQUNzQyxFQUFJQyxDQUFFLENBQUMsQ0FDOUIsQ0FDQSxNQUFNRSxFQUFHQyxFQUFNLENBQUUsS0FBTSxLQUFNLE9BQVEsQ0FBQSxDQUFHLEVBQUdDLEVBQVMsR0FBTUMsRUFBVyxHQUFPLENBQ3RFQSxHQUFZLEdBQ2QsS0FBSyxZQUFjLEVBRWQsS0FBQSxjQUVILEdBQUEsQ0FDRixHQUFJLENBQUMsS0FBSyxnQkFBa0IsQ0FBQyxLQUFLLFlBQzFCLEtBQUEsNkJBRVIsR0FBSSxDQUFDLEtBQUssZ0JBQWtCLENBQUMsS0FBSyxlQUMxQixLQUFBLGdDQUVSLElBQUlDLEVBQVNKLEVBQUUsSUFDZixHQUFJQSxFQUFFLE9BQVEsQ0FDUixHQUFBLENBQUNDLEVBQUksZUFBZSxRQUFRLEVBQ3ZCLE9BQUEsS0FBSyxhQUFhLDBDQUEwQyxFQUNuRUQsRUFBQSxPQUFPLFFBQVNLLEdBQVksQ0FDNUIsR0FBSSxDQUFDSixFQUFJLE9BQU8sZUFBZUksQ0FBTyxFQUNwQyxPQUFPLEtBQUssYUFDVjtBQUFBLDBCQUNZRCxDQUFNO0FBQUEsaUNBQ0NKLEVBQUUsT0FBTyxVQUFVO0FBQUEsa0NBQ2xCQyxFQUFJLE9BQU8sVUFBVTtBQUFBLHlCQUFBLEVBSXBDRyxFQUFBQSxFQUFPLFFBQVEsSUFBSUMsQ0FBTyxJQUFLSixFQUFJLE9BQU9JLENBQU8sQ0FBQyxDQUFBLENBQzVELENBQ0gsQ0FDQSxJQUFJeEIsRUFBTSxJQUFJLElBQUl1QixFQUFRLEtBQUssTUFBTSxFQUNqQ0UsRUFBTyxJQUFJLFNBQ1hyQixFQUFTLENBQ1gsT0FBUWUsRUFBRSxPQUNWLFlBQWEsU0FBQSxFQUVmLEdBQUlDLEVBQUksS0FBTSxDQUNaLEdBQUksQ0FBQyxNQUFNLFFBQVFBLEVBQUksSUFBSSxFQUNsQixPQUFBLEtBQUssYUFBYSx5QkFBeUIsRUFFaERBLEVBQUEsS0FBSyxRQUFTSSxHQUFZLENBQzVCQyxFQUFLLElBQUlELEVBQVEsS0FBTUEsRUFBUSxLQUFLLENBQUEsQ0FDckMsQ0FDSCxDQUNBLE9BQVFMLEVBQUUsT0FBUSxDQUNoQixJQUFLLE1BQ0MsS0FBSyxlQUNQbkIsRUFBSSxhQUFhLElBQUksaUJBQWtCLEtBQUssY0FBYyxHQUUxREEsRUFBSSxhQUFhLElBQUksY0FBZSxLQUFLLFdBQVcsRUFDcERBLEVBQUksYUFBYSxJQUFJLGlCQUFrQixLQUFLLGNBQWMsR0FFNUQsTUFDRixJQUFLLE1BQ0MsS0FBSyxlQUNGeUIsRUFBQSxJQUFJLGlCQUFrQixLQUFLLGNBQWMsR0FFekNBLEVBQUEsSUFBSSxjQUFlLEtBQUssV0FBVyxFQUNuQ0EsRUFBQSxJQUFJLGlCQUFrQixLQUFLLGNBQWMsR0FFaERyQixFQUFPLEtBQU9xQixFQUNkLE1BQ0YsSUFBSyxPQUNDLEtBQUssZUFDRkEsRUFBQSxJQUFJLGlCQUFrQixLQUFLLGNBQWMsR0FFekNBLEVBQUEsSUFBSSxjQUFlLEtBQUssV0FBVyxFQUNuQ0EsRUFBQSxJQUFJLGlCQUFrQixLQUFLLGNBQWMsR0FFaERyQixFQUFPLEtBQU9xQixFQUNkLEtBQ0osQ0FDQSxlQUFRLElBQUksYUFBY3pCLEVBQUksS0FBTW1CLEVBQUUsU0FBUyxHQUN2Q0EsRUFBRSxlQUFlLFNBQVMsRUFDOUIsS0FBSyxtQkFBbUJuQixFQUFJLEtBQU1JLEVBQVFlLEVBQUUsT0FBTyxFQUNuRCxNQUFNbkIsRUFBSSxLQUFNSSxDQUFNLEdBRXZCLEtBQU01QixHQUFhLENBQ2QsR0FBQUEsRUFBUyxRQUFVLElBQ3JCLEtBQU0scUJBQXVCQSxFQUc3QixPQUFBMkMsRUFBRSxZQUNGQSxFQUFFLFlBQWMsUUFDaEIzQyxFQUFTLFFBQVEsSUFBSSxjQUFjLEdBQUssWUFFakNBLEVBQVMsT0FFWEEsRUFBUyxLQUFBLEVBQU8sS0FBTWtELEdBQVEsQ0FFL0IsR0FESixRQUFRLElBQUlBLENBQUcsRUFDWFAsR0FBSyxLQUFLLEtBQUssaUJBQ1YsT0FBQU8sRUFFTCxHQUFBQSxFQUFJLFFBQVUsUUFDaEIsV0FBSyxXQUFhLEdBQ1o7QUFBQSxFQUFzQkEsRUFBSSxRQUU5QixHQUFBQSxFQUFJLFFBQVUsVUFDaEIsS0FBTTtBQUFBLEVBQTZCQSxFQUFJLFFBRXpDLE9BQU9BLEVBQUksSUFBQSxDQUNaLENBQUEsQ0FDRixFQUNBLE1BQU81QyxHQUFVLENBQ2hCLElBQUk2QyxFQUFZUixFQUFFLGVBQWUsV0FBVyxFQUFJQSxFQUFFLFVBQVksS0FBSyxVQUNuRSxHQUFJRSxHQUFVLEtBQUssV0FBYSxLQUFLLGFBQWUsQ0FBQyxLQUFLLFdBQVksQ0FDcEUsUUFBUSxJQUFJLGdCQUFpQixLQUFLLFlBQWEsSUFBS00sQ0FBUyxFQUM3RCxJQUFJQyxFQUFPLEtBQ1gsT0FBTyxJQUFJLFFBQVEsU0FBVWxGLEVBQVNDLEVBQVEsQ0FDNUMsV0FBVyxVQUFZLENBQ3JCaUYsRUFDRyxNQUFNVCxFQUFHQyxFQUFLQyxFQUFRLEVBQUksRUFDMUIsS0FBTXhCLEdBQVNuRCxFQUFRbUQsQ0FBSSxDQUFDLEVBQzVCLE1BQU9mLEdBQVUsQ0FDaEJuQyxFQUFPbUMsQ0FBSyxDQUFBLENBQ2IsR0FDRixHQUFJLENBQUEsQ0FDUixDQUFBLEtBRU0sUUFBQSxLQUFLLGFBQWFBLENBQUssQ0FDaEMsQ0FDRCxRQUNJQSxFQUFPLENBQ04sZUFBQSxJQUFJLHVDQUF3Q0EsQ0FBSyxFQUNsRCxLQUFLLGFBQWEsdUNBQXdDQSxDQUFLLENBQ3hFLENBQ0YsQ0FDRixDQ3RYQSxTQUFTSixFQUFJRyxFQUFLLENBQ2hCLGNBQVEsTUFBTUEsQ0FBRyxFQUNYQSxDQUNSLENBQ0EsU0FBU2dELEVBQVVDLEVBQU0sQ0FDbkJBLElBQVMsZ0JBQWtCQSxJQUFTLGdCQUN0Q3BELEVBQUksaUNBQWlDLENBRXpDLENBQ0EsTUFBTXFELENBQUssQ0FDVCxZQUFZQyxFQUFLQyxFQUFNSCxFQUFNdEIsRUFBVTBCLEVBQVEsQ0FDN0NMLEVBQVVDLENBQUksRUFDZCxLQUFLLElBQU1FLEVBQ1gsS0FBSyxLQUFPRixFQUNaLEtBQUssS0FBT0csRUFDWixLQUFLLFNBQVd6QixFQUNoQixLQUFLLE9BQVMwQixFQUVULEtBQUEsYUFBZSxLQUFLLG1CQUNwQixLQUFBLHFCQUF1QixLQUFLLDJCQUVqQyxLQUFLLFFBQVUsR0FFZixLQUFLLEtBQU8sQ0FDVixpQkFBa0IsQ0FDaEIsT0FBUSxPQUNSLElBQUssK0JBQ0wsT0FBUSxHQUNSLFVBQVcsRUFDWCxRQUFTLEdBQ1gsRUFDQSxpQkFBa0IsQ0FDaEIsT0FBUSxPQUNSLElBQUssVUFBVSxLQUFLLEtBQUssUUFBUSxXQUFXLEtBQUssWUFBWSxvQkFDN0QsS0FBTSxLQUFLLHFCQUNYLE9BQVEsR0FDUixVQUFXLEVBQ1gsUUFBUyxHQUNYLEVBQ0EsYUFBYyxDQUNaLE9BQVEsT0FDUixJQUFLLDZDQUNMLE9BQVEsR0FDUixVQUFXLEVBQ1gsUUFBUyxHQUNYLENBQUEsQ0FFSixDQUNBLDBCQUEyQixDQUN6QixHQUFJLEtBQUssS0FBSyxVQUFZLE9BQVMsS0FBSyxNQUFRLGVBQzlDLE9BQU8sS0FBSyxPQUVaLEdBQUEsS0FBSyxLQUFLLFVBQVksT0FDdEIsS0FBSyxLQUFLLFVBQVksT0FDdEIsS0FBSyxLQUFLLFVBQVksTUFFZixNQUFBLENBQ0wsSUFBSyxLQUFLLElBQ1YsZ0JBQWlCLEVBQUEsRUFHbkJ4RCxFQUFJLHVDQUF1QyxDQUUvQyxDQUNBLGtCQUFtQixDQUNiLEdBQUEsS0FBSyxNQUFRLGVBQ1IsTUFBQSxlQUNULEdBQVcsS0FBSyxLQUFLLFVBQVksT0FBUyxLQUFLLEtBQUssVUFBWSxNQUN2RCxNQUFBLGVBQ0UsR0FBQSxLQUFLLEtBQUssVUFBWSxNQUN4QixNQUFBLGVBRVBBLEVBQUksK0JBQStCLENBRXZDLENBQ0EsT0FBUSxDQUNOLE9BQU8sS0FBSyxtQkFDVCxLQUFLLElBQU0sS0FBSyxhQUFjLENBQUEsRUFDOUIsS0FBSyxJQUFNLEtBQUssYUFBYyxDQUFBLENBQ25DLENBQ0Esa0JBQW1CLENBQ2pCLElBQUlrRCxFQUFPLEtBQ1gsU0FBU08sRUFBVUMsRUFBVSxDQUMzQixHQUFJUixFQUFLLEtBQUssVUFBWSxPQUFTQSxFQUFLLEtBQUssVUFBWSxNQUNoRCxPQUFBUSxFQUNFLEdBQUFSLEVBQUssS0FBSyxVQUFZLE1BQzNCLE9BQUFBLEVBQUssTUFBUSxlQUNSLENBQUUsTUFBTyxDQUFDUSxDQUFRLEdBRWxCLENBQUUsTUFBT0EsR0FLZDFELEVBQUEsNENBQThDa0QsRUFBSyxLQUFLLFFBQVEsQ0FFeEUsQ0FFUyxTQUFBUyxFQUFtQkMsRUFBZUMsRUFBVyxDQUNwRCxJQUFJQyxFQUFRRixFQUFjLFlBQVksS0FBTUcsR0FDbkNBLEVBQVcsUUFBVSxPQUFPRixDQUFTLENBQzdDLEVBQ0csT0FBQUMsRUFBY0EsRUFBTSxHQUNqQixDQUNULENBRUksSUFBQUUsRUFDSixHQUFJLEtBQUssS0FBSyxVQUFZLE9BQVMsS0FBSyxNQUFRLGVBQWdCLENBQzlELFFBQVEsSUFBSSx1Q0FBd0MsS0FBSyxLQUFLLGlCQUFpQixJQUFJLEVBQ25GLElBQUlDLEVBQW9CLENBQUEsRUFDeEIsS0FBSyxLQUFLLGlCQUFpQixLQUFLLFFBQVEsUUFBU0MsR0FBWSxDQUNuREEsRUFBQSxZQUFZLFFBQVNILEdBQWUsQ0FDMUNFLEVBQWtCLEtBQUssT0FBT0YsRUFBVyxXQUFXLENBQUMsQ0FBQSxDQUN0RCxDQUFBLENBQ0YsRUFDREMsRUFBUyxLQUFLLEtBQ1gsTUFBTSxLQUFLLEtBQUssaUJBQWtCLENBQ2pDLEtBQU0sQ0FDSix1QkFBd0IsS0FBSyxLQUFLLGlCQUFpQixLQUFLLFlBQ3hELGtCQUFBQyxDQUNGLENBQUEsQ0FDRCxFQUNBLEtBQU1MLElBQ0wsS0FBSyxLQUFLLGlCQUFpQixLQUFLLFFBQVVBLEVBQWMsaUJBQWlCLEdBQ2pFLFFBQUEsSUFBSSxxQkFBc0JBLENBQWEsRUFDL0MsS0FBSyxLQUFLLGlCQUFpQixLQUFLLFFBQVEsUUFBU00sR0FBWSxDQUNuREEsRUFBQSxZQUFZLFFBQVNILEdBQWUsQ0FDMUNBLEVBQVcsUUFBVUosRUFBbUJDLEVBQWVHLEVBQVcsV0FBVyxDQUFBLENBQzlFLENBQUEsQ0FDRixFQUNNLEtBQUssS0FBSyxNQUFNLEtBQUssS0FBSyxpQkFBa0IsQ0FDakQsS0FBTSxLQUFLLEtBQUssaUJBQWlCLElBQUEsQ0FDbEMsRUFDRixDQUFBLE1BRUhDLEVBQVMsS0FBSyxLQUFLLE1BQU0sS0FBSyxLQUFLLGlCQUFrQixDQUNuRCxLQUFNLEtBQUssS0FBSyxpQkFBaUIsSUFBQSxDQUNsQyxFQUdJLE9BQUFBLEVBQU8sS0FBTU4sR0FBYSxDQUMvQixLQUFLLFFBQVEsaUJBQW1CLENBQzlCLEtBQU0sS0FBSyxLQUFLLGlCQUFpQixLQUNqQyxTQUFVRCxFQUFVQyxDQUFRLENBQUEsQ0FDOUIsQ0FDRCxDQUNILENBQ0EsY0FBZSxDQUNULElBQUFTLEVBQVUsS0FBSyxRQUFRLGlCQUFpQixTQUFTLE1BQU0sSUFBS0MsR0FBT0EsRUFBRyxNQUFNLEVBQzVFckIsRUFBTyxDQUNULGtCQUFtQixRQUNuQixRQUFBb0IsRUFDQSxVQUFXLEVBQUEsRUFFYixPQUFPLEtBQUssS0FBSyxNQUFNLEtBQUssS0FBSyxhQUFjLENBQUUsS0FBQXBCLENBQVksQ0FBQSxFQUFFLEtBQU1XLEdBQWEsQ0FDaEYsS0FBSyxRQUFRLGFBQWUsQ0FDMUIsS0FBQVgsRUFDQSxTQUFVVyxDQUFBLENBQ1osQ0FDRCxDQUNILENBQ0EsY0FBZSxDQUNiLGFBQWEsS0FBSyxDQUNoQixJQUFLLEtBQUssUUFBUSxhQUFhLFNBQVMsSUFDeEMsUUFBUyxTQUNULFNBQVUsQ0FDUixRQUFTLFFBQ1QsWUFBYSxLQUFLLFFBQVEsYUFBYSxTQUFTLFlBQ2hELG1CQUFvQixDQUNsQixNQUFPLFNBQVMsS0FBSyxTQUFTLFdBQVcsRUFDekMsVUFBVyxTQUFTLEtBQUssU0FBUyxTQUFTLENBQzdDLEVBQ0EsUUFBUyxLQUFLLFNBQVMsU0FDekIsQ0FBQSxDQUNELEVBQ0csSUFBQVcsRUFFQW5CLEVBQU8sS0FDWCxTQUFTb0IsR0FBZSxDQUN0QixPQUFPcEIsRUFBSyxLQUFLLE1BQU1BLEVBQUssS0FBSyxLQUFLLFlBQWEsQ0FDakQsT0FBUSxDQUFFLEdBQUlBLEVBQUssUUFBUSxhQUFhLFNBQVMsV0FBWSxDQUFBLENBQzlELENBQ0gsQ0FDQSxTQUFTcUIsR0FBcUIsQ0FDNUIsT0FBT3JCLEVBQUssS0FBSyxNQUFNQSxFQUFLLEtBQUssS0FBSyxrQkFBbUIsQ0FDdkQsT0FBUSxDQUFFLEdBQUlBLEVBQUssUUFBUSxhQUFhLFNBQVMsV0FBWSxDQUFBLENBQzlELENBQ0gsQ0FDQSxTQUFTc0IsR0FBa0IsQ0FDekIsT0FBT3RCLEVBQUssS0FBSyxNQUFNQSxFQUFLLEtBQUssS0FBSyxlQUFnQixDQUNwRCxPQUFRLENBQ04sT0FBUUEsRUFBSyxRQUFRLGlCQUFpQixTQUFTLE1BQU0sQ0FBQyxFQUFFLE1BQzFELENBQUEsQ0FDRCxDQUNILENBRU8sT0FBQXVCLEVBQUFBLEtBQ0osT0FBTyxDQUNOLElBQUssS0FBSyxRQUFRLGFBQWEsU0FBUyxJQUN4QyxPQUFRLEVBQ1QsQ0FBQSxFQUNBLEtBQU1DLEdBQVNMLEVBQVlLLENBQUksRUFDL0IsS0FBSyxJQUFNLEtBQUssYUFBYSxLQUFLLFFBQVEsYUFBYSxTQUFTLEdBQUcsQ0FBQyxFQUNwRSxLQUFLLElBQU1KLEVBQWMsQ0FBQSxFQUN6QixLQUFLLElBQU1DLEVBQW9CLENBQUEsRUFDL0IsS0FBSyxJQUFNQyxFQUFBLENBQWlCLEVBQzVCLEtBQUssSUFBTSxDQUNOLElBQUFSLEVBQ0osT0FBUSxLQUFLLEtBQU0sQ0FDakIsSUFBSyxlQUNIQSxFQUFTLEtBQUssS0FBSyxNQUFNLEtBQUssS0FBSyxLQUFLLE9BQVEsQ0FDOUMsS0FBTSxLQUFLLG9CQUFBLENBQ1osRUFDRCxNQUNGLElBQUssZUFDSEEsRUFBUyxLQUFLLEtBQUssTUFBTSxLQUFLLEtBQUssS0FBSyxLQUFNLENBQzVDLEtBQU0sS0FBSyxvQkFBQSxDQUNaLEVBQ0QsS0FDSixDQUNPLE9BQUFBLENBQUEsQ0FDUixFQUNBLFFBQVEsSUFBTSxDQUVYUyxFQUFBQSxLQUFhLE9BQU8sQ0FBQ0osRUFBVSxFQUFFLENBQUMsQ0FDcEMsQ0FDRCxDQUNMLENBQ0EsYUFBYS9DLEVBQUssQ0FDaEIsSUFBSXFELEVBQVEsRUFDWixPQUFPLElBQUksUUFBUSxDQUFDM0csRUFBU0MsSUFBVyxDQUN0QyxJQUFJMkcsRUFBSSxVQUFZLENBQ2QsSUFBQUMsRUFBSSxhQUFhLEtBQU1ULEdBQU9BLEVBQUcsU0FBVyxZQUFjQSxFQUFHLEtBQU85QyxDQUFHLEVBQzNFLEdBQUl1RCxFQUNhLG9CQUFBLGFBQWEsT0FBUVQsR0FBT0EsRUFBRyxVQUFZLFlBQWNBLEVBQUcsTUFBUTlDLENBQUcsRUFDL0V0RCxFQUFRLEVBRVgsSUFBQThHLEVBQVMsYUFBYSxLQUFNVixHQUFPQSxFQUFHLFNBQVcsYUFBZUEsRUFBRyxLQUFPOUMsQ0FBRyxFQUM3RXdELEdBQ0s3RyxFQUFBLG1CQUFxQjZHLEVBQU8sR0FBRyxFQUVwQ0gsR0FBUyxHQUNYMUcsRUFBTyxpQ0FBaUMsR0FFL0IwRyxHQUFBLEVBQ1QsV0FBV0MsRUFBRyxHQUFJLEVBRXRCLEVBRUFBLEdBQUEsQ0FDSCxDQUNILENBQ0YsQ0FDQSxNQUFNRyxDQUFLLENBQ1QsWUFBWSxDQUFFLE1BQUE3RCxFQUFPLFFBQUFPLEVBQVMsS0FBQTJCLEVBQU0sU0FBQXRCLEVBQVUsU0FBQWtELEdBQVksQ0FDeEQ3QixFQUFVQyxDQUFJLEVBQ2QsS0FBSyxNQUFRbEMsRUFDYixLQUFLLFFBQVVPLEVBQ2YsS0FBSyxLQUFPMkIsRUFDWixLQUFLLFNBQVd0QixFQUNoQixLQUFLLFNBQVdrRCxFQUVoQixLQUFLLFVBQVksRUFDakIsS0FBSyxZQUFjLEVBRW5CLEtBQUssa0JBQW9CLEtBQUssdUJBQXVCLEtBQUssUUFBUSxFQUNsRSxLQUFLLGNBQWdCLEtBQUssbUJBQW1CLEtBQUssUUFBUSxFQUMxRCxLQUFLLE9BQVMsS0FBSyxZQUFZLEtBQUssUUFBUSxFQUM1QyxLQUFLLGlCQUFtQixLQUFLLHNCQUFzQixLQUFLLFFBQVEsRUFDM0QsS0FBQSxhQUFlLEtBQUssa0JBQWtCLEtBQUssT0FBUSxLQUFLLFNBQVUsS0FBSyxnQkFBZ0IsRUFDNUYsS0FBSyxXQUFhQSxHQUFZLE1BQVEsR0FBUSxLQUFLLGVBQzlDLEtBQUEsUUFBVSxJQUFJLFFBQ25CLEtBQUssY0FBZ0IsR0FBRyxLQUFLLE1BQU0sSUFBSSxLQUFLLFFBQVEscUJBQ3BELEtBQUssaUJBQW1CLDBCQUEwQixLQUFLLGlCQUFpQixJQUFJLEtBQUssZ0JBQWdCLFNBQ2pHLEtBQUssS0FBTyxDQUNWLFlBQWEsQ0FDWCxPQUFRLE9BQ1IsSUFBSyxpREFDTCxPQUFRLENBQUMsSUFBSSxFQUNiLE9BQVEsR0FDUixVQUFXLEVBQ2IsRUFDQSxrQkFBbUIsQ0FDakIsT0FBUSxPQUNSLElBQUssdURBQ0wsT0FBUSxDQUFDLElBQUksRUFDYixPQUFRLEdBQ1IsVUFBVyxHQUNYLFVBQVcsRUFDYixFQUNBLGVBQWdCLENBQ2QsT0FBUSxNQUNSLElBQUssdURBQ0wsT0FBUSxDQUFDLFFBQVEsRUFDakIsT0FBUSxHQUNSLFVBQVcsRUFDYixFQUNBLEtBQU0sQ0FDSixPQUFRLE9BQ1IsSUFBSyxXQUFXLEtBQUssUUFBUSw0QkFDN0IsT0FBUSxHQUNSLFVBQVcsR0FDWCxRQUFTLEdBQ1gsRUFDQSxPQUFRLENBQ04sT0FBUSxPQUNSLElBQUssV0FBVyxLQUFLLFFBQVEsV0FBVyxLQUFLLGFBQWEsV0FDMUQsT0FBUSxHQUNSLFVBQVcsR0FDWCxRQUFTLEdBQ1gsQ0FBQSxFQUVGLEtBQUssVUFBWSxDQUNmLEtBQU0sQ0FDSixRQUFTLHNCQUNULE9BQVEsT0FDUixJQUFLLFdBQVcsS0FBSyxRQUFRLDZCQUM3QixPQUFRLEdBQ1IsVUFBVyxHQUNYLE9BQVEsS0FBSyxxQkFDZixFQUNBLElBQUssQ0FDSCxPQUFRLE1BQ1IsSUFBSyxXQUFXLEtBQUssUUFBUSw0QkFDN0IsT0FBUSxDQUFDLElBQUksRUFDYixPQUFRLEdBQ1IsVUFBVyxHQUNYLFFBQVMsR0FDWCxFQUNBLEtBQU0sQ0FDSixPQUFRLE9BQ1IsSUFBSyxXQUFXLEtBQUssUUFBUSw0QkFDN0IsT0FBUSxDQUFDLElBQUksRUFDYixPQUFRLEdBQ1IsVUFBVyxFQUNYLFVBQVcsRUFDYixDQUFBLEVBRUYsS0FBSyxTQUFXLENBQ2QsS0FBTSxDQUNKLE9BQVEsT0FDUixJQUFLLFdBQVcsS0FBSyxRQUFRLFdBQVcsS0FBSyxhQUFhLFNBQzFELE9BQVEsR0FDUixVQUFXLEVBQ2IsRUFDQSxTQUFVLENBQ1IsT0FBUSxPQUNSLElBQUssK0JBQ0wsU0FBVSxXQUNWLE9BQVEsR0FDUixVQUFXLEdBQ1gsUUFBUyxHQUNYLEVBQ0EsSUFBSyxDQUNILE9BQVEsTUFDUixJQUFLLFdBQVcsS0FBSyxRQUFRLFdBQVcsS0FBSyxhQUFhLFFBQzFELE9BQVEsQ0FBQyxJQUFJLEVBQ2IsT0FBUSxHQUNSLFVBQVcsR0FDWCxRQUFTLEdBQ1gsRUFDQSxLQUFNLENBQ0osT0FBUSxPQUNSLElBQUssV0FBVyxLQUFLLFFBQVEsV0FBVyxLQUFLLGFBQWEsUUFDMUQsT0FBUSxDQUFDLElBQUksRUFDYixPQUFRLEdBQ1IsVUFBVyxFQUNYLFVBQVcsRUFDYixDQUFBLEVBRUYsS0FBSyxVQUFZLEdBQ1QsUUFBQSxJQUFJLFlBQWEsSUFBSSxDQUMvQixDQUNBLGtCQUFrQmpELEVBQVFpRCxFQUFVQyxFQUFrQixDQUNwRCxPQUFRRCxFQUFVLENBQ2hCLElBQUssTUFDTCxJQUFLLE1BQ0gsTUFBTyxHQUFHakQsQ0FBTSxJQUFJaUQsQ0FBUSxJQUFJQyxDQUFnQixTQUNsRCxJQUFLLE1BQ0ksTUFBQSxHQUFHbEQsQ0FBTSxJQUFJaUQsQ0FBUSxTQUM5QixRQUNFaEYsRUFBSSw0QkFBNEIsQ0FDcEMsQ0FDRixDQUNBLFlBQVlnRixFQUFVLENBQ3BCLE9BQVFBLEVBQVUsQ0FDaEIsSUFBSyxNQUNMLElBQUssTUFDSSxNQUFBLHNCQUNULElBQUssTUFDSSxNQUFBLHlCQUNULFFBQ0VoRixFQUFJLHNCQUFzQixDQUM5QixDQUNGLENBQ0Esc0JBQXNCZ0YsRUFBVSxDQUM5QixPQUFRQSxFQUFVLENBQ2hCLElBQUssTUFDSSxNQUFBLGNBQ1QsSUFBSyxNQUNMLElBQUssTUFDSSxNQUFBLGNBRVQsUUFDRWhGLEVBQUksZ0NBQWdDLENBQ3hDLENBQ0YsQ0FDQSx1QkFBdUJnRixFQUFVLENBQy9CLE9BQVFBLEVBQVUsQ0FDaEIsSUFBSyxNQUNMLElBQUssTUFDSSxNQUFBLE1BQ1QsSUFBSyxNQUNJLE1BQUEsTUFDVCxRQUNFaEYsRUFBSSxpQ0FBaUMsQ0FDekMsQ0FDRixDQUNBLG1CQUFtQmdGLEVBQVUsQ0FDM0IsT0FBUUEsRUFBVSxDQUNoQixJQUFLLE1BQ0wsSUFBSyxNQUNJLE1BQUEsZUFDVCxJQUFLLE1BQ0ksTUFBQSxlQUNULFFBQ0VoRixFQUFJLDZCQUE2QixDQUNyQyxDQUNGLENBQ0EsYUFBYyxDQUNaLE9BQ0UsS0FBSyxTQUFTLFNBQVMsRUFBRSxFQUFFLFVBQVUsRUFBRyxFQUFFLEVBQUksS0FBSyxPQUFTLEVBQUEsU0FBUyxFQUFFLEVBQUUsVUFBVSxFQUFHLEVBQUUsQ0FFNUYsQ0FDQSxlQUFla0YsRUFBYUMsRUFBVUMsRUFBVSxDQUs5QyxPQUFRRixFQUFZLFFBQVMsQ0FDM0IsSUFBSyxzQkFDSCxNQUNGLFFBQ1MsT0FBQUMsQ0FFWCxDQUNGLENBQ0EsY0FBZSxDQUNOLE9BQUEsS0FBSyxRQUFRLE1BQU0sS0FBSyxRQUFRLEtBQUssVUFBVSxFQUFFLEtBQU1FLEdBQVNBLENBQUksQ0FDN0UsQ0FDQSxTQUFTL0IsRUFBTSxDQUFDLEVBQUdGLEVBQU8sR0FBSUksRUFBUyxHQUFJLEVBQ3JDLENBQUMsTUFBTSxRQUFRRixDQUFHLEdBQUtBLEVBQUksUUFBVSxJQUNuQ3RELEVBQUEsNENBQTRDc0QsQ0FBRyxFQUFFLEVBRW5ELElBQUFnQyxFQUFPLElBQUlqQyxFQUFLQyxFQUFLLEtBQU1GLEdBQVEsS0FBSyxLQUFNLEtBQUssU0FBVUksQ0FBTSxFQUN2RSxPQUFPOEIsRUFBSyxPQUNkLENBQ0EsV0FBV04sRUFBVSxDQUNuQixPQUFRQSxFQUFVLENBQ2hCLElBQUssTUFDTCxJQUFLLE1BQ0gsT0FBTyxLQUFLLFdBQVcsS0FBTUssR0FBUyxDQUMvQixLQUFBLFFBQVEsSUFBSSxTQUFVLG1DQUFtQyxFQUM5RCxLQUFLLFFBQVEsSUFBSSxnQkFBaUIsVUFBWSxLQUFLLE1BQU0sVUFBVSxFQUM5RCxLQUFBLFFBQVEsSUFBSSxTQUFVLFVBQVUsRUFDaEMsS0FBQSxRQUFRLElBQUksZUFBZ0Isa0JBQWtCLEVBQzlDLEtBQUEsUUFBUSxJQUFJLE9BQVEsQ0FBQyxFQUMxQixLQUFLLFFBQVEsSUFBSSxRQUFTQSxFQUFLLEtBQUssQ0FBQSxDQUNyQyxFQUNILElBQUssTUFDSCxPQUFPLFFBQVEsVUFBVSxLQUFLLElBQU0sQ0FDN0IsS0FBQSxRQUFRLElBQUksU0FBVSxtQ0FBbUMsRUFDOUQsS0FBSyxRQUFRLElBQUksZ0JBQWlCLFVBQVksS0FBSyxNQUFNLFVBQVUsRUFDOUQsS0FBQSxRQUFRLElBQUksU0FBVSxVQUFVLEVBQ2hDLEtBQUEsUUFBUSxJQUFJLGVBQWdCLGtCQUFrQixFQUM5QyxLQUFBLFFBQVEsSUFBSSxPQUFRLElBQUksRUFDeEIsS0FBQSxRQUFRLElBQUksUUFBUyxJQUFJLENBQUEsQ0FDL0IsQ0FDTCxDQUNGLENBQ0EsYUFBYWxGLEVBQUssQ0FDaEJILEVBQUk7QUFBQSxFQUFnQ0csQ0FBRyxDQUN6QyxDQUNBLE1BQU0sbUJBQW1CbUIsRUFBS0ksRUFBUVUsRUFBVSxJQUFPLENBQ3JEQSxFQUFVLE9BQU9BLENBQU8sRUFDcEIsSUFBQUMsRUFBYSxJQUFJLGdCQUNSQSxFQUFXLE9BQ3hCLElBQUlDLEVBQUssSUFBSSxRQUFRLFNBQVV0RSxFQUFTQyxFQUFRLENBQzlDLFdBQVcsSUFBTSxDQUNmb0UsRUFBVyxNQUFNLEVBQ1ZwRSxFQUFBLENBQ0wsT0FBUSwwQkFDUixJQUFLLHlCQUFBLENBQ04sR0FDQW1FLENBQU8sQ0FBQSxDQUNYLEVBQ0dHLEVBQUssSUFBSSxRQUFRLFNBQVV2RSxFQUFTQyxFQUFRLENBQzlDLE1BQU1xRCxFQUFLSSxDQUFNLEVBQ2QsS0FBTWMsR0FBUXhFLEVBQVF3RSxDQUFHLENBQUMsRUFDMUIsTUFBT3hDLEdBQVEvQixFQUFPK0IsQ0FBRyxDQUFDLENBQUEsQ0FDOUIsRUFDRCxPQUFPLFFBQVEsS0FBSyxDQUFDc0MsRUFBSUMsQ0FBRSxDQUFDLENBQzlCLENBRUEsTUFBTUUsRUFBR0MsRUFBTSxDQUFFLEtBQU0sQ0FBSSxFQUFBLE9BQVEsQ0FBQyxDQUFBLEVBQUtDLEVBQVMsR0FBT0MsRUFBVyxHQUFPMkMsRUFBTyxHQUFPLENBQ25GLEdBQUEsQ0FDRTNDLEdBQVksR0FDZCxLQUFLLFlBQWMsRUFFZCxLQUFBLGNBR0gyQyxFQUNLQSxFQUFBQSxFQUFPLGVBQWlCLEtBQUssWUFFcENBLEVBQU8sS0FBSyxZQUFBLEVBQWdCLGVBQWlCLEtBQUssWUFHcEQsSUFBSXRDLEVBQVlSLEVBQUUsZUFBZSxXQUFXLEVBQUlBLEVBQUUsVUFBWSxLQUFLLFVBRW5FLE9BQU8sS0FBSyxXQUFXLEtBQUssUUFBUSxFQUFFLEtBQUssSUFBTSxDQUMvQyxJQUFJSSxFQUFTSixFQUFFLElBQ2YsR0FBSUEsRUFBRSxPQUFRLENBQ1IsR0FBQSxDQUFDQyxFQUFJLGVBQWUsUUFBUSxFQUN2QixPQUFBLEtBQUssYUFBYSwwQ0FBMEMsRUFDbkVELEVBQUEsT0FBTyxRQUFTSyxHQUFZLENBQzVCLEdBQUksQ0FBQ0osRUFBSSxPQUFPLGVBQWVJLENBQU8sRUFDcEMsT0FBTyxLQUFLLGFBQ1Y7QUFBQSwwQkFDVUQsQ0FBTTtBQUFBLGlDQUNDSixFQUFFLE9BQU8sVUFBVTtBQUFBLGtDQUNsQkMsRUFBSSxPQUFPLFVBQVU7QUFBQSx5QkFBQSxFQUlsQ0csRUFBQUEsRUFBTyxRQUFRLElBQUlDLENBQU8sSUFBS0osRUFBSSxPQUFPSSxDQUFPLENBQUMsQ0FBQSxDQUM1RCxDQUNILENBQ0EsSUFBSXhCLEVBQU0sSUFBSSxJQUFJdUIsRUFBUSxLQUFLLE1BQU0sRUFDakNuQixFQUFTLENBQ1gsT0FBUWUsRUFBRSxPQUNWLFlBQWEsVUFDYixRQUFTLEtBQUssT0FBQSxFQUVoQixPQUFRQSxFQUFFLE9BQVEsQ0FDaEIsSUFBSyxPQUNDQSxFQUFFLFVBQVlBLEVBQUUsVUFBWSxZQUM5QmYsRUFBTyxLQUFPZ0IsRUFBSSxLQUNYaEIsRUFBQSxRQUFRLE9BQU8sY0FBYyxHQUU3QkEsRUFBQSxLQUFPLEtBQUssVUFBVSxPQUFPLE9BQU8sR0FBSWdCLEVBQUksSUFBSSxDQUFDLEVBRTFELEtBQ0osQ0FDSSxJQUFBTixFQUFVSyxFQUFFLGVBQWUsU0FBUyxFQUNoQyxRQUFBLEtBQ04sbUNBQ0E4QyxFQUNBLEtBQUssWUFDTHRDLEVBQ0EzQixFQUFJLEtBQ0ptQixFQUNBQyxFQUNBLGFBQ0FOLENBQUEsRUFFRixJQUFJd0MsRUFBSW5DLEVBQUUsZUFBZSxTQUFTLEVBQzlCLEtBQUssbUJBQW1CbkIsRUFBSSxLQUFNSSxFQUFRZSxFQUFFLE9BQU8sRUFDbkQsTUFBTW5CLEVBQUksS0FBTUksQ0FBTSxFQUNuQixPQUFBa0QsRUFDSixLQUFNOUUsR0FDRUEsRUFBUyxLQUFBLEVBQU8sTUFBT0UsR0FBUSxDQUNwQyxPQUFRRixFQUFTLE9BQVEsQ0FDdkIsSUFBSyxLQUNMLElBQUssS0FDSCxLQUFNLENBQUUsT0FBUUEsRUFBVSxJQUFLLDRCQUE2QixFQUM5RCxJQUFLLEtBQ0wsSUFBSyxLQUNHLEtBQUEsQ0FDSixPQUFRQSxFQUNSLElBQUssbURBQUEsRUFFVCxJQUFLLEtBQ0gsTUFBTyxHQUNULFFBQ1EsS0FBQSxDQUNKLE9BQVFBLEVBQ1IsSUFBSyw0Q0FDSEEsRUFBUyxNQUNYLE1BQU0sS0FBSyxVQUFVQSxDQUFRLENBQUMsRUFBQSxDQUVwQyxDQUFBLENBQ0QsQ0FDRixFQUNBLEtBQU1rRCxHQUFRLENBQ2IsR0FBSUEsRUFBSSxPQUNOLE9BQVFBLEVBQUksT0FBUSxDQUNsQixRQUNNLEdBQUFBLEVBQUksT0FBUyxJQUNULEtBQUEsQ0FDSixPQUFRQSxFQUNSLElBQUsseUNBQXlDQSxFQUFJLE1BQU0sTUFBTUEsRUFBSSxPQUFPLEVBQUEsQ0FHakYsQ0FFRixHQUFJQSxFQUFJLEtBQ04sT0FBUUEsRUFBSSxLQUFNLENBQ2hCLElBQUssS0FDTCxJQUFLLEtBQ0gsS0FBTSxDQUFFLE9BQVFBLEVBQUssSUFBS0EsRUFBSSxXQUFZLEVBQzVDLFFBQ1EsS0FBQSxDQUNKLE9BQVFBLEVBQ1IsSUFBSyx1Q0FBdUNBLEVBQUksSUFBSSxNQUNsREEsRUFBSSxRQUFVQSxFQUFJLFFBQVUsS0FBSyxVQUFVQSxDQUFHLENBQ2hELEVBQUEsQ0FFTixDQUVNLGVBQUEsS0FBSyxnQ0FBaUN1QyxFQUFNdkMsQ0FBRyxFQUNoREEsQ0FBQSxDQUNSLEVBQ0EsS0FBTUEsR0FBUSxDQUNiLEdBQUksQ0FBQ1AsRUFBRSxXQUFhLENBQUMsT0FBTyxLQUFLTyxDQUFHLEVBQUUsUUFBVSxDQUFDQSxFQUFJLE1BQVEsQ0FBQ0EsRUFBSSxPQUMxRCxLQUFBLENBQ0osT0FBUUEsRUFDUixJQUFLLG9FQUFvRSxLQUFLLFVBQzVFQSxDQUNELENBQUEsR0FBQSxFQUdFLE9BQUFBLENBQUEsQ0FDUixFQUNBLE1BQU81QyxHQUFVLENBQ2hCLFFBQVEsS0FBSywrQkFBZ0NtRixFQUFNbkYsRUFBTSxNQUFNLEVBQy9ELElBQUlELEVBQU1DLEVBQU0sSUFFYixJQUFBdUMsR0FBV0YsRUFBRSxlQUFlLFFBQVEsR0FBS0EsRUFBRSxTQUM1Q1EsR0FBYSxLQUFLLFlBQ2xCLENBQ0EsSUFBSUMsRUFBTyxLQUNYLE9BQU8sSUFBSSxRQUFRLFNBQVVsRixFQUFTQyxFQUFRLENBQzVDLFdBQVcsVUFBWSxDQUNyQixPQUFPaUYsRUFDSixNQUFNVCxFQUFHQyxFQUFLQyxFQUFRLEdBQU00QyxDQUFJLEVBQ2hDLEtBQU1wRSxHQUFTbkQsRUFBUW1ELENBQUksQ0FBQyxFQUM1QixNQUFPZixHQUFVLENBQ2hCbkMsRUFBT21DLENBQUssQ0FBQSxDQUNiLEdBQ0YsR0FBSSxDQUFBLENBQ1IsQ0FBQSxLQUVNLFFBQUEsS0FBSyxhQUFhRCxDQUFHLENBQzlCLENBQ0QsQ0FBQSxDQUNKLFFBQ01DLEVBQU8sQ0FDTixlQUFBLE1BQU0sb0NBQXFDQSxDQUFLLEVBQ2pELEtBQUssYUFBYSxvQ0FBcUNBLENBQUssQ0FDckUsQ0FDRixDQUNGLENDdHBCQSxNQUFNb0YsQ0FBVSxDQUNaLFlBQVlDLEVBQUloRSxFQUFTOEIsRUFBTXpCLEVBQVUsQ0FDckMsS0FBSyxHQUFLMkQsRUFDVixLQUFLLFFBQVVoRSxFQUNmLEtBQUssS0FBTzhCLEVBQ1osS0FBSyxPQUFTekIsRUFBUyxPQUN2QixLQUFLLFdBQWEsR0FDbEIsS0FBSyxjQUFnQixHQUNyQixLQUFLLGtCQUFvQixHQUN6QixLQUFLLFNBQVcsR0FDaEIsS0FBSyxJQUFNLEdBQ04sS0FBQSxLQUFPLEtBQUssY0FDVCxRQUFBLElBQUkseUNBQTJDLEtBQUssSUFBSSxDQUNwRSxDQUNBLFVBQVUyRCxFQUFJLENBQ1YsT0FBTyxRQUFRLFVBQ1YsS0FBSyxJQUNLLEtBQUssS0FBSyxNQUFNLEtBQUssS0FBSyxVQUFVLElBQUssQ0FBRSxPQUFRLENBQUUsR0FBQUEsQ0FBTyxDQUFBLENBQUcsRUFDakUsS0FBVXRELEdBQUEsQ0FDUCxHQUFJQSxFQUFFLFVBQVlBLEVBQUUsVUFBWSxHQUNyQixPQUFBLEtBQUssWUFBWUEsRUFBRSxjQUFlQSxFQUFFLDBCQUEyQkEsRUFBRSxRQUFRLEVBQzNFLE1BQU8vQixHQUFVLENBQUUsUUFBUSxJQUFJQSxDQUFLLENBQUEsQ0FBRyxFQUN2QyxRQUFRLElBQWUsS0FBSyxZQUFZLFFBQVEsQ0FBRyxDQUM1RCxDQUNILENBQ1IsQ0FDVCxDQUNBLE1BQU8sQ0FDSSxPQUFBLEtBQUssWUFBWSxTQUFTLEVBQzVCLEtBQUssSUFBTSxLQUFLLFFBQVEsTUFBTSxLQUFLLFFBQVEsVUFBVSxLQUFNLENBQUUsT0FBUSxDQUFFLEdBQUksS0FBSyxJQUFNLENBQUMsRUFDdkYsS0FBVStCLEdBQUEsQ0FDSCxJQUFBNkIsRUFDQSxHQUFBLENBQUM3QixFQUFFLGNBQXVCLEtBQUEsb0NBQzlCLEdBQUlBLEVBQUUsVUFBWUEsRUFBRSxVQUFZLEdBQ3RCLEtBQUEsK0NBRVYsT0FBQTZCLEVBQVMsS0FBSyxVQUFVN0IsRUFBRSxhQUFhLEVBQUUsS0FBSyxJQUVuQ0EsRUFBRSxhQUNaLEVBQ002QixDQUFBLENBQ1YsRUFDQSxLQUFNeUIsR0FBTyxLQUFLLEtBQUssU0FBUyxDQUFDQSxDQUFFLEVBQUcsY0FBYyxDQUFDLEVBQ3JELEtBQUssSUFBTSxLQUFLLFlBQVksUUFBUSxDQUFDLEVBQ3JDLEtBQUssS0FFSyxDQUFFLEtBQU0sSUFDbEIsRUFDQSxNQUFhekYsSUFDRixRQUFBLElBQUksb0NBQXFDQSxDQUFHLEVBQ2hEQSxHQUFPLCtDQUNBLEtBQUssWUFBWSxRQUFRLEVBRXpCLEtBQUssWUFBWSxZQUFhQSxDQUFHLEVBQUUsS0FBSyxJQUFNLENBQVEsTUFBQUEsQ0FBQSxDQUFLLEVBRXpFLENBQ1QsQ0FDQSxTQUFTeUMsRUFBRyxFQUFHLENBRUgsUUFBQSxJQUFJLGFBQWNBLEVBQUcsS0FBSyxNQUFNLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUM5RCxDQUNBLFNBQVUsQ0FDTixJQUFJbkIsRUFBTSxLQUFLLGVBQWlCLGdCQUFnQixNQUFNLElBQU0sSUFBTSxLQUFLLFFBQ3ZFLE9BQU8sTUFBTUEsRUFBSyxDQUNkLE9BQVEsZ0JBQWdCLE1BQU0sT0FDOUIsWUFBYSxTQUNoQixDQUFBLEVBQ0ksS0FBS3hCLEdBQVlBLEVBQVMsS0FBTSxDQUFBLEVBQ2hDLEtBQUtrRCxHQUFPLFFBQVEsSUFBSUEsQ0FBRyxDQUFDLENBQ3JDLENBQ0EsU0FBUzBDLEVBQU8sR0FBT0MsRUFBb0IsR0FBTyxDQUM5QyxPQUFPLEtBQUssUUFBUSxNQUFNLEtBQUssUUFBUSxVQUFVLFVBQVcsQ0FBRSxPQUFRLENBQUUsR0FBSSxLQUFLLEVBQUEsQ0FBTSxDQUFBLEVBQ2xGLEtBQWNDLEdBQUEsQ0FTUCxJQUFBNUIsRUFDSixPQUFRNEIsRUFBTyxDQUNYLElBQUssU0FDRCxRQUFRLElBQUksK0JBQStCLEVBQzNDLE1BQ0osSUFBSyxnQkFDRCxRQUFRLElBQUksMkJBQTJCLEVBQzlCNUIsRUFBQSxLQUFLLE9BQU8sS0FBSyxJQUFNLEtBQUssU0FBUzBCLEVBQU8sRUFBSSxDQUFDLEVBQzFELE1BQ0osSUFBSyxZQUNELFFBQVEsSUFBSSx3QkFBd0IsRUFDcEMsTUFDSixJQUFLLGNBQ0QsUUFBUSxJQUFJLDhCQUE4QixFQUNyQ0EsSUFDUTFCLEVBQUEsS0FBSyxPQUFPLEtBQUssSUFBTSxLQUFLLFNBQVMwQixFQUFPLEVBQUksQ0FBQyxHQUU5RCxNQUNKLElBQUssV0FFRCxHQURBLFFBQVEsSUFBSSx5QkFBeUIsRUFDakNDLEVBQ08sTUFBQSxDQUFFLGdCQUFpQixLQUFLLElBRXRCM0IsRUFBQSxLQUFLLE9BQU8sS0FBSyxJQUFNLEtBQUssU0FBUzBCLEVBQU8sRUFBSyxDQUFDLEVBRS9ELE1BQ0osSUFBSyxVQUNELFFBQVEsSUFBSSxzQkFBc0IsRUFDbEMsTUFDSixJQUFLLFlBQ0QsUUFBUSxJQUFJLDZCQUE2QixFQUNwQ0EsSUFDUTFCLEVBQUEsS0FBSyxPQUFPLEtBQUssSUFBTSxLQUFLLFNBQVMwQixFQUFPLEVBQUksQ0FBQyxHQUU5RCxNQUNKLElBQUssU0FDRCxRQUFRLElBQUksdUJBQXVCLEVBQ25DLE1BQ0osUUFDVyxNQUFBLENBQUUsS0FBTSxHQUN2QixDQUNPLE9BQUExQixDQUFBLENBQ1YsQ0FDVCxDQUNBLE1BQU8sQ0FDSCxlQUFRLElBQUksV0FBVyxFQUNoQixLQUFLLFlBQVksV0FBVyxFQUM5QixLQUFLLElBQU0sS0FBSyxZQUFBLENBQWEsRUFDN0IsS0FBSyxJQUFNLEtBQUssb0JBQXFCLENBQUEsRUFDckMsS0FBSyxJQUFNLEtBQUssWUFBQSxDQUFhLEVBQzdCLEtBQUssSUFBTSxLQUFLLFlBQVksVUFBVSxDQUFDLEVBQ3ZDLEtBQUssSUFBTSxLQUFLLEtBQUEsQ0FBTSxFQUN0QixNQUFhaEUsR0FBQSxDQUNGLGNBQUEsSUFBSSxvQ0FBcUNBLENBQUcsRUFDL0MsS0FBQSxZQUFZLGNBQWVBLENBQUcsRUFDN0JBLENBQUEsQ0FDVCxDQUNULENBQ0EsYUFBYXlGLEVBQUksQ0FDUixZQUFBLFNBQVMsT0FBUSxJQUFJLEVBQ25CLEtBQUssS0FBSyxNQUFNLEtBQUssS0FBSyxVQUFVLElBQUssQ0FBRSxPQUFRLENBQUUsR0FBQUEsQ0FBTyxDQUFHLENBQUEsQ0FDMUUsQ0FDQSxnQkFBZ0JBLEVBQUssR0FBSSxDQUNyQixlQUFRLElBQUksMkJBQTJCLEVBQ2hDLEtBQUssUUFBUSxNQUFNLEtBQUssUUFBUSxVQUFVLEtBQU0sQ0FBRSxPQUFRLENBQUUsR0FBSSxLQUFLLEVBQUcsQ0FBRyxDQUFBLEVBQzdFLEtBQU1KLEdBQVMsQ0FDWixHQUFJQSxFQUFLLGNBQ0wsT0FBS0ksSUFBTUEsRUFBS0osRUFBSyxlQUNkLEtBQUssYUFBYUksQ0FBRSxFQUVyQixLQUFBLG1DQUNWLENBQ0gsRUFDQSxLQUFNdEQsSUFDSCxRQUFRLElBQUlBLENBQUMsRUFDTixLQUFLLFlBQ1JBLEVBQUUsY0FDRkEsRUFBRSxrQkFDRkEsRUFBRSxRQUFBLEVBQ1QsQ0FDVCxDQUNBLEtBQUtrRCxFQUFPLENBQUUsS0FBTSxJQUFRLENBQ2hCLGVBQUEsSUFBSSxpQkFBa0JBLENBQUksRUFDM0JBLENBQ1gsQ0FDQSxhQUFjLENBQ0YsZUFBQSxJQUFJLHdCQUF5QixJQUFJLEVBQ2xDLEtBQUssUUFBUSxNQUFNLEtBQUssUUFBUSxVQUFVLEtBQU0sQ0FBRSxPQUFRLENBQUUsR0FBSSxLQUFLLEVBQUEsQ0FBTSxDQUFBLEVBQzdFLEtBQWFBLEdBQUEsQ0FDVixLQUFLLFdBQWFBLEVBQ2QsS0FBSyxTQUFVLEtBQUssV0FBVyxRQUFVLEtBQUssTUFBTSxLQUFLLE9BQVksRUFBQSxLQUFXLEVBQUksR0FBRyxTQUFBLEVBQWEsTUFHeEcsS0FBSyxXQUFXLFNBQVcsRUFBQSxDQUM5QixDQUNULENBQ0EsWUFBWVEsRUFBUXJHLEVBQVUsR0FBSSxDQVM5QixPQUFPLEtBQUssUUFBUSxpQkFDZixFQUFBLEtBQU1zRyxHQUFZLENBQ2YsSUFBSS9DLEVBQU8sQ0FDUCxDQUFFLEtBQU0sS0FBTSxNQUFPLEtBQUssRUFBRyxFQUM3QixDQUFFLEtBQU0sVUFBVyxNQUFPK0MsQ0FBUSxFQUNsQyxDQUFFLEtBQU0sU0FBVSxNQUFPRCxDQUFPLEVBQ2hDLENBQUUsS0FBTSxVQUFXLE1BQU9yRyxDQUFRLENBQUEsRUFFL0IsT0FBQSxLQUFLLFFBQVEsTUFBTSxLQUFLLFFBQVEsVUFBVSxXQUFZLENBQUUsS0FBQXVELENBQUEsQ0FBWSxDQUFBLENBQzlFLENBQ1QsQ0FDQSxZQUFZZ0QsRUFBZUMsRUFBMkJDLEVBQVUsQ0FDNUQsT0FBTyxLQUFLLFFBQVEsaUJBQ2YsRUFBQSxLQUFNSCxHQUFZLENBQ2YsS0FBSyxRQUFVQSxFQUNWQyxJQUFpQkEsRUFBZ0IsS0FBSyxlQUN0Q0MsSUFBeURBLEVBQUEsSUFDekRDLElBQXVCQSxFQUFBLElBQzVCLElBQUlsRCxFQUFPLENBQ1AsQ0FBRSxLQUFNLGdCQUFpQixNQUFPZ0QsQ0FBYyxFQUM5QyxDQUFFLEtBQU0sZ0JBQWlCLE1BQU8sS0FBSyxLQUFLLGNBQWdCQSxFQUFnQixjQUFlLEVBQ3pGLENBQUUsS0FBTSw0QkFBNkIsTUFBT0MsQ0FBMEIsRUFDdEUsQ0FBRSxLQUFNLFdBQVksTUFBT0MsQ0FBUyxFQUNwQyxDQUFFLEtBQU0sVUFBVyxNQUFPLEtBQUssT0FBUSxDQUFBLEVBRTNDLE9BQU8sS0FBSyxRQUFRLE1BQU0sS0FBSyxRQUFRLFVBQVUsS0FBTSxDQUFFLEtBQUFsRCxFQUFZLE9BQVEsQ0FBRSxHQUFJLEtBQUssSUFBTSxFQUN6RixLQUFhc0MsR0FBQSxDQUNWLFFBQVEsSUFBSUEsQ0FBSSxDQUFBLENBQ25CLENBQUEsQ0FDUixDQUNULENBQ0EsTUFBTyxDQUNJLE1BQUEsQ0FDSCxDQUNJLFVBQWEsS0FDYixnQkFBbUIsTUFDbkIsU0FBWSxzRkFDWixRQUFXLEtBQ1gsV0FBYyxLQUNkLGlCQUFvQixxWkFDcEIsZUFBa0IsS0FDbEIsVUFBYSxLQUNiLFFBQVcsS0FDWCxlQUFrQixLQUNsQixnQkFBbUIsQ0FDZixDQUNJLGlCQUFvQixRQUNwQixNQUFTLEdBQ1QsS0FBUSxzUkFDUixLQUFRLEtBQ1IsVUFBYSxLQUNiLE1BQVMsS0FDVCxRQUFXLEtBQ1gsS0FBUSxLQUNSLFFBQVcsQ0FDWCxFQUNBLFNBQVksQ0FDUixLQUNKLEVBQ0EsS0FBUSxDQUNKLEVBQ0osRUFDQSxTQUFZLEtBQ1osWUFBZSxLQUNmLFlBQWUsS0FDZixPQUFVLEtBQ1YsT0FBVSxLQUNWLGNBQWlCLEtBQ2pCLGVBQWtCLEtBQ2xCLFdBQWMsS0FDZCxVQUFhLENBQ2IsRUFDQSxVQUFhLENBQ1QsQ0FDSSxXQUFjLFFBQ2QsTUFBUyxHQUNULGVBQWtCLEtBQ2xCLFlBQWUsdUdBQ2YsS0FBUSxLQUNSLFFBQVcsS0FDWCxTQUFZLEtBQ1osU0FBWSxJQUNoQixDQUNKLENBQ0osQ0FDSixDQUNKLENBQUEsQ0FFUixDQUNBLGtCQUFrQkEsRUFBTSxDQUVwQixJQUFJYSxFQUFZLE9BQU8sT0FBTyxHQUFJYixDQUFJLEVBRTVCLE9BQUFhLEVBQUEsYUFBYSxVQUFVLFFBQW1CcEQsR0FBQSxDQUNoREEsRUFBUSxnQkFBa0IsSUFBQSxDQUM3QixFQUVTb0QsRUFBQSxvQkFBb0IsUUFBbUJwRCxHQUFBLENBQ3JDQSxFQUFBLFVBQVUsUUFBZ0JxRCxHQUFBLENBQzlCQSxFQUFLLGdCQUFrQixJQUFBLENBQzFCLENBQUEsQ0FDSixFQUVNRCxDQUNYLENBRUEscUJBQXNCLENBQ2xCLFFBQVEsSUFBSSwrQkFBK0IsRUFDdkMsSUFBQWxDLEVBQ0FvQyxFQUFXLEtBQUssa0JBQWtCLEtBQUssVUFBVSxFQUVyRCxPQUFJQSxFQUFTLGVBQ0QsUUFBQSxJQUFJLHdCQUF5QkEsQ0FBUSxFQUM3Q3BDLEVBQVMsS0FBSyxLQUFLLE1BQU0sS0FBSyxLQUFLLFVBQVUsS0FBTSxDQUFFLEtBQU1vQyxFQUFVLE9BQVEsQ0FBRSxHQUFJQSxFQUFTLGFBQUEsRUFBaUIsRUFBRSxLQUFhZixHQUFBLENBQ3hILEtBQUssY0FBZ0JlLEVBQVMsYUFBQSxDQUNqQyxJQUVPLFFBQUEsSUFBSSx3QkFBeUJBLENBQVEsRUFDN0NwQyxFQUFTLEtBQUssS0FBSyxNQUFNLEtBQUssS0FBSyxVQUFVLEtBQU0sQ0FBRSxLQUFNb0MsQ0FBUyxDQUFDLEVBQ2hFLEtBQU1mLEdBQ0ksS0FBSyxLQUFLLE1BQU0sS0FBSyxLQUFLLFVBQVUsSUFBSyxDQUFFLE9BQVEsQ0FBRSxHQUFJQSxFQUFLLEVBQUcsQ0FBRyxDQUFBLEVBQ3RFLEtBQU1sRCxHQUFNLENBQ0QsUUFBQSxJQUFJLHNCQUF1QkEsQ0FBQyxFQUNwQyxLQUFLLGNBQWdCQSxFQUFFLGNBQ3ZCLEtBQUssa0JBQW9CQSxFQUFFLGtCQUMzQixLQUFLLFNBQVdBLEVBQUUsU0FDbEIsS0FBSyxPQUFTQSxFQUFFLE1BQUEsQ0FDbkIsQ0FDUixHQUVGNkIsQ0FDWCxDQUVBLGFBQWMsQ0FDVixPQUFPLEtBQUssU0FBUyxTQUFTLEVBQUUsRUFBRSxVQUFVLEVBQUcsRUFBRSxFQUFJLEtBQUssT0FBUyxFQUFBLFNBQVMsRUFBRSxFQUFFLFVBQVUsRUFBRyxFQUFFLENBQ25HLENBRUosQ0FDQSxRQUFRLElBQUksMEJBQTBCLEVDclV0QyxTQUFTaEUsRUFBSUcsRUFBSyxDQUNoQixjQUFRLE1BQU1BLENBQUcsRUFDWEEsQ0FDUixDQUNBLE1BQU1rRyxDQUFzQixDQUMxQixZQUFZQyxFQUFVcEUsRUFBZSxDQUNuQyxLQUFLLFNBQVdvRSxFQUNoQixLQUFLLFFBQVVBLEVBQVMsUUFDeEIsS0FBSyxXQUFhQSxFQUFTLEdBQzNCLEtBQUssY0FBZ0JwRSxFQUNyQixLQUFLLFdBQWEsS0FBSyxRQUFRLFNBQVNBLENBQWEsQ0FDdkQsQ0FDQSxTQUFVLENBQ1IsZUFBUSxJQUFJLGNBQWMsRUFDbkIsS0FBSyxXQUFXLFNBQVMsTUFBTSxDQUNwQyxPQUFRLENBQUUsR0FBSSxLQUFLLFVBQVcsQ0FBQSxDQUMvQixDQUNILENBQ0EsUUFBUXFFLEVBQWUsQ0FDYixlQUFBLElBQUksZUFBZ0JBLENBQWEsRUFDbEMsS0FBSyxXQUFXLFNBQVMsTUFBTSxDQUNwQyxPQUFRLENBQUUsR0FBSSxLQUFLLFdBQVksT0FBUUEsQ0FBYyxDQUFBLENBQ3RELENBQ0gsQ0FDQSxRQUFRQyxFQUFtQkMsRUFBa0IsQ0FDbkMsUUFBQSxJQUFJLGVBQWdCRCxFQUFtQkMsQ0FBZ0IsRUFDL0QsTUFBTUMsRUFBVyxDQUNmLENBQ0UsS0FBTSxlQUNOLE1BQU9ELEVBQWlCLEVBQzFCLENBQUEsRUFFSyxPQUFBLEtBQUssV0FBVyxjQUFjLE1BQU0sQ0FDekMsS0FBTUMsRUFDTixPQUFRLENBQUUsR0FBSSxLQUFLLFdBQVksT0FBUUYsRUFBa0IsT0FBUSxDQUNuRSxDQUFBLENBRUYsQ0FDQSxhQUFhQSxFQUFtQkcsRUFBaUIsQ0FDdkMsUUFBQSxJQUFJLG9CQUFxQkgsRUFBbUJHLENBQWUsRUFDL0QsSUFBQUQsRUFBVyxJQUFJLFNBQ1ZBLEVBQUEsT0FBTyxPQUFRLElBQUksS0FBSyxDQUFDQyxDQUFlLEVBQUdILEVBQWtCLFNBQVMsQ0FBQyxFQUNoRixNQUFNSSxFQUFVLEtBQUssU0FBUyxLQUFLLFNBQVMsU0FDeEMsT0FBQSxLQUFLLFNBQVMsU0FBUyxnQkFDekJBLEVBQVEsUUFBVSxLQUFLLFNBQVMsU0FBUyxjQUFnQixLQUVwRCxLQUFLLFNBQVMsS0FBSyxNQUFNQSxFQUFTLENBQUUsS0FBTUYsRUFBVSxDQUM3RCxDQUVBLFlBQVlGLEVBQW1CLENBQ3JCLGVBQUEsSUFBSSxtQkFBb0JBLENBQWlCLEVBQzFDLEtBQUssUUFBUUEsRUFBa0IsT0FBTyxFQUMxQyxLQUFNRyxHQUFvQixLQUFLLGFBQWFILEVBQW1CRyxDQUFlLENBQUMsRUFDL0UsS0FBTUYsR0FBcUIsS0FBSyxRQUFRRCxFQUFtQkMsQ0FBZ0IsQ0FBQyxDQUNqRixDQUVBLGFBQWFJLEVBQXVCLENBRTlCLE9BREksUUFBQSxJQUFJLG9CQUFxQkEsQ0FBcUIsRUFDbERBLEVBQXNCLFFBQVUsR0FDbEMsUUFBUSxJQUFJLG1CQUFtQixFQUN4QixRQUFRLFdBRVYsS0FBSyxZQUFZQSxFQUFzQixDQUFDLENBQUMsRUFBRSxLQUFLLEtBQzdCQSxFQUFBQSxFQUFzQixPQUFPLENBQUMsRUFDL0MsS0FBSyxhQUFhQSxDQUFxQixFQUMvQyxDQUNILENBRUEsU0FBVSxDQUNBLGVBQUEsSUFBSSxlQUFnQixJQUFJLEVBQ3pCLEtBQUssUUFBQSxFQUNULEtBQThCQSxHQUFBLENBTXpCLEdBTFdBLEVBQXNCLE9BQVF6QyxHQUFPLENBQ2xELEdBQUlBLEVBQUcsY0FBZ0IsTUFBUUEsRUFBRyxjQUFnQixHQUN6QyxPQUFBQSxDQUNULENBQ0QsRUFDVSxRQUFVeUMsRUFBc0IsT0FDekMsZUFBUSxJQUFJLE9BQU8sS0FBSyxhQUFhLHlCQUF5QixFQUN2RCxRQUFRLFVBRVgsTUFBQUMsRUFBZ0JELEVBQXNCLE9BQVF6QyxHQUFPQSxFQUFHLFdBQWEsQ0FBQ0EsRUFBRyxZQUFZLEVBQ3BGLE9BQUEsS0FBSyxhQUFhMEMsQ0FBYSxDQUFBLENBQ3ZDLENBQ0wsQ0FFRixDQUVBLE1BQU1DLEVBQVMsQ0FDYixZQUFZdEIsRUFBSWhFLEVBQVM4QixFQUFNekIsRUFBVWtGLEVBQWFDLEVBQU9qQyxFQUFVLENBQ3JFLEtBQUssR0FBS1MsRUFDVixLQUFLLFFBQVVoRSxFQUNmLEtBQUssS0FBTzhCLEVBQ1osS0FBSyxTQUFXekIsRUFDaEIsS0FBSyxnQkFBa0JBLEVBQVMsZ0JBQ2hDLEtBQUssa0JBQW9CQSxFQUFTLGtCQUNsQyxLQUFLLE9BQVNBLEVBQVMsT0FDdkIsS0FBSyxZQUFja0YsRUFDbkIsS0FBSyxNQUFRQyxFQUNiLEtBQUssU0FBV2pDLEVBRWhCLEtBQUssY0FBZ0IsS0FBSyxrQkFBa0IsS0FBSyxRQUFRLEVBR3pELEtBQUssV0FBYSxHQUNsQixLQUFLLGNBQWdCLEdBQ3JCLEtBQUssV0FBYSxHQUVsQixLQUFLLE9BQVMsR0FDZCxLQUFLLGFBQWUsR0FDcEIsS0FBSyxjQUFnQixHQUVyQixLQUFLLFdBQWEsRUFFbEIsS0FBSyxVQUFZLEdBQ2pCLEtBQUssZUFBaUIsR0FDdEIsS0FBSyxPQUFTLEdBQ2QsS0FBSyxTQUFXLEdBQ2hCLEtBQUssU0FBVyxHQUNSLFFBQUEsSUFBSSxnQkFBaUIsSUFBSSxDQUNuQyxDQUNBLEtBQUtLLEVBQU8sQ0FBRSxLQUFNLElBQVEsQ0FDbEIsZUFBQSxJQUFJLG9CQUFxQkEsQ0FBSSxFQUNqQyxLQUFLLG1CQUNQQSxFQUFLLGlCQUFtQixLQUFLLGtCQUV4QkEsQ0FDVCxDQUNBLGtCQUFrQkwsRUFBVSxDQUMxQixPQUFRQSxFQUFVLENBQ2hCLElBQUssTUFDTCxJQUFLLE1BQ0ksTUFBQSxnQkFDVCxJQUFLLE1BQ0ksTUFBQSxnQkFDVCxRQUNFaEYsRUFBSSxtQ0FBcUNnRixDQUFRLENBQ3JELENBQ0YsQ0FDQSxZQUFZYSxFQUFRckcsRUFBVSxHQUFJLENBU2hDLE9BQU8sS0FBSyxRQUFRLGlCQUFtQixFQUFBLEtBQU1zRyxHQUFZLENBQ3ZELElBQUkvQyxFQUFPLENBQ1QsQ0FBRSxLQUFNLEtBQU0sTUFBTyxLQUFLLEVBQUcsRUFDN0IsQ0FBRSxLQUFNLFVBQVcsTUFBTytDLENBQVEsRUFDbEMsQ0FBRSxLQUFNLFNBQVUsTUFBT0QsQ0FBTyxFQUNoQyxDQUFFLEtBQU0sVUFBVyxNQUFPckcsQ0FBUSxDQUFBLEVBRXBDLE9BQU8sS0FBSyxRQUFRLE1BQU0sS0FBSyxRQUFRLFNBQVMsV0FBWSxDQUMxRCxLQUFBdUQsQ0FBQSxDQUNELENBQUEsQ0FDRixDQUNILENBQ0EsVUFBVW1FLEVBQWEsQ0FDZCxPQUFBLEtBQUssUUFBUSxNQUFNLEtBQUssUUFBUSxTQUFTLElBQUksRUFBRSxLQUFNQyxHQUFnQixDQUsxRSxHQUpjQSxFQUFBQSxFQUFZLE1BQU0sVUFBVSxFQUMxQ0EsRUFBY0EsR0FBZSxLQUFPLEVBQUksT0FBT0EsRUFBWSxDQUFDLENBQUMsRUFDL0NELEVBQUFBLEVBQVksTUFBTSxVQUFVLEVBQzFDQSxFQUFjQSxHQUFlLEtBQU8sRUFBSSxPQUFPQSxFQUFZLENBQUMsQ0FBQyxFQUN6REMsR0FBZUQsR0FDYixHQUFBQSxFQUFjQyxHQUFlLEVBQ3pCLEtBQUEsOEVBQThFQSxDQUFXLFdBQVdELENBQVcsT0FHakgsTUFBQSwwREFBMERDLENBQVcsV0FBV0QsQ0FBVyxFQUVuRyxDQUNELENBQ0gsQ0FDQSxTQUFTeEIsRUFBTyxHQUFPLENBQ3JCLE9BQU8sS0FBSyxRQUNULE1BQU0sS0FBSyxRQUFRLFNBQVMsVUFBVyxDQUFFLE9BQVEsQ0FBRSxHQUFJLEtBQUssRUFBRyxDQUFHLENBQUEsRUFDbEUsS0FBTUUsR0FBVSxDQVNYLElBQUE1QixFQUNKLE9BQVE0QixFQUFPLENBQ2IsSUFBSyxTQUNILFFBQVEsSUFBSSwrQkFBK0IsRUFDM0MsTUFDRixJQUFLLGdCQUNILFFBQVEsSUFBSSwyQkFBMkIsRUFDOUI1QixFQUFBLEtBQUssT0FBTyxLQUFLLElBQU0sS0FBSyxTQUFVMEIsRUFBTyxFQUFLLENBQUMsRUFDNUQsTUFDRixJQUFLLFlBQ0gsUUFBUSxJQUFJLHdCQUF3QixFQUNwQyxNQUNGLElBQUssY0FDSCxRQUFRLElBQUksOEJBQThCLEVBQ3JDQSxJQUNNMUIsRUFBQSxLQUFLLE9BQU8sS0FBSyxJQUFNLEtBQUssU0FBVTBCLEVBQU8sRUFBSyxDQUFDLEdBRTlELE1BQ0YsSUFBSyxXQUNILFFBQVEsSUFBSSx5QkFBeUIsRUFDNUIxQixFQUFBLEtBQUssT0FBTyxLQUFLLElBQU0sS0FBSyxTQUFVMEIsRUFBTyxFQUFNLENBQUMsRUFDN0QsTUFDRixJQUFLLFVBQ0gsUUFBUSxJQUFJLHNCQUFzQixFQUNsQyxNQUNGLElBQUssWUFDSCxRQUFRLElBQUksNkJBQTZCLEVBQ3BDQSxJQUNNMUIsRUFBQSxLQUFLLE9BQU8sS0FBSyxJQUFNLEtBQUssU0FBVTBCLEVBQU8sRUFBSyxDQUFDLEdBRTlELE1BQ0YsSUFBSyxTQUNILFFBQVEsSUFBSSx1QkFBdUIsRUFDbkMsTUFDRixRQUNFLE9BQU8sS0FBSyxNQUNoQixDQUNPLE9BQUExQixDQUFBLENBQ1IsQ0FDTCxDQUNBLFVBQVV5QixFQUFJLENBQ1osT0FBTyxRQUFRLFVBQVUsS0FBSyxJQUNyQixLQUFLLEtBQUssTUFBTSxLQUFLLEtBQUssU0FBUyxJQUFLLENBQUUsT0FBUSxDQUFFLEdBQUFBLENBQVMsQ0FBQSxDQUFDLEVBQUUsS0FBTXRELEdBQU0sQ0FDakYsR0FBSUEsRUFBRSxVQUFZQSxFQUFFLFVBQVksR0FDOUIsT0FBTyxLQUFLLFlBQVlBLEVBQUUsY0FBZUEsRUFBRSxlQUFnQkEsRUFBRSxTQUFVQSxFQUFFLE1BQU0sRUFDNUUsTUFBTy9CLEdBQVUsQ0FDaEIsUUFBUSxJQUFJQSxDQUFLLENBQUEsQ0FDbEIsRUFDQSxRQUFRLElBQU0sQ0FDUCxLQUFBLDBDQUFBLENBQ1AsQ0FDTCxDQUNELENBQ0YsQ0FDSCxDQUNBLE1BQU8sQ0FDRSxPQUFBLEtBQUssWUFBWSxTQUFTLEVBQzlCLEtBQUssSUFDSixLQUFLLFFBQVEsTUFBTSxLQUFLLFFBQVEsU0FBUyxLQUFNLENBQzdDLE9BQVEsQ0FBRSxHQUFJLEtBQUssRUFBRyxDQUFBLENBQ3ZCLENBQUEsRUFFRixLQUFNK0IsR0FBTSxDQUNYLEdBQUksQ0FBQ0EsRUFBRSxLQUFLLGFBQWEsRUFDakIsS0FBQSxrQ0FFUixHQUFJQSxFQUFFLFVBQVlBLEVBQUUsVUFBWSxHQUN4QixLQUFBLDZDQUVSLE9BQU8sS0FBSyxVQUFVQSxFQUFFLEtBQUssYUFBYSxDQUFDLEVBQUUsS0FBSyxJQUFNQSxFQUFFLEtBQUssYUFBYSxDQUFDLENBQUEsQ0FDOUUsRUFDQSxLQUFNc0QsSUFDTCxLQUFLLGlCQUFtQixDQUN0QixjQUFlQSxFQUNmLElBQUssR0FBRyxLQUFLLEtBQUssWUFBWSxHQUFHQSxDQUFFLEdBQ25DLFNBQVUsR0FBRyxLQUFLLEtBQUssZ0JBQWdCLEdBQUdBLENBQUUsRUFBQSxFQUUxQyxLQUFLLFVBQVksTUFDWixLQUFLLFFBQ1QsTUFBTSxLQUFLLFFBQVEsU0FBUyxPQUFRLENBQUUsT0FBUSxDQUFFLEdBQUksS0FBSyxFQUFHLENBQUcsQ0FBQSxFQUMvRCxLQUFNakMsR0FFRSxLQUFLLEtBQUssU0FBUyxDQUFDaUMsQ0FBRSxFQUFHLGVBQWdCakMsQ0FBTSxDQUN2RCxFQUVJLEtBQUssS0FBSyxTQUFTLENBQUNpQyxDQUFFLEVBQUcsY0FBYyxFQUVqRCxFQUNBLEtBQUssSUFBTSxLQUFLLFlBQVksUUFBUSxDQUFDLEVBQ3JDLEtBQUssS0FDRyxDQUFFLEtBQU0sSUFDaEIsRUFDQSxNQUFPekYsSUFDRSxRQUFBLElBQUksb0NBQXFDQSxDQUFHLEVBQzdDLEtBQUssWUFBWSxZQUFhQSxDQUFHLEVBQUUsS0FBSyxJQUFNLENBQzdDQSxNQUFBQSxDQUFBLENBQ1AsRUFDRixDQUNMLENBQ0EsWUFDRW9ILEVBQWdCLEtBQUssY0FDckJDLEVBQWlCLEtBQUssZUFDdEJwQixFQUFXLEtBQUssU0FDaEJxQixFQUFTLEtBQUssUUFBVSxHQUN4QixDQUNBLE9BQU8sS0FBSyxRQUFRLGlCQUFtQixFQUFBLEtBQU14QixHQUFZLENBQ3ZELEtBQUssUUFBVUEsRUFFZixJQUFJeUIsRUFBbUIsQ0FDckIsY0FBQUgsRUFDQSxJQUFLLEdBQUcsS0FBSyxLQUFLLFlBQVksR0FBR0EsQ0FBYSxHQUM5QyxlQUFBQyxFQUNBLE9BQUFDLEVBQ0EsU0FBQXJCLEVBQ0EsUUFBUyxLQUFLLE9BQUEsRUFFWixLQUFLLFVBQVksUUFDbkJzQixFQUFpQixRQUFVLEtBQUssV0FFOUJELElBQ0ZDLEVBQWlCLFNBQVcsR0FBRyxLQUFLLEtBQUssZ0JBQWdCLEdBQUdILENBQWEsSUFFM0UsS0FBSyxpQkFBbUJHLEVBQ3hCLElBQUl4RSxFQUFPLE9BQU8sS0FBS3dFLENBQWdCLEVBQUUsSUFBS3BLLElBQ3JDLENBQUUsS0FBTUEsRUFBSyxNQUFPb0ssRUFBaUJwSyxDQUFHLEdBQ2hELEVBQ0QsT0FBTyxLQUFLLFFBQ1QsTUFBTSxLQUFLLFFBQVEsU0FBUyxLQUFNLENBQ2pDLEtBQUE0RixFQUNBLE9BQVEsQ0FBRSxHQUFJLEtBQUssRUFBRyxDQUFBLENBQ3ZCLEVBQ0EsS0FBTXNDLEdBQVMsQ0FDZCxRQUFRLElBQUlBLENBQUksQ0FBQSxDQUNqQixDQUFBLENBQ0osQ0FDSCxDQUNBLG9CQUFxQixDQUNuQixlQUFRLElBQUksNkJBQTZCLEVBQ2xDLEtBQUssWUFBQSxFQUNULEtBQU1sRCxHQUFNLENBQ1AsR0FBQSxDQUFDQSxFQUFFLGNBQ0MsS0FBQSx5REFFUixlQUFRLElBQUkscUNBQXNDQSxFQUFHLEtBQUssSUFBSSxFQUN2RCxLQUFLLEtBQUssTUFBTSxLQUFLLEtBQUssVUFBVSxJQUFLLENBQzlDLE9BQVEsQ0FBRSxHQUFJQSxFQUFFLGFBQWMsQ0FBQSxDQUMvQixDQUFBLENBQ0YsRUFDQSxLQUFNa0QsR0FBUyxDQUVWLEdBREosUUFBUSxJQUFJQSxDQUFJLEVBQ1pBLEVBQUssVUFBWSxHQUNiLEtBQUEsd0JBRVIsQ0FDRCxDQUNMLENBQ0EseUJBQTBCLENBQ3hCLGVBQVEsSUFBSSxrQ0FBa0MsRUFDdkMsS0FBSyxRQUFRLE1BQU0sS0FBSyxRQUFRLFNBQVMsbUJBQW9CLENBQ2xFLE9BQVEsQ0FBRSxHQUFJLEtBQUssRUFBRyxDQUFBLENBQ3ZCLENBQ0gsQ0FHQSxxQkFBc0IsQ0FDcEIsZUFBUSxJQUFJLDhCQUE4QixFQUNuQyxLQUFLLFFBQVEsTUFBTSxLQUFLLFFBQVEsU0FBUyxjQUFlLENBQzdELE9BQVEsQ0FBRSxHQUFJLEtBQUssRUFBRyxDQUFBLENBQ3ZCLENBQ0gsQ0FDQSx1QkFBdUJtQyxFQUFRLENBQzdCLE9BQU8sS0FBSyxRQUFRLE1BQU0sS0FBSyxRQUFRLFNBQVMsa0JBQW1CLENBQ2pFLE9BQVEsQ0FBRSxHQUFJLEtBQUssR0FBSSxPQUFBQSxDQUFlLENBQUEsQ0FDdkMsQ0FDSCxDQUNBLGlCQUFpQkMsRUFBTUMsRUFBYyxHQUFPLENBQ2xDLFFBQUEsSUFBSSxtQkFBb0JELENBQUksRUFDaEMsSUFBQUUsRUFDSixPQUFJRCxFQUNGQyxFQUFZLEtBQUssUUFBUSxNQUFNLEtBQUssUUFBUSxTQUFTLGtCQUFtQixDQUN0RSxPQUFRLENBQ04sR0FBSSxLQUFLLEdBQ1QsT0FBUUYsRUFBSyxPQUNmLENBQUEsQ0FDRCxFQUVERSxFQUFZLEtBQUssUUFBUSxNQUFNLEtBQUssUUFBUSxTQUFTLGtCQUFtQixDQUN0RSxPQUFRLENBQ04sR0FBSSxLQUFLLEdBQ1QsT0FBUUYsRUFBSyxPQUNmLENBQUEsQ0FDRCxFQUVJRSxFQUNKLEtBQU01RSxHQUFTLENBQ04sUUFBQSxJQUFJLE9BQVFBLENBQUksRUFFcEIsSUFBQTJELEVBQVcsSUFBSSxTQUNma0IsRUFBSSxJQUFJLEtBQUssQ0FBQzdFLENBQUksRUFBRzBFLEVBQUssU0FBUyxFQUM5QmYsRUFBQSxPQUFPLE9BQVFrQixDQUFDLEVBR3JCLElBQUEsRUFBSSxLQUFLLEtBQUssU0FBUyxTQUN2QixPQUFBLEtBQUssU0FBUyxnQkFDZCxFQUFBLFFBQVUsS0FBSyxTQUFTLGNBQWdCLEtBRXJDLEtBQUssS0FBSyxNQUFNLEVBQUcsQ0FBRSxLQUFNbEIsRUFBVSxDQUFBLENBQzdDLEVBQ0EsS0FBTXZFLEdBQ0R1RixFQUNLLEtBQUssdUJBQXVCdkYsRUFBRSxHQUFJc0YsRUFBSyxPQUFPLEVBRTlDLEtBQUssdUJBQXVCdEYsRUFBRSxHQUFJc0YsRUFBSyxPQUFPLENBRXhELENBQ0wsQ0FDQSx1QkFBdUJJLEVBQWNMLEVBQVEsQ0FDM0MsSUFBSWQsRUFBVyxDQUNiLENBQ0UsS0FBTSxlQUNOLE1BQU9tQixDQUNULENBQUEsRUFFRixPQUFPLEtBQUssUUFBUSxNQUFNLEtBQUssUUFBUSxTQUFTLGtCQUFtQixDQUNqRSxLQUFNbkIsRUFDTixPQUFRLENBQUUsR0FBSSxLQUFLLEdBQUksT0FBQWMsQ0FBZSxDQUFBLENBQ3ZDLENBQ0gsQ0FDQSx1QkFBdUJLLEVBQWNMLEVBQVEsQ0FDM0MsSUFBSWQsRUFBVyxDQUNiLENBQ0UsS0FBTSxlQUNOLE1BQU9tQixDQUNULENBQUEsRUFFRixPQUFPLEtBQUssUUFBUSxNQUFNLEtBQUssUUFBUSxTQUFTLGtCQUFtQixDQUNqRSxLQUFNbkIsRUFDTixPQUFRLENBQUUsR0FBSSxLQUFLLEdBQUksT0FBQWMsQ0FBZSxDQUFBLENBQ3ZDLENBQ0gsQ0FDQSxpQkFBaUJFLEVBQWMsR0FBTyxDQUNoQyxHQUFBLEtBQUssU0FBUyxRQUFVLEVBQUcsQ0FDN0IsUUFBUSxJQUFJLG1CQUFtQixFQUMvQixNQUNGLENBQ08sT0FBQSxLQUFLLGlCQUFpQixLQUFLLFNBQVMsQ0FBQyxFQUFHQSxDQUFXLEVBQUUsS0FBSyxLQUMvRCxLQUFLLFNBQVcsS0FBSyxTQUFTLE9BQU8sQ0FBQyxFQUMvQixLQUFLLGlCQUFpQkEsQ0FBVyxFQUN6QyxDQUNILENBQ0EsMEJBQTJCLENBQ3JCLEdBQUEsS0FBSyxTQUFTLFFBQVUsRUFBRyxDQUM3QixRQUFRLElBQUksbUJBQW1CLEVBQy9CLE1BQ0YsQ0FDTyxPQUFBLEtBQUssaUJBQWlCLEtBQUssU0FBUyxDQUFDLENBQUMsRUFBRSxLQUFLLEtBQ2xELEtBQUssU0FBVyxLQUFLLFNBQVMsT0FBTyxDQUFDLEVBQy9CLEtBQUssbUJBQ2IsQ0FDSCxDQUNBLHFCQUFxQkksRUFBVSxDQUM3QixRQUFRLElBQUlBLENBQVEsRUFDcEIsSUFBSUMsRUFBVUQsRUFBUyxPQUFRMUQsR0FDdEJBLEVBQUcsV0FBYSxJQUN4QixFQUNHLEdBQUEyRCxFQUFRLE9BQVMsRUFJbkIsS0FBTSxZQUhNQSxFQUFRLElBQUszRCxHQUNoQkEsRUFBRyxLQUNYLENBQ3NCLHNCQUtyQixPQUhTMEQsRUFBUyxPQUFRMUQsR0FDckJBLEVBQUcsY0FBZ0IsTUFBUUEsRUFBRyxjQUFnQixFQUN0RCxFQUNVLFFBQVUwRCxFQUFTLFFBQzVCLFFBQVEsSUFBSSxrQ0FBa0MsRUFDdkMsUUFBUSxZQUVqQixLQUFLLFNBQVdBLEVBQ1QsS0FBSyxpQkFBaUIsRUFBSSxFQUNuQyxDQUNBLGFBQWFBLEVBQVUsQ0FtQmpCLE9BTFNBLEVBQVMsT0FBUTFELEdBQU8sQ0FDbkMsR0FBSUEsRUFBRyxjQUFnQixNQUFRQSxFQUFHLGNBQWdCLEdBQ3pDLE9BQUFBLENBQ1QsQ0FDRCxFQUNVLFFBQVUwRCxFQUFTLFFBQzVCLFFBQVEsSUFBSSxzQ0FBc0MsRUFDM0MsUUFBUSxZQUVqQixLQUFLLFNBQVdBLEVBQVMsT0FBUTFELEdBQU9BLEVBQUcsU0FBUyxFQUM3QyxLQUFLLG1CQUNkLENBRUEsb0JBQW9CaUIsRUFBTTJDLEVBQU0sQ0FDOUIsSUFBSUMsRUFBTyxDQUFBLEVBR1BELEdBQVEsRUFDSEMsRUFBQSxDQUNMLFNBQVUsR0FDVixjQUFlLEtBQ2YsUUFBUyxnQ0FDVCxRQUFTLEVBQ1QsV0FBWSxHQUNaLFlBQWEsS0FDYixRQUFTLEtBQUssU0FBUyxvQkFDdkIsVUFBVyxLQUFLLFNBQVMsMEJBQUEsRUFFbEJELEdBQVEsSUFDVkMsRUFBQSxDQUNMLFNBQVUsR0FDVixjQUFlLEtBQ2YsUUFBUyx1QkFDVCxRQUFTLEVBQ1QsV0FBWSxHQUNaLFlBQWEsS0FDYixRQUFTLEtBQUssU0FBUywwQkFDdkIsVUFBVyxLQUFLLFNBQVMsZ0NBQUEsR0FHekIsSUFBQUMsRUFBZ0I3QyxFQUFLLGNBQWMsT0FDcENwRSxHQUFTQSxFQUFLLFVBQVksSUFBTUEsRUFBSyxZQUFjLEVBQUEsRUFFbEQsT0FBQ2lILEVBQWMsT0FJWixJQUhBN0MsRUFBQSxjQUFjLEtBQUs0QyxDQUFJLEVBQ3JCLEdBR1gsQ0FDQSxPQUFPRCxFQUFNLENBQ0osT0FBQSxLQUFLLFlBQVksV0FBVyxFQUNoQyxLQUFLLElBQU0sS0FBSyxZQUFhLENBQUEsRUFDN0IsS0FBTUcsR0FDTCxLQUFLLEtBQUssTUFBTSxLQUFLLEtBQUssU0FBUyxJQUFLLENBQ3RDLE9BQVEsQ0FBRSxHQUFJQSxFQUFjLEtBQUssYUFBYSxDQUFFLENBQUEsQ0FDakQsQ0FBQSxFQUVGLEtBQU1DLElBQ0EsS0FBQSxvQkFBb0JBLEVBQVdKLENBQUksRUFDakMsS0FBSyxxQkFBcUJJLENBQVMsRUFDM0MsRUFDQSxLQUFLLElBQU0sS0FBSyxZQUFZLFVBQVUsQ0FBQyxFQUN2QyxLQUFLLElBQU0sS0FBSyxLQUFBLENBQU0sRUFDdEIsTUFBT3BJLEdBQVEsQ0FDTixjQUFBLElBQUksbUNBQW9DQSxDQUFHLEVBQzlDLEtBQUEsWUFBWSxjQUFlQSxDQUFHLEVBQzdCQSxDQUFBLENBQ1AsQ0FDTCxDQUNBLE1BQU8sQ0FDRyxlQUFBLElBQUksbUJBQW9CLEtBQUssRUFBRSxFQUdyQyxLQUFLLFlBQVksV0FBVyxFQUd6QixLQUFLLElBQU0sS0FBSyxvQkFBb0IsQ0FBQyxFQUNyQyxLQUFNcUYsR0FBUyxLQUFLLGFBQWFBLENBQUksQ0FBQyxFQUN0QyxLQUFLLElBQU0sS0FBSyx3QkFBQSxDQUF5QixFQUN6QyxLQUFNQSxHQUFTLEtBQUsscUJBQXFCQSxDQUFJLENBQUMsRUFDOUMsS0FBSyxJQUNBLEtBQUssVUFBWSxNQUNaLFFBQVEsUUFBUSxFQUNwQixLQUFLLElBQU0sSUFBSWdCLEVBQXNCLEtBQU0sYUFBYSxFQUFFLFNBQVMsRUFDbkUsS0FBSyxJQUFNLElBQUlBLEVBQXNCLEtBQU0sV0FBVyxFQUFFLFNBQVMsRUFDakUsS0FBSyxJQUFNLElBQUlBLEVBQXNCLEtBQU0sZ0JBQWdCLEVBQUUsUUFBUyxDQUFBLEVBQ3RFLEtBQUssSUFBTSxJQUFJQSxFQUFzQixLQUFNLGNBQWMsRUFBRSxRQUFTLENBQUEsRUFDcEUsS0FBSyxJQUFNLElBQUlBLEVBQXNCLEtBQU0sU0FBUyxFQUFFLFFBQUEsQ0FBUyxFQUMvRCxLQUFLLElBQU0sSUFBSUEsRUFBc0IsS0FBTSxTQUFTLEVBQUUsUUFBQSxDQUFTLEVBQy9ELEtBQUssSUFBTSxJQUFJQSxFQUFzQixLQUFNLFVBQVUsRUFBRSxRQUFTLENBQUEsRUFDaEUsS0FBSyxJQUFNLElBQUlBLEVBQXNCLEtBQU0sZUFBZSxFQUFFLFFBQVMsQ0FBQSxFQUNyRSxLQUFLLElBQU0sSUFBSUEsRUFBc0IsS0FBTSxlQUFlLEVBQUUsUUFBUSxDQUFDLEVBQ3JFLEtBQUssSUFBTSxJQUFJQSxFQUFzQixLQUFNLGFBQWEsRUFBRSxTQUFTLEVBQ25FLEtBQUssSUFBTSxJQUFJQSxFQUFzQixLQUFNLGNBQWMsRUFBRSxRQUFTLENBQUEsRUFDcEUsS0FBSyxJQUFNLElBQUlBLEVBQXNCLEtBQU0sa0JBQWtCLEVBQUUsUUFBQSxDQUFTLEVBQ3hFLEtBQUssSUFBTSxJQUFJQSxFQUFzQixLQUFNLG1CQUFtQixFQUFFLFFBQUEsQ0FBUyxFQUN6RSxLQUFLLElBQU0sSUFBSUEsRUFBc0IsS0FBTSxjQUFjLEVBQUUsUUFBUyxDQUFBLEVBQ3BFLEtBQUssSUFBTSxJQUFJQSxFQUFzQixLQUFNLGNBQWMsRUFBRSxRQUFRLENBQUMsRUFDcEUsS0FBSyxJQUFNLElBQUlBLEVBQXNCLEtBQU0sZ0JBQWdCLEVBQUUsUUFBUyxDQUFBLEVBRWxFLFFBQVEsU0FFbEIsRUFDQSxLQUFLLElBQU0sS0FBSyxhQUFhLEVBQzdCLEtBQU1oQixHQUFTLEtBQUssbUJBQW1CQSxDQUFJLENBQUMsRUFDNUMsS0FBSyxJQUFNLEtBQUssWUFBQSxDQUFhLEVBQzdCLEtBQUssSUFBTSxLQUFLLFlBQVksVUFBVSxDQUFDLEVBQ3ZDLEtBQUssSUFBTSxLQUFLLEtBQUEsQ0FBTSxFQUN0QixNQUFPckYsR0FBUSxDQUNOLGNBQUEsSUFBSSxtQ0FBb0NBLENBQUcsRUFDOUMsS0FBQSxZQUFZLGNBQWVBLENBQUcsRUFDN0JBLENBQUEsQ0FDUCxDQUVQLENBQ0EsYUFBYyxDQUNKLGVBQUEsSUFBSSw2QkFBOEIsS0FBSyxFQUFFLEVBQzFDLEtBQUssUUFBUSxNQUFNLEtBQUssUUFBUSxTQUFTLEtBQU0sQ0FDcEQsT0FBUSxDQUFFLEdBQUksS0FBSyxFQUFHLENBQUEsQ0FDdkIsQ0FDSCxDQUNBLFdBQVd5RixFQUFJLENBQ04sT0FBQSxLQUFLLFFBQVEsTUFBTSxLQUFLLFFBQVEsS0FBSyxPQUFPLEVBQUUsS0FBTXRELEdBQU0sQ0FDL0QsSUFBSUssRUFBTUwsRUFBRSxLQUFNaUMsR0FBT0EsRUFBRyxJQUFNcUIsQ0FBRSxFQUNwQyxHQUFJLENBQUNqRCxFQUNHLEtBQUEsaUNBRUQsT0FBQUEsQ0FBQSxDQUNSLENBQ0gsQ0FDQSx3QkFBd0I0RCxFQUFVLENBQ2hDLGVBQVEsSUFBSUEsQ0FBUSxFQUNwQixRQUFRLElBQUkseUJBQXlCLEVBQ3JDQSxFQUFTLGdCQUFrQixHQUNwQixRQUFRLFVBQVUsS0FBSyxJQUFNLENBQzlCLElBQUFwQyxFQUNBLE9BQUFvQyxFQUFTLEtBQUssYUFBYSxJQUM3QixRQUFRLElBQUksdUJBQXVCLEVBQ25DcEMsRUFBUyxLQUFLLEtBQ1gsTUFBTSxLQUFLLEtBQUssU0FBUyxLQUFNLENBQzlCLEtBQU1vQyxFQUNOLE9BQVEsQ0FBRSxHQUFJQSxFQUFTLEtBQUssYUFBYSxDQUFFLENBQUEsQ0FDNUMsRUFDQSxLQUFLLElBQ0csS0FBSyxLQUNULE1BQU0sS0FBSyxLQUFLLFNBQVMsSUFBSyxDQUM3QixPQUFRLENBQUUsR0FBSUEsRUFBUyxLQUFLLGFBQWEsQ0FBRSxDQUFBLENBQzVDLEVBQ0EsS0FBTWpFLEdBQU0sQ0FDTixLQUFBLGNBQWdCQSxFQUFFLEtBQUssYUFBYSxFQUN6QyxLQUFLLGVBQWlCQSxFQUFFLGVBQ3hCLEtBQUssU0FBV0EsRUFBRSxTQUNsQixLQUFLLE9BQVNBLEVBQUUsT0FDaEIsS0FBSyxpQkFBaUJBLENBQUMsQ0FBQSxDQUN4QixDQUNKLEdBRUU2QixDQUFBLENBQ1IsQ0FDSCxDQUNBLGlCQUFpQjdCLEVBQUcsQ0FDbEIsUUFBUSxJQUFJLGtCQUFrQixDQUNoQyxDQUNBLHFCQUFxQmtELEVBQU0sQ0FDekIsT0FBTyxRQUFRLFVBQVUsS0FBSyxJQUNmLEtBQUssS0FBSyxNQUFNLEtBQUssS0FBSyxTQUFTLEtBQU0sQ0FDcEQsS0FBTUEsRUFDTixPQUFRLENBQ04sR0FBSUEsRUFBSyxLQUFLLGFBQWEsQ0FDN0IsQ0FBQSxDQUNELENBRUYsQ0FDSCxDQUNBLGtCQUFrQkEsRUFBTSxDQUVkLFFBQUEsSUFBSSwrQkFBZ0NBLENBQUksRUFDaEQsSUFBSWEsRUFBWSxPQUFPLE9BQU8sR0FBSWIsQ0FBSSxFQUU1QixPQUFBYSxFQUFBLFlBQVksUUFBU3BELEdBQVksQ0FDekMsSUFBSU4sRUFBTSxDQUFBLEVBQ0ZNLEVBQUEsV0FBVyxRQUFTc0IsR0FBTyxDQUNqQ0EsRUFBRyxpQkFBbUJBLEVBQUcsaUJBQWlCLFFBQVEsSUFBSyxHQUFHLEVBQzFEQSxFQUFHLGlCQUFtQkEsRUFBRyxpQkFBaUIsUUFBUSxJQUFLLEdBQUcsRUFDdEQsSUFBQTNCLEVBQUkyQixFQUFHLGlCQUFpQixRQUFRLElBQUssRUFBRSxFQUFFLE1BQU0sR0FBRyxFQUNwRDNCLEVBQUEsUUFBUzRGLEdBQU8sQ0FDaEI3RixFQUFJLEtBQUssQ0FDUCxPQUFRNEIsRUFBRyxPQUNYLGVBQWdCQSxFQUFHLGVBQ25CLGFBQWNBLEVBQUcsYUFDakIsaUJBQWtCaUUsQ0FBQSxDQUNuQixDQUFBLENBQ0YsRUFDRHZGLEVBQVEsV0FBYU4sQ0FBQSxDQUN0QixDQUFBLENBQ0YsRUFFRyxLQUFLLEtBQUssbUJBQXFCLE9BQ3ZCMEQsRUFBQSxZQUFZLFFBQVNvQyxHQUFRLENBQ2pDQSxFQUFBLFVBQVUsUUFBU0MsR0FBUyxDQUM5QixJQUFJQyxFQUFRdEMsRUFBVSxTQUFTLEtBQU05QixHQUM1QkEsRUFBRyxNQUFRbUUsRUFBSyxNQUN4QixFQUNJQyxHQUNIdEMsRUFBVSxTQUFTLEtBQUssQ0FDdEIsS0FBTXFDLEVBQUssT0FDWCxPQUFRQSxFQUFLLE9BQ2IsT0FBUSxDQUFBLENBQ1QsQ0FDSCxDQUNELENBQUEsQ0FDRixFQUdIckMsRUFBVSxhQUFhLFVBQVUsUUFBU3BELEdBQVksQ0FDcERBLEVBQVEsZ0JBQWtCLElBQUEsQ0FDM0IsRUFFU29ELEVBQUEsb0JBQW9CLFFBQVNwRCxHQUFZLENBQ3pDQSxFQUFBLFVBQVUsUUFBU3FELEdBQVMsQ0FDbENBLEVBQUssZ0JBQWtCLElBQUEsQ0FDeEIsQ0FBQSxDQUNGLEVBZ0NNRCxDQUNULENBRUEseUJBQXlCdUMsRUFBWSxDQU0vQixHQUxKLEtBQUssY0FBZ0JBLEVBQVcsS0FBSyxhQUFhLEdBQUssS0FBSyxjQUN2RCxLQUFBLGVBQWlCQSxFQUFXLGdCQUFrQixLQUFLLGVBQ25ELEtBQUEsU0FBV0EsRUFBVyxVQUFZLEtBQUssU0FDdkMsS0FBQSxPQUFTQSxFQUFXLFFBQVUsS0FBSyxPQUVwQyxLQUFLLFVBQVksTUFBTyxDQUMxQixJQUFJakcsRUFBTSxHQUNDaUcsRUFBQSxRQUFRLFFBQVNDLEdBQVUsQ0FDcENsRyxHQUFPLEdBQUdrRyxFQUFNLE1BQU0sSUFBSUEsRUFBTSxPQUFPLEdBQUEsQ0FDeEMsRUFDRCxLQUFLLFVBQVlsRyxFQUNULFFBQUEsSUFBSSxvQkFBcUJBLENBQUcsQ0FDdEMsQ0FFTyxPQUFBaUcsQ0FDVCxDQUNBLG1CQUFtQnJDLEVBQVUsQ0FDdkIsSUFBQUEsRUFBVyxLQUFLLGtCQUFrQkEsQ0FBUSxFQUN0QyxRQUFBLElBQUksOEJBQStCQSxDQUFRLEVBRW5ELEtBQUssV0FBYUEsRUFBUyxXQUMzQixPQUFPQSxFQUFTLFdBQ1osS0FBSyxZQUFjLEtBQUssa0JBQzFCQSxFQUFTLGdCQUFrQixJQUc3QixJQUFJcEMsRUFBUyxRQUFRLFFBQVEsRUFDMUIsS0FBSyxJQUNBb0MsRUFBUyxLQUFLLGFBQWEsR0FDN0IsUUFBUSxJQUFJLHVCQUF1QixFQUM1QixLQUFLLEtBQ1QsTUFBTSxLQUFLLEtBQUssU0FBUyxLQUFNLENBQzlCLEtBQU1BLEVBQ04sT0FBUSxDQUFFLEdBQUlBLEVBQVMsS0FBSyxhQUFhLENBQUUsQ0FBQSxDQUM1QyxFQUNBLEtBQUssSUFBTUEsRUFBUyxLQUFLLGFBQWEsQ0FBQyxHQUVuQyxLQUFLLEtBQ1QsTUFBTSxLQUFLLEtBQUssU0FBUyxLQUFNLENBQUUsS0FBTUEsQ0FBVSxDQUFBLEVBQ2pELEtBQU1qRixHQUFTQSxFQUFLLEVBQUUsQ0FFNUIsRUFDQSxLQUFNd0gsSUFDTCxLQUFLLGNBQWdCQSxFQUNqQixDQUFDLEtBQUssWUFBYyxDQUFDdkMsRUFBUyxLQUFLLGFBQWEsRUFDM0MsS0FBSyxjQUVQdUMsRUFDUixFQUNBLEtBQUssSUFBTSxDQUNOLEdBQUEsQ0FBQyxLQUFLLFdBQ1IsT0FBTyxLQUFLLEtBQ1QsTUFBTSxLQUFLLEtBQUssU0FBUyxJQUFLLENBQUUsT0FBUSxDQUFFLEdBQUksS0FBSyxhQUFjLENBQUcsQ0FBQSxFQUNwRSxLQUFNRixHQUFlLENBT3BCLEdBTlNyQyxFQUFBLGNBQWdCcUMsRUFBVyxLQUFLLGFBQWEsRUFDN0NyQyxFQUFBLGNBQWdCcUMsRUFBVyxLQUFLLGFBQWEsRUFDdERyQyxFQUFTLGVBQWlCcUMsRUFBVyxlQUNyQ3JDLEVBQVMsU0FBV3FDLEVBQVcsU0FDL0JyQyxFQUFTLE9BQVNxQyxFQUFXLE9BQzdCLEtBQUsseUJBQXlCQSxDQUFVLEVBQ3BDLEtBQUssZ0JBQ0EsT0FBQSxLQUFLLHdCQUF3QnJDLENBQVEsQ0FDOUMsQ0FDRCxDQUNMLENBQ0QsRUFvQkksT0FBQXBDLENBQ1QsQ0FDQSxZQUFhLENBQ1gsSUFBSWpCLEVBQU8sQ0FDVCxRQUFXLENBQUMsRUFDWixVQUFhLENBQ1gsWUFBZSxHQUNmLFVBQWEsQ0FDWCxDQUNFLEtBQVEsS0FDUixZQUFlLEtBQ2YsZ0JBQW1CLEtBQ25CLGFBQWdCLEtBQ2hCLGdCQUFtQixLQUNuQixjQUFpQixLQUNqQixZQUFlLHFGQUNmLElBQU8sS0FDUCxRQUFXLEtBQ1gsVUFBYSxLQUNiLFdBQWMsRUFDZCxPQUFVLEtBQ1YsV0FBYyxNQUNkLFdBQWMsS0FDZCxRQUFXLEtBQ1gsV0FBYyxLQUNkLFNBQVksS0FDWixVQUFhLEtBQ2IsVUFBYSxHQUNiLFNBQVksS0FDWixTQUFZLEtBQ1osY0FBaUIsSUFDbkIsQ0FDRixFQUNBLFNBQVksQ0FBQyxFQUNiLFVBQWEsWUFDYixTQUFZLG9EQUNaLGFBQWdCLHVCQUNoQixnQkFBbUIsRUFDbkIsUUFBVyxLQUNYLFlBQWUsRUFDZixlQUFrQixLQUNsQixtQkFBc0IsRUFDdEIsU0FBWSxLQUNaLElBQU8sYUFDUCxjQUFpQixHQUNqQixJQUFPLFlBQ1AsaUJBQW9CLEdBQ3BCLEtBQVEsZ0JBQ1IsZUFBa0IsMkJBQ2xCLGtCQUFxQixLQUNyQixpQkFBb0IsS0FDcEIsWUFBZSxLQUNmLFdBQWMsWUFDZCxRQUFXLDJCQUNYLGFBQWdCLHVFQUNoQixVQUFhLGVBQ2IsTUFBUyxHQUNULFFBQVcsYUFDWCxjQUFpQixJQUNuQixFQUNBLGlCQUFvQixDQUFDLEVBQ3JCLGdCQUFtQiwyQkFDbkIsa0JBQXFCLGVBQ3JCLG9CQUF1QiwyQkFDdkIsa0JBQXFCLEtBQ3JCLGdCQUFtQixHQUNuQixnQkFBbUIsR0FDbkIsbUJBQXNCLEtBQ3RCLGdCQUFtQixLQUNuQixZQUFlLEtBQ2YsWUFBZSxLQUNmLHVCQUEwQixDQUN4QixjQUFpQiw4RUFDakIsVUFBYSxDQUNYLENBQ0UsS0FBUSxLQUNSLFlBQWUscUZBQ2YsSUFBTyxLQUNQLFVBQWEsS0FDYixXQUFjLEVBQ2QsT0FBVSxLQUNWLFdBQWMsS0FDZCxXQUFjLEtBQ2QsUUFBVyxLQUNYLFdBQWMsS0FDZCxTQUFZLEtBQ1osVUFBYSxLQUNiLFVBQWEsR0FDYixTQUFZLElBQ2QsRUFDQSxDQUNFLEtBQVEsS0FDUixZQUFlLHNGQUNmLElBQU8sS0FDUCxVQUFhLEtBQ2IsV0FBYyxFQUNkLE9BQVUsdUNBQ1YsV0FBYyxNQUNkLFdBQWMsS0FDZCxRQUFXLHVDQUNYLFdBQWMsS0FDZCxTQUFZLHVDQUNaLFVBQWEsdUNBQ2IsVUFBYSxHQUNiLFNBQVksUUFDZCxDQUNGLEVBQ0EsZ0JBQW1CLEtBQ25CLGdCQUFtQiwyQkFDbkIsa0JBQXFCLGVBQ3JCLFNBQVksQ0FDVixDQUNFLFVBQWEsS0FDYixjQUFpQixFQUNqQixNQUFTLGNBQ1gsRUFDQSxDQUNFLFVBQWEsS0FDYixjQUFpQixFQUNqQixNQUFTLHFCQUNYLEVBQ0EsQ0FDRSxVQUFhLEtBQ2IsY0FBaUIsRUFDakIsTUFBUyx5QkFDWCxDQUNGLEVBQ0EsVUFBYSxTQUNiLFNBQVksNEVBQ1osYUFBZ0IsQ0FBQyxFQUNqQixhQUFnQixrQkFDaEIseUJBQTRCLEtBQzVCLFNBQVksT0FDWixNQUFTLElBQ1QsS0FBUSxnQkFDUixXQUFjLGFBQ2Qsc0JBQXlCLEtBQ3pCLFVBQWEsS0FDYixRQUFXLFNBQ2IsRUFDQSxzQkFBeUIsS0FDekIsWUFBZSwyQkFDZixRQUFXLEtBQ1gsa0JBQXFCLEdBQ3JCLFVBQWEsQ0FDWCx3QkFBMkIsQ0FBQyxFQUM1QixpQ0FBb0MsQ0FDbEMsS0FBUSxLQUNSLEdBQU0sS0FDTixPQUFVLElBQ1osRUFDQSxnQkFBbUIsQ0FDakIsRUFBSyxDQUFDLENBQ1IsRUFDQSw4QkFBaUMsQ0FBQyxFQUNsQyxpQkFBb0IsQ0FDbEIscUJBQXdCLEtBQ3hCLE1BQVMsS0FDVCxtQkFBc0IsS0FDdEIsaUJBQW9CLEtBQ3BCLG1CQUFzQixLQUN0QixLQUFRLEtBQ1IsT0FBVSxLQUNWLEtBQVEsS0FDUixPQUFVLElBQ1osRUFDQSw0QkFBK0IsQ0FDN0Isd0JBQTJCLEtBQzNCLEtBQVEsS0FDUixRQUFXLEtBQ1gsR0FBTSxLQUNOLDJCQUE4QixLQUM5QixPQUFVLEtBQ1YsUUFBVyxJQUNiLEVBQ0Esa0NBQXFDLENBQ25DLFVBQWEsQ0FBQyxFQUNkLGtCQUFxQixLQUNyQixnQkFBbUIsS0FDbkIsa0JBQXFCLEtBQ3JCLE1BQVMsS0FDVCxZQUFlLENBQUMsRUFDaEIsS0FBUSxLQUNSLEdBQU0sS0FDTixPQUFVLEtBQ1YsT0FBVSxJQUNaLEVBQ0EsNkJBQWdDLENBQzlCLEtBQVEsS0FDUixHQUFNLEtBQ04sT0FBVSxLQUNWLE9BQVUsSUFDWixFQUNBLGdDQUFtQyxDQUNqQyxNQUFTLEtBQ1QsZ0JBQW1CLEtBQ25CLEdBQU0sS0FDTixVQUFhLEtBQ2IsT0FBVSxJQUNaLEVBQ0Esd0JBQTJCLENBQ3pCLENBQ0UsTUFBUyxLQUNULGdCQUFtQixLQUNuQixHQUFNLEtBQ04sZ0JBQW1CLEtBQ25CLHFCQUF3QixFQUN4QixVQUFhLEtBQ2IsT0FBVSxLQUNWLGNBQWlCLENBQ2YsUUFBVyxLQUNYLFNBQVksS0FDWixLQUFRLEtBQ1IsTUFBUyxLQUNULEtBQVEsS0FDUixLQUFRLElBQ1YsQ0FDRixDQUNGLEVBQ0EsOEJBQWlDLENBQy9CLE1BQVMsS0FDVCxnQkFBbUIsS0FDbkIsR0FBTSxLQUNOLFVBQWEsS0FDYixPQUFVLEtBQ1YsY0FBaUIsQ0FDZixRQUFXLEtBQ1gsU0FBWSxLQUNaLEtBQVEsS0FDUixNQUFTLEtBQ1QsS0FBUSxLQUNSLEtBQVEsSUFDVixDQUNGLEVBQ0EsZ0NBQW1DLENBQ2pDLE1BQVMsS0FDVCxLQUFRLEtBQ1IsT0FBVSxLQUNWLEtBQVEsS0FDUixPQUFVLEtBQ1YsZ0JBQW1CLElBQ3JCLEVBQ0EsZ0JBQW1CLENBQ2pCLENBQ0UsVUFBYSxHQUNiLHFCQUF3QixLQUN4QixNQUFTLEtBQ1QsZ0JBQW1CLEtBQ25CLGdCQUFtQixLQUNuQixrQkFBcUIsS0FDckIsUUFBVyxLQUNYLEdBQU0sS0FDTixjQUFpQixNQUNqQixxQkFBd0IsRUFDeEIsT0FBVSxLQUNWLGVBQWtCLEtBQ2xCLFVBQWEsS0FDYixPQUFVLEtBQ1YsMEJBQTZCLENBQUMsRUFDOUIsZ0JBQW1CLElBQ3JCLENBQ0YsRUFDQSx3QkFBMkIsQ0FBQyxFQUM1Qix1Q0FBMEMsQ0FDeEMsQ0FDRSxNQUFTLEtBQ1QsUUFBVyxNQUNYLEtBQVEsS0FDUixPQUFVLEtBQ1YscUJBQXdCLEVBQ3hCLEtBQVEsS0FDUixPQUFVLEtBQ1YsUUFBVyxJQUNiLENBQ0YsRUFDQSxZQUFlLENBQ2IsS0FBUSxLQUNSLEdBQU0sS0FDTixPQUFVLEtBQ1YsT0FBVSxJQUNaLEVBQ0EsNEJBQStCLENBQUMsQ0FDbEMsRUFDQSxrQkFBcUIsS0FDckIsUUFBVyxHQUNYLFNBQVksS0FDWixRQUFXLENBQUMsRUFDWix5QkFBNEIsR0FDNUIsVUFBYSxLQUNiLFVBQWEsS0FDYixjQUFpQixRQUNqQixvQkFBdUIsS0FDdkIsUUFBVyxLQUNYLGNBQWlCLEtBQ2pCLGFBQWdCLEVBQ2hCLFdBQWMsRUFDZCxXQUFjLEtBQ2QsaUJBQW9CLEVBQ3BCLHFCQUF3QixDQUFDLEVBQ3pCLFNBQVksS0FDWixTQUFZLEdBQ1osc0JBQXlCLENBQ3ZCLENBQ0YsRUFDQSwwQkFBNkIsS0FDN0IsbUJBQXNCLENBQUMsRUFDdkIsYUFBZ0IsQ0FDZCxZQUFlLEdBQ2YsVUFBYSxDQUNYLENBQ0UsS0FBUSxLQUNSLFlBQWUsS0FDZixnQkFBbUIsa0RBQ25CLGFBQWdCLEtBQ2hCLGdCQUFtQixLQUNuQixjQUFpQixLQUNqQixZQUFlLDREQUNmLElBQU8sS0FDUCxRQUFXLEtBQ1gsVUFBYSxLQUNiLFdBQWMsRUFDZCxPQUFVLEtBQ1YsV0FBYyxNQUNkLFdBQWMsS0FDZCxRQUFXLEtBQ1gsV0FBYyxLQUNkLFNBQVksS0FDWixVQUFhLEtBQ2IsVUFBYSxHQUNiLFNBQVksS0FDWixTQUFZLEtBQ1osY0FBaUIsSUFDbkIsQ0FDRixFQUNBLFNBQVksQ0FBQyxFQUNiLFVBQWEsR0FDYixTQUFZLDZCQUNaLGFBQWdCLEdBQ2hCLGdCQUFtQixLQUNuQixRQUFXLEtBQ1gsWUFBZSxLQUNmLGVBQWtCLEtBQ2xCLG1CQUFzQixFQUN0QixTQUFZLEtBQ1osSUFBTyxHQUNQLGNBQWlCLEdBQ2pCLElBQU8sR0FDUCxLQUFRLEdBQ1IsZUFBa0IsS0FDbEIsa0JBQXFCLEtBQ3JCLGlCQUFvQixLQUNwQixZQUFlLEtBQ2YsV0FBYyxHQUNkLFFBQVcsS0FDWCxhQUFnQixHQUNoQixVQUFhLEdBQ2IsTUFBUyxHQUNULFFBQVcsR0FDWCxjQUFpQixDQUFDLENBQ3BCLEVBQ0Esb0JBQXVCLENBQ3JCLENBQ0UsVUFBYSxDQUNYLENBQ0UsS0FBUSxLQUNSLFlBQWUsS0FDZixnQkFBbUIsa0RBQ25CLGFBQWdCLEtBQ2hCLGdCQUFtQixLQUNuQixjQUFpQixLQUNqQixZQUFlLDREQUNmLElBQU8sS0FDUCxRQUFXLEtBQ1gsVUFBYSxLQUNiLFdBQWMsRUFDZCxPQUFVLEtBQ1YsV0FBYyxNQUNkLFdBQWMsS0FDZCxRQUFXLEtBQ1gsV0FBYyxLQUNkLFNBQVksS0FDWixVQUFhLEtBQ2IsVUFBYSxHQUNiLFNBQVksS0FDWixTQUFZLEtBQ1osY0FBaUIsSUFDbkIsQ0FDRixFQUNBLE1BQVMsR0FDVCxTQUFZLENBQUMsRUFDYixTQUFZLEtBQ1osU0FBWSxLQUNaLFlBQWUsS0FDZixJQUFPLEtBQ1AsVUFBYSxJQUNmLENBQ0YsRUFDQSxpQkFBb0IsR0FDcEIsV0FBYyxHQUNkLE9BQVUsS0FDVixXQUFjLEtBQ2QsUUFBVyxLQUNYLGNBQWlCLENBQ2YsQ0FDRSxRQUFXLEtBQ1gsZUFBa0IsS0FDbEIsVUFBYSxDQUNmLENBQ0YsRUFDQSxZQUFlLEtBQ2YsU0FBWSxDQUNWLENBQ0UsT0FBVSx1Q0FDVixPQUFVLEVBQ1YsS0FBUSxVQUNWLENBQ0YsRUFDQSxNQUFTLEtBQ1QsY0FBaUIsQ0FBQyxFQUNsQixRQUFXLEtBQ1gsV0FBYyxLQUNkLFlBQWUsQ0FBQyxDQUFBLEVBRVgsT0FBQUEsQ0FFVCxDQUNGLENBRUEsUUFBUSxJQUFJLHlCQUF5QixFQ2x1Q3JDLE1BQU02RixFQUFHLENBQ1AsWUFBWSxDQUFFLEdBQUFuRCxFQUFJLE1BQUF2RSxFQUFPLGVBQUEySCxFQUFnQixLQUFBekYsRUFBTSxTQUFBdEIsRUFBVSxZQUFBa0YsRUFBYSxNQUFBQyxHQUFRLENBRXpFLEdBQUEsQ0FDRCxLQUFLLEtBQU8sc0JBQ2QsS0FBSyxZQUFjRCxFQUNuQixLQUFLLE1BQVFDLEVBRWIsS0FBSyxTQUFXLEtBQUssZUFBZSxLQUFLLFlBQWEsS0FBSyxLQUFLLEVBRXhELFFBQUEsSUFBSSx3QkFBeUIsS0FBSyxXQUFXLEVBQzdDLFFBQUEsSUFBSSxrQkFBbUIsS0FBSyxLQUFLLEVBQ2pDLFFBQUEsSUFBSSxxQkFBc0IsS0FBSyxRQUFRLEVBRS9DLEtBQUssUUFBVSxJQUFJcEYsRUFBUUMsRUFBVStHLEVBQWdCN0IsQ0FBVyxFQUN4RCxRQUFBLElBQUksb0JBQXFCLEtBQUssT0FBTyxFQUV4QyxLQUFBLEtBQU8sSUFBSWpDLEVBQUssQ0FDbEIsTUFBQTdELEVBQ0EsUUFBUyxLQUFLLFFBQ2QsS0FBQWtDLEVBQ0EsU0FBQXRCLEVBQ0EsU0FBVSxLQUFLLFFBQUEsQ0FDZixFQUVJLFFBQUEsSUFBSSxpQkFBa0IsS0FBSyxJQUFJLEVBQ2xDLEtBQUEsVUFBWSxJQUFJMEQsRUFBVUMsRUFBSSxLQUFLLFFBQVMsS0FBSyxLQUFNM0QsQ0FBUSxFQUM1RCxRQUFBLElBQUksc0JBQXVCLEtBQUssU0FBUyxFQUVqRCxLQUFLLFNBQVcsSUFBSWlGLEdBQ2pCdEIsRUFDQSxLQUFLLFFBQ0wsS0FBSyxLQUNMM0QsRUFDQSxLQUFLLFlBQ0wsS0FBSyxNQUNMLEtBQUssUUFBQSxFQUdBLFFBQUEsSUFBSSxxQkFBc0IsS0FBSyxRQUFRLEVBQ3ZDLFFBQUEsSUFBSSxVQUFXLElBQUksUUFDbEIxQixFQUFPLENBQ0wsUUFBQSxJQUFJLGFBQWNBLENBQUssQ0FDbEMsQ0FJRCxDQUNBLGVBQWU0SCxFQUFNZixFQUFPLENBQ3pCLEdBQUlBLEVBQ08sTUFBQSxNQUVSLE9BQVFlLEVBQU0sQ0FDWixJQUFLLFFBQ0wsSUFBSyxRQUNMLElBQUssUUFDSSxNQUFBLE1BQ1QsSUFBSyxRQUNJLE1BQUEsTUFDVCxRQUNVLGNBQUEsTUFBTSxnQ0FBaUNBLENBQUksRUFDN0MsZ0NBQWtDQSxDQUM1QyxDQUVOLENBQ0EsU0FBU2MsRUFBYSxHQUFJLENBQ3hCLFFBQVEsSUFBSSxHQUFHLEtBQUssSUFBSSxNQUFNQSxDQUFVLEVBQUUsRUFDdEMsSUFBQTlFLEVBQ0osT0FBUThFLEVBQVksQ0FDbEIsSUFBSyxrQkFDTTlFLEVBQUEsS0FBSyxVQUFVLGtCQUN4QixNQUNGLElBQUssV0FDTUEsRUFBQSxLQUFLLFNBQVMsU0FDdkIsTUFDRixJQUFLLGdCQUNNQSxFQUFBLEtBQUssVUFBVSxPQUN4QixNQUNGLElBQUssa0JBQ01BLEVBQUEsS0FBSyxTQUFTLE9BQ3ZCLE1BQ0YsSUFBSyxlQUNNQSxFQUFBLEtBQUssVUFBVSxPQUN4QixNQUNGLElBQUssb0JBQ01BLEVBQUEsS0FBSyxTQUFTLE9BQ3ZCLE1BQ0YsSUFBSyxZQUVNQSxFQUFBLEtBQUssU0FBUyxPQUFPLENBQUMsRUFDL0IsTUFDRixJQUFLLGtCQUVNQSxFQUFBLEtBQUssU0FBUyxPQUFPLENBQUMsRUFDL0IsTUFDRixJQUFLLG1CQUNNQSxFQUFBLEtBQUssVUFBVSxVQUN4QixNQUNGLElBQUssbUJBQ01BLEVBQUEsS0FBSyxVQUNYLFNBQVMsRUFDVCxLQUFLLElBQU0sS0FBSyxTQUFTLFNBQUEsQ0FBVSxFQUN0QyxNQUNGLFFBQ0VBLEVBQVMsUUFBUSxRQUFVLEVBQUEsS0FBSyxJQUFNLENBQ3JDLGNBQVEsTUFBTSxHQUFHLEtBQUssSUFBSSxpQkFBaUI4RSxDQUFVLGdCQUFnQixFQUM5RCxHQUFHLEtBQUssSUFBSSxpQkFBaUJBLENBQVUsZ0JBQUEsQ0FDOUMsRUFDRCxLQUNKLENBQ08sT0FBQTlFLENBQ1QsQ0FDRixDQzlHQSxRQUFRLElBQUksUUFBUSxFQUVwQixJQUFJOUMsRUFBUSxJQUFJTixFQUNoQk0sRUFBTSxNQUFNLEVBQ1osSUFBSVksRUFBVyxDQUFBLEVBQ1hpSCxFQUFlLENBQUEsRUFFZkMsRUFDQUMsRUFDQUMsR0FDQUMsRUFBdUIsQ0FBQSxFQWtDM0IsU0FBU0MsR0FBMkJ4QixFQUFHLENBQzdCLFFBQUEsSUFBSSxhQUFjQSxDQUFDLEVBQ1JxQixFQUFBckIsRUFDRnFCLEVBQUEsVUFBVSxZQUFZLFNBQVVwRSxFQUFHLENBQzFDLGVBQUEsSUFBSSxlQUFnQkEsQ0FBQyxFQUN0QixFQUFBLENBQ1IsQ0FDSCxDQUVBLFNBQVN3RSxHQUFvQnpCLEVBQUcsQ0FDOUIsUUFBUSxJQUFJc0IsRUFBUyxFQUNyQixRQUFRLElBQUksY0FBY3RCLEVBQUUsSUFBSSxZQUFZLEVBQzVDLElBQUlwRixFQUFNMkcsRUFBcUIsS0FBTS9FLEdBQzVCQSxHQUFNd0QsQ0FDZCxFQUNPLFFBQUEsSUFBSXVCLEVBQXNCM0csQ0FBRyxFQUNoQ0EsR0FDSDJHLEVBQXFCLEtBQUt2QixDQUFDLEVBRXpCQSxFQUFBQSxFQUNGQSxFQUFBLFVBQVUsWUFBWSxTQUFVL0MsRUFBRyxDQUMzQixlQUFBLElBQUlzRSxFQUFzQixJQUFJLEVBQ3RDLFFBQVEsSUFBSSxHQUFHLEtBQUssSUFBSSxTQUFVdEUsQ0FBQyxFQUM1QixFQUFBLENBQ1IsQ0FDSCxDQUVBLFNBQVN5RSxHQUFVMUIsRUFBRyxDQUVoQixHQURJLFFBQUEsSUFBSSxtQkFBb0JBLENBQUMsRUFDN0JBLEVBQUUsTUFBUSxtQkFDWixPQUFPd0IsR0FBMkJ4QixDQUFDLEVBRXJDLEdBQUlBLEVBQUUsS0FBSyxTQUFTLFdBQVcsRUFDN0IsT0FBT3lCLEdBQW9CekIsQ0FBQyxFQUVqQm9CLEVBQUFwQixFQUNGb0IsRUFBQSxVQUFVLFlBQVksU0FBVW5FLEVBQUcsQ0FDeEMsR0FBQUEsRUFBRSxNQUFRLGVBSWQsS0FBSTBFLEVBQUtSLEVBQWEsS0FDbkIzRSxHQUFPQSxFQUFHLEtBQU9TLEVBQUUsS0FBT1QsRUFBRyxTQUFXUyxFQUFFLE9BQUEsRUFFckMsUUFBQSxJQUNOLDZEQUNBQSxFQUNBa0UsRUFDQVEsQ0FBQSxFQUVFQSxHQUNNLFFBQUEsSUFBSSxvQkFBc0IxRSxFQUFFLEdBQUcsRUFDdkNrRSxFQUFlQSxFQUFhLE9BQVE5SCxHQUFTQSxHQUFRc0ksQ0FBRSxFQUMvQyxRQUFBLElBQUksWUFBYUEsRUFBRyxRQUFRLEVBQy9CLEtBQUEsV0FBVyxZQUFZQSxFQUFHLFFBQVEsR0FFL0IsUUFBQSxJQUFJLHVDQUF5QzFFLEVBQUUsR0FBRyxFQUM1RCxDQUNELENBQ0gsQ0FFQTJFLEVBQUFBLFFBQWdCLFVBQVUsWUFBWUMsRUFBYSxFQUNuREQsRUFBQUEsUUFBZ0IsVUFBVSxZQUFZRixFQUFTLEVBRS9DLFNBQVNHLEdBQWNDLEVBQVNqSyxFQUFRQyxFQUFjLENBT3BELEdBTEEsUUFBUSxJQUFJLG1CQUFtQixFQUszQixDQUFBZ0ssRUFBUSxTQUdSLElBQUFBLEVBQVEsUUFBVSxjQUFlLENBQ25DLElBQUlqSCxFQUFJLElBQUksaUJBQWlCdkIsRUFBT3dJLEVBQVEsS0FBSyxFQUNqRCxPQUFBakgsRUFBRSxNQUFNLEVBQUUsS0FBTTRDLEdBQ1AzRixFQUFhLENBQUUsS0FBTSxLQUFLLFVBQVUyRixDQUFJLEVBQUcsQ0FDbkQsRUFDTSxFQUNULENBQ0ksSUFBQXJCLEVBQ0EyRixFQUFpQixDQUFBLEVBRXJCLEdBQUlELEVBQVEsZUFDVkMsRUFBaUIsT0FBTyxPQUFPLENBQUMsRUFBR0QsRUFBUSxRQUFRLEVBRW5EQyxFQUFlLGVBQWlCRCxFQUFRLGVBQ3hDQyxFQUFlLGdCQUFrQixPQUU1QixDQUNMLEdBQUk3SCxFQUFTLGdCQUlQLEdBSEo2SCxFQUFpQjdILEVBQVMsZUFBZSxPQUN0Q3NDLEdBQU9BLEVBQUcsUUFBVXNGLEVBQVEsY0FBQSxFQUUzQixDQUFDQyxFQUFlLFFBQVUsQ0FBQyxPQUFPLEtBQUtBLEVBQWUsQ0FBQyxDQUFDLEVBQUUsT0FDL0MsT0FBQWpLLEVBQUEsQ0FDWCxLQUFNLEdBQ04sSUFBSywyQ0FBQSxDQUNOLEVBQ00sT0FHSSxRQUFBQSxFQUFBLENBQ1gsS0FBTSxHQUNOLElBQUssMkNBQUEsQ0FDTixFQUNNLEdBR1QsR0FEQWlLLEVBQWlCQSxFQUFlLENBQUMsRUFDN0IsQ0FBQ0EsRUFBZSxhQUFlLENBQUNBLEVBQWUsZUFDakQsT0FBQWpLLEVBQWEsQ0FBRSxLQUFNLEdBQU8sSUFBSywrQkFBaUMsQ0FBQSxFQUMzRCxHQUVMLEdBQUEsQ0FBQ2dLLEVBQVEsT0FDWCxPQUFBaEssRUFBYSxDQUFFLEtBQU0sR0FBTyxJQUFLLG1CQUFxQixDQUFBLEVBQy9DLEVBR1gsQ0FJQSxPQURRLFFBQUEsSUFBSSxlQUFnQmdLLENBQU8sRUFDM0JBLEVBQVEsT0FBUSxDQUN0QixJQUFLLEtBQ0gsSUFBSUUsRUFBWSxDQUNkLEdBQUlGLEVBQVEsR0FDWixNQUFBeEksRUFDQSxlQUFnQndJLEVBQVEsZUFDeEIsS0FBTUEsRUFBUSxLQUNkLFNBQVVDLEVBQ1YsWUFBYUQsRUFBUSxhQUFlQSxFQUFRLEtBQzVDLE1BQU9BLEVBQVEsT0FBUyxLQUFVLEdBQU1BLEVBQVEsS0FBQSxFQUU5Q0csRUFBSyxJQUFJakIsR0FBR2dCLENBQVMsRUFDaEI1RixFQUFBNkYsRUFBRyxTQUFTSCxFQUFRLE1BQU0sRUFDbkMsTUFDRixJQUFLLFNBQ0gsUUFBUSxJQUFJLDJCQUEyQixFQUN2QyxNQUNGLFFBQ0UxRixFQUFTLFFBQVEsUUFBVSxFQUFBLEtBQUssSUFBTSxDQUNwQyxLQUFNLHFCQUFxQjBGLEVBQVEsTUFBTSxZQUFZQSxFQUFRLE1BQU0sRUFBQSxDQUNwRSxFQUNELEtBQ0osQ0FFRyxPQUFBMUYsRUFBQSxLQUFNeEIsR0FBUSxDQUNULElBQUE2QyxFQUFPLE9BQU8sT0FBTzdDLEVBQUssQ0FBRSxLQUFNQSxFQUFJLEtBQU0sRUFDeEMsZUFBQSxJQUFJLGVBQWdCNkMsQ0FBSSxFQUN6QjNGLEVBQWEyRixDQUFJLENBQUEsQ0FDekIsRUFDQSxNQUFPckYsSUFDTixRQUFRLElBQUkscUJBQXNCLENBQUUsS0FBTSxHQUFPLElBQUFBLEVBQVUsRUFDcEROLEVBQWEsQ0FBRSxLQUFNLEdBQU8sSUFBQU0sQ0FBSyxDQUFBLEVBQ3pDLEVBR0QsUUFBUSxJQUFJLGlCQUFpQixFQUN4QixHQUNULFdBRWdCLE1BQU0sSUFBQSxFQUFNLEtBQU04SixHQUFtQixDQUMzQyxRQUFBLElBQUksNkJBQThCQSxDQUFjLEVBQzdDaEksRUFBQWdJLENBQ2IsQ0FBQyxFQUVEMUksRUFBQUEsUUFBZ0IsVUFBVSxZQUFhMkksR0FBZ0IsQ0FDckQsVUFBVzVNLEtBQU80TSxFQUNaQSxFQUFZLGVBQWU1TSxDQUFHLElBQ2hDMkUsRUFBUzNFLENBQUcsRUFBSTRNLEVBQVk1TSxDQUFHLEVBQUUsU0FHdkMsQ0FBQyIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswXX0=
